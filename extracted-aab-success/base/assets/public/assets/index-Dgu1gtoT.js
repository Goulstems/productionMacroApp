var TP=Object.defineProperty;var A0=e=>{throw TypeError(e)};var PP=(e,t,r)=>t in e?TP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ge=(e,t,r)=>PP(e,typeof t!="symbol"?t+"":t,r),Bm=(e,t,r)=>t.has(e)||A0("Cannot "+r);var I=(e,t,r)=>(Bm(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>t.has(e)?A0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ve=(e,t,r,n)=>(Bm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ue=(e,t,r)=>(Bm(e,t,"access private method"),r);var _u=(e,t,r,n)=>({set _(s){ve(e,t,s,r)},get _(){return I(e,t,n)}});function MP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var rj={exports:{}},Mh={},nj={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),RP=Symbol.for("react.portal"),OP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),IP=Symbol.for("react.profiler"),LP=Symbol.for("react.provider"),FP=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),UP=Symbol.for("react.suspense"),zP=Symbol.for("react.memo"),BP=Symbol.for("react.lazy"),I0=Symbol.iterator;function VP(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var sj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aj=Object.assign,ij={};function Il(e,t,r){this.props=e,this.context=t,this.refs=ij,this.updater=r||sj}Il.prototype.isReactComponent={};Il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oj(){}oj.prototype=Il.prototype;function Jv(e,t,r){this.props=e,this.context=t,this.refs=ij,this.updater=r||sj}var ex=Jv.prototype=new oj;ex.constructor=Jv;aj(ex,Il.prototype);ex.isPureReactComponent=!0;var L0=Array.isArray,lj=Object.prototype.hasOwnProperty,tx={current:null},cj={key:!0,ref:!0,__self:!0,__source:!0};function dj(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)lj.call(t,n)&&!cj.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zd,type:e,key:i,ref:o,props:s,_owner:tx.current}}function WP(e,t){return{$$typeof:zd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rx(e){return typeof e=="object"&&e!==null&&e.$$typeof===zd}function qP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var F0=/\/+/g;function Vm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qP(""+e.key):t.toString(36)}function nf(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zd:case RP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Vm(o,0):n,L0(s)?(r="",e!=null&&(r=e.replace(F0,"$&/")+"/"),nf(s,t,r,"",function(d){return d})):s!=null&&(rx(s)&&(s=WP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(F0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",L0(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Vm(i,l);o+=nf(i,t,r,c,s)}else if(c=VP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Vm(i,l++),o+=nf(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(e,t,r){if(e==null)return e;var n=[],s=0;return nf(e,n,"","",function(i){return t.call(r,i,s++)}),n}function HP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},sf={transition:null},YP={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:sf,ReactCurrentOwner:tx};function uj(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:ju,forEach:function(e,t,r){ju(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ju(e,function(){t++}),t},toArray:function(e){return ju(e,function(t){return t})||[]},only:function(e){if(!rx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Il;He.Fragment=OP;He.Profiler=IP;He.PureComponent=Jv;He.StrictMode=AP;He.Suspense=UP;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;He.act=uj;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aj({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lj.call(t,c)&&!cj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:zd,type:e.type,key:s,ref:i,props:n,_owner:o}};He.createContext=function(e){return e={$$typeof:FP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LP,_context:e},e.Consumer=e};He.createElement=dj;He.createFactory=function(e){var t=dj.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:$P,render:e}};He.isValidElement=rx;He.lazy=function(e){return{$$typeof:BP,_payload:{_status:-1,_result:e},_init:HP}};He.memo=function(e,t){return{$$typeof:zP,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=sf.transition;sf.transition={};try{e()}finally{sf.transition=t}};He.unstable_act=uj;He.useCallback=function(e,t){return wr.current.useCallback(e,t)};He.useContext=function(e){return wr.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};He.useEffect=function(e,t){return wr.current.useEffect(e,t)};He.useId=function(){return wr.current.useId()};He.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return wr.current.useMemo(e,t)};He.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};He.useRef=function(e){return wr.current.useRef(e)};He.useState=function(e){return wr.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return wr.current.useTransition()};He.version="18.3.1";nj.exports=He;var m=nj.exports;const K=tj(m),fj=MP({__proto__:null,default:K},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=m,GP=Symbol.for("react.element"),QP=Symbol.for("react.fragment"),ZP=Object.prototype.hasOwnProperty,XP=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JP={key:!0,ref:!0,__self:!0,__source:!0};function hj(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ZP.call(t,n)&&!JP.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:GP,type:e,key:i,ref:o,props:s,_owner:XP.current}}Mh.Fragment=QP;Mh.jsx=hj;Mh.jsxs=hj;rj.exports=Mh;var a=rj.exports,mj={exports:{}},Jr={},pj={exports:{}},gj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,O){var H=S.length;S.push(O);e:for(;0<H;){var V=H-1>>>1,ee=S[V];if(0<s(ee,O))S[V]=O,S[H]=ee,H=V;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var O=S[0],H=S.pop();if(H!==O){S[0]=H;e:for(var V=0,ee=S.length,je=ee>>>1;V<je;){var Z=2*(V+1)-1,Ne=S[Z],ue=Z+1,F=S[ue];if(0>s(Ne,H))ue<ee&&0>s(F,Ne)?(S[V]=F,S[ue]=H,V=ue):(S[V]=Ne,S[Z]=H,V=Z);else if(ue<ee&&0>s(F,H))S[V]=F,S[ue]=H,V=ue;else break e}}return O}function s(S,O){var H=S.sortIndex-O.sortIndex;return H!==0?H:S.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,y=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var O=r(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=S)n(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function _(S){if(b=!1,g(S),!x)if(r(c)!==null)x=!0,B(j);else{var O=r(d);O!==null&&U(_,O.startTime-S)}}function j(S,O){x=!1,b&&(b=!1,v(E),E=-1),y=!0;var H=p;try{for(g(O),f=r(c);f!==null&&(!(f.expirationTime>O)||S&&!L());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var ee=V(f.expirationTime<=O);O=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),g(O)}else n(c);f=r(c)}if(f!==null)var je=!0;else{var Z=r(d);Z!==null&&U(_,Z.startTime-O),je=!1}return je}finally{f=null,p=H,y=!1}}var k=!1,N=null,E=-1,R=5,T=-1;function L(){return!(e.unstable_now()-T<R)}function D(){if(N!==null){var S=e.unstable_now();T=S;var O=!0;try{O=N(!0,S)}finally{O?C():(k=!1,N=null)}}else k=!1}var C;if(typeof h=="function")C=function(){h(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=D,C=function(){$.postMessage(null)}}else C=function(){w(D,0)};function B(S){N=S,k||(k=!0,C())}function U(S,O){E=w(function(){S(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,B(j))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var H=p;p=O;try{return S()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,O){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var H=p;p=S;try{return O()}finally{p=H}},e.unstable_scheduleCallback=function(S,O,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,S){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,S={id:u++,callback:O,priorityLevel:S,startTime:H,expirationTime:ee,sortIndex:-1},H>V?(S.sortIndex=H,t(d,S),r(c)===null&&S===r(d)&&(b?(v(E),E=-1):b=!0,U(_,H-V))):(S.sortIndex=ee,t(c,S),x||y||(x=!0,B(j))),S},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(S){var O=p;return function(){var H=p;p=O;try{return S.apply(this,arguments)}finally{p=H}}}})(gj);pj.exports=gj;var eM=pj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM=m,Xr=eM;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vj=new Set,Yc={};function Xi(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(Yc[e]=t,e=0;e<t.length;e++)vj.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,rM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$0={},U0={};function nM(e){return tg.call(U0,e)?!0:tg.call($0,e)?!1:rM.test(e)?U0[e]=!0:($0[e]=!0,!1)}function sM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aM(e,t,r,n){if(t===null||typeof t>"u"||sM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nx,sx);tr[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nx,sx);tr[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nx,sx);tr[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function ax(e,t,r,n){var s=tr.hasOwnProperty(t)?tr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aM(t,r,s,n)&&(r=null),n||s===null?nM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qs=tM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),To=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),xj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),wj=Symbol.for("react.offscreen"),z0=Symbol.iterator;function Jl(e){return e===null||typeof e!="object"?null:(e=z0&&e[z0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Wm;function gc(e){if(Wm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wm=t&&t[1]||""}return`
`+Wm+e}var qm=!1;function Hm(e,t){if(!e||qm)return"";qm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gc(e):""}function iM(e){switch(e.tag){case 5:return gc(e.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return e=Hm(e.type,!1),e;case 11:return e=Hm(e.type.render,!1),e;case 1:return e=Hm(e.type,!0),e;default:return""}}function ag(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Po:return"Fragment";case To:return"Portal";case rg:return"Profiler";case ix:return"StrictMode";case ng:return"Suspense";case sg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yj:return(e.displayName||"Context")+".Consumer";case xj:return(e._context.displayName||"Context")+".Provider";case ox:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lx:return t=e.displayName||null,t!==null?t:ag(e.type)||"Memo";case oa:t=e._payload,e=e._init;try{return ag(e(t))}catch{}}return null}function oM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(t);case 8:return t===ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lM(e){var t=bj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Su(e){e._valueTracker||(e._valueTracker=lM(e))}function _j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ig(e,t){var r=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function B0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jj(e,t){t=t.checked,t!=null&&ax(e,"checked",t,!1)}function og(e,t){jj(e,t);var r=$a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lg(e,t.type,r):t.hasOwnProperty("defaultValue")&&lg(e,t.type,$a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function lg(e,t,r){(t!=="number"||kf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vc=Array.isArray;function Vo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$a(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(vc(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$a(r)}}function Nj(e,t){var r=$a(t.value),n=$a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function q0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cu,Cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cM=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(e){cM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ec[t]=Ec[e]})});function kj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ec.hasOwnProperty(e)&&Ec[e]?(""+t).trim():t+"px"}function Ej(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var dM=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(e,t){if(t){if(dM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function fg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=null;function cx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mg=null,Wo=null,qo=null;function H0(e){if(e=Wd(e)){if(typeof mg!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Ih(t),mg(e.stateNode,e.type,t))}}function Tj(e){Wo?qo?qo.push(e):qo=[e]:Wo=e}function Pj(){if(Wo){var e=Wo,t=qo;if(qo=Wo=null,H0(e),t)for(e=0;e<t.length;e++)H0(t[e])}}function Mj(e,t){return e(t)}function Dj(){}var Ym=!1;function Rj(e,t,r){if(Ym)return e(t,r);Ym=!0;try{return Mj(e,t,r)}finally{Ym=!1,(Wo!==null||qo!==null)&&(Dj(),Pj())}}function Gc(e,t){var r=e.stateNode;if(r===null)return null;var n=Ih(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var pg=!1;if(zs)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){pg=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{pg=!1}function uM(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Tc=!1,Ef=null,Tf=!1,gg=null,fM={onError:function(e){Tc=!0,Ef=e}};function hM(e,t,r,n,s,i,o,l,c){Tc=!1,Ef=null,uM.apply(fM,arguments)}function mM(e,t,r,n,s,i,o,l,c){if(hM.apply(this,arguments),Tc){if(Tc){var d=Ef;Tc=!1,Ef=null}else throw Error(J(198));Tf||(Tf=!0,gg=d)}}function Ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Y0(e){if(Ji(e)!==e)throw Error(J(188))}function pM(e){var t=e.alternate;if(!t){if(t=Ji(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Y0(s),e;if(i===n)return Y0(s),t;i=i.sibling}throw Error(J(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function Aj(e){return e=pM(e),e!==null?Ij(e):null}function Ij(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ij(e);if(t!==null)return t;e=e.sibling}return null}var Lj=Xr.unstable_scheduleCallback,K0=Xr.unstable_cancelCallback,gM=Xr.unstable_shouldYield,vM=Xr.unstable_requestPaint,Rt=Xr.unstable_now,xM=Xr.unstable_getCurrentPriorityLevel,dx=Xr.unstable_ImmediatePriority,Fj=Xr.unstable_UserBlockingPriority,Pf=Xr.unstable_NormalPriority,yM=Xr.unstable_LowPriority,$j=Xr.unstable_IdlePriority,Dh=null,fs=null;function wM(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:jM,bM=Math.log,_M=Math.LN2;function jM(e){return e>>>=0,e===0?32:31-(bM(e)/_M|0)|0}var ku=64,Eu=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=xc(l):(i&=o,i!==0&&(n=xc(i)))}else o=r&~s,o!==0?n=xc(o):i!==0&&(n=xc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),s=1<<r,n|=e[r],t&=~s;return n}function NM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=NM(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function vg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uj(){var e=ku;return ku<<=1,!(ku&4194240)&&(ku=64),e}function Km(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function CM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ux(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var nt=0;function zj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bj,fx,Vj,Wj,qj,xg=!1,Tu=[],ka=null,Ea=null,Ta=null,Qc=new Map,Zc=new Map,da=[],kM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(t.pointerId)}}function tc(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wd(t),t!==null&&fx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function EM(e,t,r,n,s){switch(t){case"focusin":return ka=tc(ka,e,t,r,n,s),!0;case"dragenter":return Ea=tc(Ea,e,t,r,n,s),!0;case"mouseover":return Ta=tc(Ta,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Qc.set(i,tc(Qc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zc.set(i,tc(Zc.get(i)||null,e,t,r,n,s)),!0}return!1}function Hj(e){var t=bi(e.target);if(t!==null){var r=Ji(t);if(r!==null){if(t=r.tag,t===13){if(t=Oj(r),t!==null){e.blockedOn=t,qj(e.priority,function(){Vj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function af(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hg=n,r.target.dispatchEvent(n),hg=null}else return t=Wd(r),t!==null&&fx(t),e.blockedOn=r,!1;t.shift()}return!0}function Q0(e,t,r){af(e)&&r.delete(t)}function TM(){xg=!1,ka!==null&&af(ka)&&(ka=null),Ea!==null&&af(Ea)&&(Ea=null),Ta!==null&&af(Ta)&&(Ta=null),Qc.forEach(Q0),Zc.forEach(Q0)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,xg||(xg=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,TM)))}function Xc(e){function t(s){return rc(s,e)}if(0<Tu.length){rc(Tu[0],e);for(var r=1;r<Tu.length;r++){var n=Tu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ka!==null&&rc(ka,e),Ea!==null&&rc(Ea,e),Ta!==null&&rc(Ta,e),Qc.forEach(t),Zc.forEach(t),r=0;r<da.length;r++)n=da[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<da.length&&(r=da[0],r.blockedOn===null);)Hj(r),r.blockedOn===null&&da.shift()}var Ho=Qs.ReactCurrentBatchConfig,Df=!0;function PM(e,t,r,n){var s=nt,i=Ho.transition;Ho.transition=null;try{nt=1,hx(e,t,r,n)}finally{nt=s,Ho.transition=i}}function MM(e,t,r,n){var s=nt,i=Ho.transition;Ho.transition=null;try{nt=4,hx(e,t,r,n)}finally{nt=s,Ho.transition=i}}function hx(e,t,r,n){if(Df){var s=yg(e,t,r,n);if(s===null)sp(e,t,n,Rf,r),G0(e,n);else if(EM(s,e,t,r,n))n.stopPropagation();else if(G0(e,n),t&4&&-1<kM.indexOf(e)){for(;s!==null;){var i=Wd(s);if(i!==null&&Bj(i),i=yg(e,t,r,n),i===null&&sp(e,t,n,Rf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else sp(e,t,n,null,r)}}var Rf=null;function yg(e,t,r,n){if(Rf=null,e=cx(n),e=bi(e),e!==null)if(t=Ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Oj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rf=e,null}function Yj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xM()){case dx:return 1;case Fj:return 4;case Pf:case yM:return 16;case $j:return 536870912;default:return 16}default:return 16}}var Na=null,mx=null,of=null;function Kj(){if(of)return of;var e,t=mx,r=t.length,n,s="value"in Na?Na.value:Na.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return of=s.slice(e,1<n?1-n:void 0)}function lf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function Z0(){return!1}function en(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pu:Z0,this.isPropagationStopped=Z0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=en(Ll),Vd=Ct({},Ll,{view:0,detail:0}),DM=en(Vd),Gm,Qm,nc,Rh=Ct({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nc&&(nc&&e.type==="mousemove"?(Gm=e.screenX-nc.screenX,Qm=e.screenY-nc.screenY):Qm=Gm=0,nc=e),Gm)},movementY:function(e){return"movementY"in e?e.movementY:Qm}}),X0=en(Rh),RM=Ct({},Rh,{dataTransfer:0}),OM=en(RM),AM=Ct({},Vd,{relatedTarget:0}),Zm=en(AM),IM=Ct({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),LM=en(IM),FM=Ct({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$M=en(FM),UM=Ct({},Ll,{data:0}),J0=en(UM),zM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VM[e])?!!t[e]:!1}function gx(){return WM}var qM=Ct({},Vd,{key:function(e){if(e.key){var t=zM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(e){return e.type==="keypress"?lf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HM=en(qM),YM=Ct({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=en(YM),KM=Ct({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),GM=en(KM),QM=Ct({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZM=en(QM),XM=Ct({},Rh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JM=en(XM),eD=[9,13,27,32],vx=zs&&"CompositionEvent"in window,Pc=null;zs&&"documentMode"in document&&(Pc=document.documentMode);var tD=zs&&"TextEvent"in window&&!Pc,Gj=zs&&(!vx||Pc&&8<Pc&&11>=Pc),tw=" ",rw=!1;function Qj(e,t){switch(e){case"keyup":return eD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function rD(e,t){switch(e){case"compositionend":return Zj(t);case"keypress":return t.which!==32?null:(rw=!0,tw);case"textInput":return e=t.data,e===tw&&rw?null:e;default:return null}}function nD(e,t){if(Mo)return e==="compositionend"||!vx&&Qj(e,t)?(e=Kj(),of=mx=Na=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gj&&t.locale!=="ko"?null:t.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sD[e.type]:t==="textarea"}function Xj(e,t,r,n){Tj(n),t=Of(t,"onChange"),0<t.length&&(r=new px("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mc=null,Jc=null;function aD(e){c1(e,0)}function Oh(e){var t=Oo(e);if(_j(t))return e}function iD(e,t){if(e==="change")return t}var Jj=!1;if(zs){var Xm;if(zs){var Jm="oninput"in document;if(!Jm){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),Jm=typeof sw.oninput=="function"}Xm=Jm}else Xm=!1;Jj=Xm&&(!document.documentMode||9<document.documentMode)}function aw(){Mc&&(Mc.detachEvent("onpropertychange",e1),Jc=Mc=null)}function e1(e){if(e.propertyName==="value"&&Oh(Jc)){var t=[];Xj(t,Jc,e,cx(e)),Rj(aD,t)}}function oD(e,t,r){e==="focusin"?(aw(),Mc=t,Jc=r,Mc.attachEvent("onpropertychange",e1)):e==="focusout"&&aw()}function lD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oh(Jc)}function cD(e,t){if(e==="click")return Oh(t)}function dD(e,t){if(e==="input"||e==="change")return Oh(t)}function uD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:uD;function ed(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!tg.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ow(e,t){var r=iw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iw(r)}}function t1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r1(){for(var e=window,t=kf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kf(e.document)}return t}function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fD(e){var t=r1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t1(r.ownerDocument.documentElement,r)){if(n!==null&&xx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ow(r,i);var o=ow(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hD=zs&&"documentMode"in document&&11>=document.documentMode,Do=null,wg=null,Dc=null,bg=!1;function lw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bg||Do==null||Do!==kf(n)||(n=Do,"selectionStart"in n&&xx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dc&&ed(Dc,n)||(Dc=n,n=Of(wg,"onSelect"),0<n.length&&(t=new px("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Do)))}function Mu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ro={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},ep={},n1={};zs&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Ah(e){if(ep[e])return ep[e];if(!Ro[e])return e;var t=Ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n1)return ep[e]=t[r];return e}var s1=Ah("animationend"),a1=Ah("animationiteration"),i1=Ah("animationstart"),o1=Ah("transitionend"),l1=new Map,cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ja(e,t){l1.set(e,t),Xi(t,[e])}for(var tp=0;tp<cw.length;tp++){var rp=cw[tp],mD=rp.toLowerCase(),pD=rp[0].toUpperCase()+rp.slice(1);Ja(mD,"on"+pD)}Ja(s1,"onAnimationEnd");Ja(a1,"onAnimationIteration");Ja(i1,"onAnimationStart");Ja("dblclick","onDoubleClick");Ja("focusin","onFocus");Ja("focusout","onBlur");Ja(o1,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function dw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mM(n,t,void 0,e),e.currentTarget=null}function c1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;dw(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;dw(s,l,d),i=c}}}if(Tf)throw e=gg,Tf=!1,gg=null,e}function gt(e,t){var r=t[Cg];r===void 0&&(r=t[Cg]=new Set);var n=e+"__bubble";r.has(n)||(d1(t,e,2,!1),r.add(n))}function np(e,t,r){var n=0;t&&(n|=4),d1(r,e,n,t)}var Du="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Du]){e[Du]=!0,vj.forEach(function(r){r!=="selectionchange"&&(gD.has(r)||np(r,!1,e),np(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Du]||(t[Du]=!0,np("selectionchange",!1,t))}}function d1(e,t,r,n){switch(Yj(t)){case 1:var s=PM;break;case 4:s=MM;break;default:s=hx}r=s.bind(null,t,r,e),s=void 0,!pg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function sp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=bi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Rj(function(){var d=i,u=cx(r),f=[];e:{var p=l1.get(e);if(p!==void 0){var y=px,x=e;switch(e){case"keypress":if(lf(r)===0)break e;case"keydown":case"keyup":y=HM;break;case"focusin":x="focus",y=Zm;break;case"focusout":x="blur",y=Zm;break;case"beforeblur":case"afterblur":y=Zm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=X0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=GM;break;case s1:case a1:case i1:y=LM;break;case o1:y=ZM;break;case"scroll":y=DM;break;case"wheel":y=JM;break;case"copy":case"cut":case"paste":y=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ew}var b=(t&4)!==0,w=!b&&e==="scroll",v=b?p!==null?p+"Capture":null:p;b=[];for(var h=d,g;h!==null;){g=h;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,v!==null&&(_=Gc(h,v),_!=null&&b.push(rd(h,_,g)))),w)break;h=h.return}0<b.length&&(p=new y(p,x,null,r,u),f.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==hg&&(x=r.relatedTarget||r.fromElement)&&(bi(x)||x[Bs]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=d,x=x?bi(x):null,x!==null&&(w=Ji(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(b=X0,_="onMouseLeave",v="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(b=ew,_="onPointerLeave",v="onPointerEnter",h="pointer"),w=y==null?p:Oo(y),g=x==null?p:Oo(x),p=new b(_,h+"leave",y,r,u),p.target=w,p.relatedTarget=g,_=null,bi(u)===d&&(b=new b(v,h+"enter",x,r,u),b.target=g,b.relatedTarget=w,_=b),w=_,y&&x)t:{for(b=y,v=x,h=0,g=b;g;g=po(g))h++;for(g=0,_=v;_;_=po(_))g++;for(;0<h-g;)b=po(b),h--;for(;0<g-h;)v=po(v),g--;for(;h--;){if(b===v||v!==null&&b===v.alternate)break t;b=po(b),v=po(v)}b=null}else b=null;y!==null&&uw(f,p,y,b,!1),x!==null&&w!==null&&uw(f,w,x,b,!0)}}e:{if(p=d?Oo(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=iD;else if(nw(p))if(Jj)j=dD;else{j=lD;var k=oD}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=cD);if(j&&(j=j(e,d))){Xj(f,j,r,u);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&lg(p,"number",p.value)}switch(k=d?Oo(d):window,e){case"focusin":(nw(k)||k.contentEditable==="true")&&(Do=k,wg=d,Dc=null);break;case"focusout":Dc=wg=Do=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,lw(f,r,u);break;case"selectionchange":if(hD)break;case"keydown":case"keyup":lw(f,r,u)}var N;if(vx)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mo?Qj(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Gj&&r.locale!=="ko"&&(Mo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mo&&(N=Kj()):(Na=u,mx="value"in Na?Na.value:Na.textContent,Mo=!0)),k=Of(d,E),0<k.length&&(E=new J0(E,e,null,r,u),f.push({event:E,listeners:k}),N?E.data=N:(N=Zj(r),N!==null&&(E.data=N)))),(N=tD?rD(e,r):nD(e,r))&&(d=Of(d,"onBeforeInput"),0<d.length&&(u=new J0("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=N))}c1(f,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Of(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gc(e,r),i!=null&&n.unshift(rd(e,i,s)),i=Gc(e,t),i!=null&&n.push(rd(e,i,s))),e=e.return}return n}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uw(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Gc(r,i),c!=null&&o.unshift(rd(r,c,l))):s||(c=Gc(r,i),c!=null&&o.push(rd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var vD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function fw(e){return(typeof e=="string"?e:""+e).replace(vD,`
`).replace(xD,"")}function Ru(e,t,r){if(t=fw(t),fw(e)!==t&&r)throw Error(J(425))}function Af(){}var _g=null,jg=null;function Ng(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,yD=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(e){return hw.resolve(null).then(e).catch(bD)}:Sg;function bD(e){setTimeout(function(){throw e})}function ap(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xc(t)}function Pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),ts="__reactFiber$"+Fl,nd="__reactProps$"+Fl,Bs="__reactContainer$"+Fl,Cg="__reactEvents$"+Fl,_D="__reactListeners$"+Fl,jD="__reactHandles$"+Fl;function bi(e){var t=e[ts];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bs]||r[ts]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mw(e);e!==null;){if(r=e[ts])return r;e=mw(e)}return t}e=r,r=e.parentNode}return null}function Wd(e){return e=e[ts]||e[Bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Ih(e){return e[nd]||null}var kg=[],Ao=-1;function ei(e){return{current:e}}function xt(e){0>Ao||(e.current=kg[Ao],kg[Ao]=null,Ao--)}function ut(e,t){Ao++,kg[Ao]=e.current,e.current=t}var Ua={},cr=ei(Ua),Rr=ei(!1),Ii=Ua;function pl(e,t){var r=e.type.contextTypes;if(!r)return Ua;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Or(e){return e=e.childContextTypes,e!=null}function If(){xt(Rr),xt(cr)}function pw(e,t,r){if(cr.current!==Ua)throw Error(J(168));ut(cr,t),ut(Rr,r)}function u1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(J(108,oM(e)||"Unknown",s));return Ct({},r,n)}function Lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,Ii=cr.current,ut(cr,e),ut(Rr,Rr.current),!0}function gw(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=u1(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,xt(Rr),xt(cr),ut(cr,e)):xt(Rr),ut(Rr,r)}var Ms=null,Lh=!1,ip=!1;function f1(e){Ms===null?Ms=[e]:Ms.push(e)}function ND(e){Lh=!0,f1(e)}function ti(){if(!ip&&Ms!==null){ip=!0;var e=0,t=nt;try{var r=Ms;for(nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ms=null,Lh=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(e+1)),Lj(dx,ti),s}finally{nt=t,ip=!1}}return null}var Io=[],Lo=0,Ff=null,$f=0,on=[],ln=0,Li=null,Rs=1,Os="";function fi(e,t){Io[Lo++]=$f,Io[Lo++]=Ff,Ff=e,$f=t}function h1(e,t,r){on[ln++]=Rs,on[ln++]=Os,on[ln++]=Li,Li=e;var n=Rs;e=Os;var s=32-Pn(n)-1;n&=~(1<<s),r+=1;var i=32-Pn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Rs=1<<32-Pn(t)+s|r<<s|n,Os=i+e}else Rs=1<<i|r<<s|n,Os=e}function yx(e){e.return!==null&&(fi(e,1),h1(e,1,0))}function wx(e){for(;e===Ff;)Ff=Io[--Lo],Io[Lo]=null,$f=Io[--Lo],Io[Lo]=null;for(;e===Li;)Li=on[--ln],on[ln]=null,Os=on[--ln],on[ln]=null,Rs=on[--ln],on[ln]=null}var qr=null,Br=null,wt=!1,Sn=null;function m1(e,t){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qr=e,Br=Pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Li!==null?{id:Rs,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qr=e,Br=null,!0):!1;default:return!1}}function Eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tg(e){if(wt){var t=Br;if(t){var r=t;if(!vw(e,t)){if(Eg(e))throw Error(J(418));t=Pa(r.nextSibling);var n=qr;t&&vw(e,t)?m1(n,r):(e.flags=e.flags&-4097|2,wt=!1,qr=e)}}else{if(Eg(e))throw Error(J(418));e.flags=e.flags&-4097|2,wt=!1,qr=e}}}function xw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qr=e}function Ou(e){if(e!==qr)return!1;if(!wt)return xw(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ng(e.type,e.memoizedProps)),t&&(t=Br)){if(Eg(e))throw p1(),Error(J(418));for(;t;)m1(e,t),t=Pa(t.nextSibling)}if(xw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Br=Pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=qr?Pa(e.stateNode.nextSibling):null;return!0}function p1(){for(var e=Br;e;)e=Pa(e.nextSibling)}function gl(){Br=qr=null,wt=!1}function bx(e){Sn===null?Sn=[e]:Sn.push(e)}var SD=Qs.ReactCurrentBatchConfig;function sc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Au(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yw(e){var t=e._init;return t(e._payload)}function g1(e){function t(v,h){if(e){var g=v.deletions;g===null?(v.deletions=[h],v.flags|=16):g.push(h)}}function r(v,h){if(!e)return null;for(;h!==null;)t(v,h),h=h.sibling;return null}function n(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function s(v,h){return v=Oa(v,h),v.index=0,v.sibling=null,v}function i(v,h,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<h?(v.flags|=2,h):g):(v.flags|=2,h)):(v.flags|=1048576,h)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,h,g,_){return h===null||h.tag!==6?(h=hp(g,v.mode,_),h.return=v,h):(h=s(h,g),h.return=v,h)}function c(v,h,g,_){var j=g.type;return j===Po?u(v,h,g.props.children,_,g.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===oa&&yw(j)===h.type)?(_=s(h,g.props),_.ref=sc(v,h,g),_.return=v,_):(_=pf(g.type,g.key,g.props,null,v.mode,_),_.ref=sc(v,h,g),_.return=v,_)}function d(v,h,g,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=mp(g,v.mode,_),h.return=v,h):(h=s(h,g.children||[]),h.return=v,h)}function u(v,h,g,_,j){return h===null||h.tag!==7?(h=Ri(g,v.mode,_,j),h.return=v,h):(h=s(h,g),h.return=v,h)}function f(v,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hp(""+h,v.mode,g),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Nu:return g=pf(h.type,h.key,h.props,null,v.mode,g),g.ref=sc(v,null,h),g.return=v,g;case To:return h=mp(h,v.mode,g),h.return=v,h;case oa:var _=h._init;return f(v,_(h._payload),g)}if(vc(h)||Jl(h))return h=Ri(h,v.mode,g,null),h.return=v,h;Au(v,h)}return null}function p(v,h,g,_){var j=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(v,h,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nu:return g.key===j?c(v,h,g,_):null;case To:return g.key===j?d(v,h,g,_):null;case oa:return j=g._init,p(v,h,j(g._payload),_)}if(vc(g)||Jl(g))return j!==null?null:u(v,h,g,_,null);Au(v,g)}return null}function y(v,h,g,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(g)||null,l(h,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nu:return v=v.get(_.key===null?g:_.key)||null,c(h,v,_,j);case To:return v=v.get(_.key===null?g:_.key)||null,d(h,v,_,j);case oa:var k=_._init;return y(v,h,g,k(_._payload),j)}if(vc(_)||Jl(_))return v=v.get(g)||null,u(h,v,_,j,null);Au(h,_)}return null}function x(v,h,g,_){for(var j=null,k=null,N=h,E=h=0,R=null;N!==null&&E<g.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var T=p(v,N,g[E],_);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(v,N),h=i(T,h,E),k===null?j=T:k.sibling=T,k=T,N=R}if(E===g.length)return r(v,N),wt&&fi(v,E),j;if(N===null){for(;E<g.length;E++)N=f(v,g[E],_),N!==null&&(h=i(N,h,E),k===null?j=N:k.sibling=N,k=N);return wt&&fi(v,E),j}for(N=n(v,N);E<g.length;E++)R=y(N,v,E,g[E],_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),h=i(R,h,E),k===null?j=R:k.sibling=R,k=R);return e&&N.forEach(function(L){return t(v,L)}),wt&&fi(v,E),j}function b(v,h,g,_){var j=Jl(g);if(typeof j!="function")throw Error(J(150));if(g=j.call(g),g==null)throw Error(J(151));for(var k=j=null,N=h,E=h=0,R=null,T=g.next();N!==null&&!T.done;E++,T=g.next()){N.index>E?(R=N,N=null):R=N.sibling;var L=p(v,N,T.value,_);if(L===null){N===null&&(N=R);break}e&&N&&L.alternate===null&&t(v,N),h=i(L,h,E),k===null?j=L:k.sibling=L,k=L,N=R}if(T.done)return r(v,N),wt&&fi(v,E),j;if(N===null){for(;!T.done;E++,T=g.next())T=f(v,T.value,_),T!==null&&(h=i(T,h,E),k===null?j=T:k.sibling=T,k=T);return wt&&fi(v,E),j}for(N=n(v,N);!T.done;E++,T=g.next())T=y(N,v,E,T.value,_),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),h=i(T,h,E),k===null?j=T:k.sibling=T,k=T);return e&&N.forEach(function(D){return t(v,D)}),wt&&fi(v,E),j}function w(v,h,g,_){if(typeof g=="object"&&g!==null&&g.type===Po&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Nu:e:{for(var j=g.key,k=h;k!==null;){if(k.key===j){if(j=g.type,j===Po){if(k.tag===7){r(v,k.sibling),h=s(k,g.props.children),h.return=v,v=h;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===oa&&yw(j)===k.type){r(v,k.sibling),h=s(k,g.props),h.ref=sc(v,k,g),h.return=v,v=h;break e}r(v,k);break}else t(v,k);k=k.sibling}g.type===Po?(h=Ri(g.props.children,v.mode,_,g.key),h.return=v,v=h):(_=pf(g.type,g.key,g.props,null,v.mode,_),_.ref=sc(v,h,g),_.return=v,v=_)}return o(v);case To:e:{for(k=g.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){r(v,h.sibling),h=s(h,g.children||[]),h.return=v,v=h;break e}else{r(v,h);break}else t(v,h);h=h.sibling}h=mp(g,v.mode,_),h.return=v,v=h}return o(v);case oa:return k=g._init,w(v,h,k(g._payload),_)}if(vc(g))return x(v,h,g,_);if(Jl(g))return b(v,h,g,_);Au(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(r(v,h.sibling),h=s(h,g),h.return=v,v=h):(r(v,h),h=hp(g,v.mode,_),h.return=v,v=h),o(v)):r(v,h)}return w}var vl=g1(!0),v1=g1(!1),Uf=ei(null),zf=null,Fo=null,_x=null;function jx(){_x=Fo=zf=null}function Nx(e){var t=Uf.current;xt(Uf),e._currentValue=t}function Pg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yo(e,t){zf=e,_x=Fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(_x!==e)if(e={context:e,memoizedValue:t,next:null},Fo===null){if(zf===null)throw Error(J(308));Fo=e,zf.dependencies={lanes:0,firstContext:e}}else Fo=Fo.next=e;return t}var _i=null;function Sx(e){_i===null?_i=[e]:_i.push(e)}function x1(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sx(t)):(r.next=s.next,s.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var la=!1;function Cx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Vs(e,r)}return s=n.interleaved,s===null?(t.next=t,Sx(n)):(t.next=s.next,s.next=t),n.interleaved=t,Vs(e,r)}function cf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}function ww(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bf(e,t,r,n){var s=e.updateQueue;la=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,u=d=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(p=t,y=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(y,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(y,f,p):x,p==null)break e;f=Ct({},f,p);break e;case 2:la=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=f):u=u.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$i|=o,e.lanes=o,e.memoizedState=f}}function bw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(J(191,s));s.call(n)}}}var qd={},hs=ei(qd),sd=ei(qd),ad=ei(qd);function ji(e){if(e===qd)throw Error(J(174));return e}function kx(e,t){switch(ut(ad,t),ut(sd,e),ut(hs,qd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dg(t,e)}xt(hs),ut(hs,t)}function xl(){xt(hs),xt(sd),xt(ad)}function w1(e){ji(ad.current);var t=ji(hs.current),r=dg(t,e.type);t!==r&&(ut(sd,e),ut(hs,r))}function Ex(e){sd.current===e&&(xt(hs),xt(sd))}var jt=ei(0);function Vf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var op=[];function Tx(){for(var e=0;e<op.length;e++)op[e]._workInProgressVersionPrimary=null;op.length=0}var df=Qs.ReactCurrentDispatcher,lp=Qs.ReactCurrentBatchConfig,Fi=0,St=null,zt=null,Kt=null,Wf=!1,Rc=!1,id=0,CD=0;function nr(){throw Error(J(321))}function Px(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function Mx(e,t,r,n,s,i){if(Fi=i,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,df.current=e===null||e.memoizedState===null?PD:MD,e=r(n,s),Rc){i=0;do{if(Rc=!1,id=0,25<=i)throw Error(J(301));i+=1,Kt=zt=null,t.updateQueue=null,df.current=DD,e=r(n,s)}while(Rc)}if(df.current=qf,t=zt!==null&&zt.next!==null,Fi=0,Kt=zt=St=null,Wf=!1,t)throw Error(J(300));return e}function Dx(){var e=id!==0;return id=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?St.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function mn(){if(zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Kt===null?St.memoizedState:Kt.next;if(t!==null)Kt=t,zt=e;else{if(e===null)throw Error(J(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?St.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function od(e,t){return typeof t=="function"?t(e):t}function cp(e){var t=mn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=zt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Fi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,St.lanes|=u,$i|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Rn(n,t.memoizedState)||(Dr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,St.lanes|=i,$i|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dp(e){var t=mn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rn(i,t.memoizedState)||(Dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function b1(){}function _1(e,t){var r=St,n=mn(),s=t(),i=!Rn(n.memoizedState,s);if(i&&(n.memoizedState=s,Dr=!0),n=n.queue,Rx(S1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,ld(9,N1.bind(null,r,n,s,t),void 0,null),Qt===null)throw Error(J(349));Fi&30||j1(r,t,s)}return s}function j1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N1(e,t,r,n){t.value=r,t.getSnapshot=n,C1(t)&&k1(e)}function S1(e,t,r){return r(function(){C1(t)&&k1(e)})}function C1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function k1(e){var t=Vs(e,1);t!==null&&Mn(t,e,1,-1)}function _w(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:e},t.queue=e,e=e.dispatch=TD.bind(null,St,e),[t.memoizedState,e]}function ld(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function E1(){return mn().memoizedState}function uf(e,t,r,n){var s=Gn();St.flags|=e,s.memoizedState=ld(1|t,r,void 0,n===void 0?null:n)}function Fh(e,t,r,n){var s=mn();n=n===void 0?null:n;var i=void 0;if(zt!==null){var o=zt.memoizedState;if(i=o.destroy,n!==null&&Px(n,o.deps)){s.memoizedState=ld(t,r,i,n);return}}St.flags|=e,s.memoizedState=ld(1|t,r,i,n)}function jw(e,t){return uf(8390656,8,e,t)}function Rx(e,t){return Fh(2048,8,e,t)}function T1(e,t){return Fh(4,2,e,t)}function P1(e,t){return Fh(4,4,e,t)}function M1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D1(e,t,r){return r=r!=null?r.concat([e]):null,Fh(4,4,M1.bind(null,t,e),r)}function Ox(){}function R1(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function O1(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function A1(e,t,r){return Fi&21?(Rn(r,t)||(r=Uj(),St.lanes|=r,$i|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=r)}function kD(e,t){var r=nt;nt=r!==0&&4>r?r:4,e(!0);var n=lp.transition;lp.transition={};try{e(!1),t()}finally{nt=r,lp.transition=n}}function I1(){return mn().memoizedState}function ED(e,t,r){var n=Ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L1(e))F1(t,r);else if(r=x1(e,t,r,n),r!==null){var s=gr();Mn(r,e,n,s),$1(r,t,n)}}function TD(e,t,r){var n=Ra(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L1(e))F1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rn(l,o)){var c=t.interleaved;c===null?(s.next=s,Sx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=x1(e,t,s,n),r!==null&&(s=gr(),Mn(r,e,n,s),$1(r,t,n))}}function L1(e){var t=e.alternate;return e===St||t!==null&&t===St}function F1(e,t){Rc=Wf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}var qf={readContext:hn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},PD={readContext:hn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:jw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uf(4194308,4,M1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uf(4194308,4,e,t)},useInsertionEffect:function(e,t){return uf(4,2,e,t)},useMemo:function(e,t){var r=Gn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ED.bind(null,St,e),[n.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:_w,useDebugValue:Ox,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=_w(!1),t=e[0];return e=kD.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=St,s=Gn();if(wt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Qt===null)throw Error(J(349));Fi&30||j1(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jw(S1.bind(null,n,i,e),[e]),n.flags|=2048,ld(9,N1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Gn(),t=Qt.identifierPrefix;if(wt){var r=Os,n=Rs;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=id++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=CD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MD={readContext:hn,useCallback:R1,useContext:hn,useEffect:Rx,useImperativeHandle:D1,useInsertionEffect:T1,useLayoutEffect:P1,useMemo:O1,useReducer:cp,useRef:E1,useState:function(){return cp(od)},useDebugValue:Ox,useDeferredValue:function(e){var t=mn();return A1(t,zt.memoizedState,e)},useTransition:function(){var e=cp(od)[0],t=mn().memoizedState;return[e,t]},useMutableSource:b1,useSyncExternalStore:_1,useId:I1,unstable_isNewReconciler:!1},DD={readContext:hn,useCallback:R1,useContext:hn,useEffect:Rx,useImperativeHandle:D1,useInsertionEffect:T1,useLayoutEffect:P1,useMemo:O1,useReducer:dp,useRef:E1,useState:function(){return dp(od)},useDebugValue:Ox,useDeferredValue:function(e){var t=mn();return zt===null?t.memoizedState=e:A1(t,zt.memoizedState,e)},useTransition:function(){var e=dp(od)[0],t=mn().memoizedState;return[e,t]},useMutableSource:b1,useSyncExternalStore:_1,useId:I1,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $h={isMounted:function(e){return(e=e._reactInternals)?Ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),s=Ra(e),i=Is(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ma(e,i,s),t!==null&&(Mn(t,e,s,n),cf(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),s=Ra(e),i=Is(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ma(e,i,s),t!==null&&(Mn(t,e,s,n),cf(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=Ra(e),s=Is(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,n),t!==null&&(Mn(t,e,n,r),cf(t,e,n))}};function Nw(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ed(r,n)||!ed(s,i):!0}function U1(e,t,r){var n=!1,s=Ua,i=t.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Or(t)?Ii:cr.current,n=t.contextTypes,i=(n=n!=null)?pl(e,s):Ua),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$h.enqueueReplaceState(t,t.state,null)}function Dg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Or(t)?Ii:cr.current,s.context=pl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mg(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$h.enqueueReplaceState(s,s.state,null),Bf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yl(e,t){try{var r="",n=t;do r+=iM(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function up(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RD=typeof WeakMap=="function"?WeakMap:Map;function z1(e,t,r){r=Is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yf||(Yf=!0,Vg=n),Rg(e,t)},r}function B1(e,t,r){r=Is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Rg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rg(e,t),typeof n!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Cw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new RD;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=YD.bind(null,e,t,r),t.then(e,e))}function kw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ew(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Is(-1,1),t.tag=2,Ma(r,t,1))),r.lanes|=1),e)}var OD=Qs.ReactCurrentOwner,Dr=!1;function hr(e,t,r,n){t.child=e===null?v1(t,null,r,n):vl(t,e.child,r,n)}function Tw(e,t,r,n,s){r=r.render;var i=t.ref;return Yo(t,s),n=Mx(e,t,r,n,i,s),r=Dx(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(wt&&r&&yx(t),t.flags|=1,hr(e,t,n,s),t.child)}function Pw(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,V1(e,t,i,n,s)):(e=pf(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ed,r(o,n)&&e.ref===t.ref)return Ws(e,t,s)}return t.flags|=1,e=Oa(i,n),e.ref=t.ref,e.return=t,t.child=e}function V1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ed(i,n)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,Ws(e,t,s)}return Og(e,t,r,n,s)}function W1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Uo,Ur),Ur|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(Uo,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ut(Uo,Ur),Ur|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ut(Uo,Ur),Ur|=n;return hr(e,t,s,r),t.child}function q1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Og(e,t,r,n,s){var i=Or(r)?Ii:cr.current;return i=pl(t,i),Yo(t,s),r=Mx(e,t,r,n,i,s),n=Dx(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(wt&&n&&yx(t),t.flags|=1,hr(e,t,r,s),t.child)}function Mw(e,t,r,n,s){if(Or(r)){var i=!0;Lf(t)}else i=!1;if(Yo(t,s),t.stateNode===null)ff(e,t),U1(t,r,n),Dg(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=hn(d):(d=Or(r)?Ii:cr.current,d=pl(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Sw(t,o,n,d),la=!1;var p=t.memoizedState;o.state=p,Bf(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Rr.current||la?(typeof u=="function"&&(Mg(t,r,u,n),c=t.memoizedState),(l=la||Nw(t,r,l,n,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,y1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:bn(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hn(c):(c=Or(r)?Ii:cr.current,c=pl(t,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Sw(t,o,n,c),la=!1,p=t.memoizedState,o.state=p,Bf(t,n,o,s);var x=t.memoizedState;l!==f||p!==x||Rr.current||la?(typeof y=="function"&&(Mg(t,r,y,n),x=t.memoizedState),(d=la||Nw(t,r,d,n,p,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ag(e,t,r,n,i,s)}function Ag(e,t,r,n,s,i){q1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&gw(t,r,!1),Ws(e,t,i);n=t.stateNode,OD.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vl(t,e.child,null,i),t.child=vl(t,null,l,i)):hr(e,t,l,i),t.memoizedState=n.state,s&&gw(t,r,!0),t.child}function H1(e){var t=e.stateNode;t.pendingContext?pw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pw(e,t.context,!1),kx(e,t.containerInfo)}function Dw(e,t,r,n,s){return gl(),bx(s),t.flags|=256,hr(e,t,r,n),t.child}var Ig={dehydrated:null,treeContext:null,retryLane:0};function Lg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y1(e,t,r){var n=t.pendingProps,s=jt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ut(jt,s&1),e===null)return Tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bh(o,n,0,null),e=Ri(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lg(r),t.memoizedState=Ig,e):Ax(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return AD(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Oa(l,i):(i=Ri(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Lg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ig,n}return i=e.child,e=i.sibling,n=Oa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ax(e,t){return t=Bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,r,n){return n!==null&&bx(n),vl(t,e.child,null,r),e=Ax(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AD(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=up(Error(J(422))),Iu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Bh({mode:"visible",children:n.children},s,0,null),i=Ri(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vl(t,e.child,null,o),t.child.memoizedState=Lg(o),t.memoizedState=Ig,i);if(!(t.mode&1))return Iu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(J(419)),n=up(i,n,void 0),Iu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Dr||l){if(n=Qt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vs(e,s),Mn(n,e,s,-1))}return zx(),n=up(Error(J(421))),Iu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=KD.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Br=Pa(s.nextSibling),qr=t,wt=!0,Sn=null,e!==null&&(on[ln++]=Rs,on[ln++]=Os,on[ln++]=Li,Rs=e.id,Os=e.overflow,Li=t),t=Ax(t,n.children),t.flags|=4096,t)}function Rw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pg(e.return,t,r)}function fp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function K1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(hr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rw(e,r,t);else if(e.tag===19)Rw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ut(jt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fp(t,!0,r,null,i);break;case"together":fp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$i|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ID(e,t,r){switch(t.tag){case 3:H1(t),gl();break;case 5:w1(t);break;case 1:Or(t.type)&&Lf(t);break;case 4:kx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ut(Uf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ut(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?Y1(e,t,r):(ut(jt,jt.current&1),e=Ws(e,t,r),e!==null?e.sibling:null);ut(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return K1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,W1(e,t,r)}return Ws(e,t,r)}var G1,Fg,Q1,Z1;G1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fg=function(){};Q1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ji(hs.current);var i=null;switch(r){case"input":s=ig(e,s),n=ig(e,n),i=[];break;case"select":s=Ct({},s,{value:void 0}),n=Ct({},n,{value:void 0}),i=[];break;case"textarea":s=cg(e,s),n=cg(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Af)}ug(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Z1=function(e,t,r,n){r!==n&&(t.flags|=4)};function ac(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function LD(e,t,r){var n=t.pendingProps;switch(wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Or(t.type)&&If(),sr(t),null;case 3:return n=t.stateNode,xl(),xt(Rr),xt(cr),Tx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sn!==null&&(Hg(Sn),Sn=null))),Fg(e,t),sr(t),null;case 5:Ex(t);var s=ji(ad.current);if(r=t.type,e!==null&&t.stateNode!=null)Q1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return sr(t),null}if(e=ji(hs.current),Ou(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ts]=t,n[nd]=i,e=(t.mode&1)!==0,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(s=0;s<yc.length;s++)gt(yc[s],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":B0(n,i),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gt("invalid",n);break;case"textarea":W0(n,i),gt("invalid",n)}ug(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ru(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ru(n.textContent,l,e),s=["children",""+l]):Yc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gt("scroll",n)}switch(r){case"input":Su(n),V0(n,i,!0);break;case"textarea":Su(n),q0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Af)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ts]=t,e[nd]=n,G1(e,t,!1,!1),t.stateNode=e;e:{switch(o=fg(r,n),r){case"dialog":gt("cancel",e),gt("close",e),s=n;break;case"iframe":case"object":case"embed":gt("load",e),s=n;break;case"video":case"audio":for(s=0;s<yc.length;s++)gt(yc[s],e);s=n;break;case"source":gt("error",e),s=n;break;case"img":case"image":case"link":gt("error",e),gt("load",e),s=n;break;case"details":gt("toggle",e),s=n;break;case"input":B0(e,n),s=ig(e,n),gt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ct({},n,{value:void 0}),gt("invalid",e);break;case"textarea":W0(e,n),s=cg(e,n),gt("invalid",e);break;default:s=n}ug(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ej(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kc(e,c):typeof c=="number"&&Kc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gt("scroll",e):c!=null&&ax(e,i,c,o))}switch(r){case"input":Su(e),V0(e,n,!1);break;case"textarea":Su(e),q0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Vo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Vo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)Z1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=ji(ad.current),ji(hs.current),Ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[ts]=t,(i=n.nodeValue!==r)&&(e=qr,e!==null))switch(e.tag){case 3:Ru(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ru(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ts]=t,t.stateNode=n}return sr(t),null;case 13:if(xt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Br!==null&&t.mode&1&&!(t.flags&128))p1(),gl(),t.flags|=98560,i=!1;else if(i=Ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[ts]=t}else gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),i=!1}else Sn!==null&&(Hg(Sn),Sn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Vt===0&&(Vt=3):zx())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return xl(),Fg(e,t),e===null&&td(t.stateNode.containerInfo),sr(t),null;case 10:return Nx(t.type._context),sr(t),null;case 17:return Or(t.type)&&If(),sr(t),null;case 19:if(xt(jt),i=t.memoizedState,i===null)return sr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ac(i,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vf(e),o!==null){for(t.flags|=128,ac(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ut(jt,jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Rt()>wl&&(t.flags|=128,n=!0,ac(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ac(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wt)return sr(t),null}else 2*Rt()-i.renderingStartTime>wl&&r!==1073741824&&(t.flags|=128,n=!0,ac(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Rt(),t.sibling=null,r=jt.current,ut(jt,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return Ux(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ur&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function FD(e,t){switch(wx(t),t.tag){case 1:return Or(t.type)&&If(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xl(),xt(Rr),xt(cr),Tx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ex(t),null;case 13:if(xt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(jt),null;case 4:return xl(),null;case 10:return Nx(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Lu=!1,or=!1,$D=typeof WeakSet=="function"?WeakSet:Set,ye=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tt(e,t,n)}else r.current=null}function $g(e,t,r){try{r()}catch(n){Tt(e,t,n)}}var Ow=!1;function UD(e,t){if(_g=Df,e=r1(),xx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===r&&++d===s&&(l=o),p===i&&++u===n&&(c=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jg={focusedElem:e,selectionRange:r},Df=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,w=x.memoizedState,v=t.stateNode,h=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:bn(t.type,b),w);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(_){Tt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return x=Ow,Ow=!1,x}function Oc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$g(t,r,i)}s=s.next}while(s!==n)}}function Uh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ug(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function X1(e){var t=e.alternate;t!==null&&(e.alternate=null,X1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ts],delete t[nd],delete t[Cg],delete t[_D],delete t[jD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J1(e){return e.tag===5||e.tag===3||e.tag===4}function Aw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Af));else if(n!==4&&(e=e.child,e!==null))for(zg(e,t,r),e=e.sibling;e!==null;)zg(e,t,r),e=e.sibling}function Bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bg(e,t,r),e=e.sibling;e!==null;)Bg(e,t,r),e=e.sibling}var Jt=null,jn=!1;function ea(e,t,r){for(r=r.child;r!==null;)eN(e,t,r),r=r.sibling}function eN(e,t,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Dh,r)}catch{}switch(r.tag){case 5:or||$o(r,t);case 6:var n=Jt,s=jn;Jt=null,ea(e,t,r),Jt=n,jn=s,Jt!==null&&(jn?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(jn?(e=Jt,r=r.stateNode,e.nodeType===8?ap(e.parentNode,r):e.nodeType===1&&ap(e,r),Xc(e)):ap(Jt,r.stateNode));break;case 4:n=Jt,s=jn,Jt=r.stateNode.containerInfo,jn=!0,ea(e,t,r),Jt=n,jn=s;break;case 0:case 11:case 14:case 15:if(!or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$g(r,t,o),s=s.next}while(s!==n)}ea(e,t,r);break;case 1:if(!or&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Tt(r,t,l)}ea(e,t,r);break;case 21:ea(e,t,r);break;case 22:r.mode&1?(or=(n=or)||r.memoizedState!==null,ea(e,t,r),or=n):ea(e,t,r);break;default:ea(e,t,r)}}function Iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $D),t.forEach(function(n){var s=GD.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,jn=!1;break e;case 3:Jt=l.stateNode.containerInfo,jn=!0;break e;case 4:Jt=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(Jt===null)throw Error(J(160));eN(i,o,s),Jt=null,jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Tt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tN(t,e),t=t.sibling}function tN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),qn(e),n&4){try{Oc(3,e,e.return),Uh(3,e)}catch(b){Tt(e,e.return,b)}try{Oc(5,e,e.return)}catch(b){Tt(e,e.return,b)}}break;case 1:xn(t,e),qn(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(xn(t,e),qn(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{Kc(s,"")}catch(b){Tt(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&jj(s,i),fg(l,o);var d=fg(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Ej(s,f):u==="dangerouslySetInnerHTML"?Cj(s,f):u==="children"?Kc(s,f):ax(s,u,f,d)}switch(l){case"input":og(s,i);break;case"textarea":Nj(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vo(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vo(s,!!i.multiple,i.defaultValue,!0):Vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[nd]=i}catch(b){Tt(e,e.return,b)}}break;case 6:if(xn(t,e),qn(e),n&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Tt(e,e.return,b)}}break;case 3:if(xn(t,e),qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xc(t.containerInfo)}catch(b){Tt(e,e.return,b)}break;case 4:xn(t,e),qn(e);break;case 13:xn(t,e),qn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fx=Rt())),n&4&&Iw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(or=(d=or)||u,xn(t,e),or=d):xn(t,e),qn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ye=e,u=e.child;u!==null;){for(f=ye=u;ye!==null;){switch(p=ye,y=p.child,p.tag){case 0:case 11:case 14:case 15:Oc(4,p,p.return);break;case 1:$o(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Tt(n,r,b)}}break;case 5:$o(p,p.return);break;case 22:if(p.memoizedState!==null){Fw(f);continue}}y!==null?(y.return=p,ye=y):Fw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kj("display",o))}catch(b){Tt(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(b){Tt(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(t,e),qn(e),n&4&&Iw(e);break;case 21:break;default:xn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(J1(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kc(s,""),n.flags&=-33);var i=Aw(e);Bg(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Aw(e);zg(e,l,o);break;default:throw Error(J(161))}}catch(c){Tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zD(e,t,r){ye=e,rN(e)}function rN(e,t,r){for(var n=(e.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Lu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||or;l=Lu;var d=or;if(Lu=o,(or=c)&&!d)for(ye=s;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?$w(s):c!==null?(c.return=o,ye=c):$w(s);for(;i!==null;)ye=i,rN(i),i=i.sibling;ye=s,Lu=l,or=d}Lw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):Lw(e)}}function Lw(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||Uh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!or)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:bn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bw(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Xc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}or||t.flags&512&&Ug(t)}catch(p){Tt(t,t.return,p)}}if(t===e){ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,ye=r;break}ye=t.return}}function Fw(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ye=r;break}ye=t.return}}function $w(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uh(4,t)}catch(c){Tt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Tt(t,s,c)}}var i=t.return;try{Ug(t)}catch(c){Tt(t,i,c)}break;case 5:var o=t.return;try{Ug(t)}catch(c){Tt(t,o,c)}}}catch(c){Tt(t,t.return,c)}if(t===e){ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ye=l;break}ye=t.return}}var BD=Math.ceil,Hf=Qs.ReactCurrentDispatcher,Ix=Qs.ReactCurrentOwner,dn=Qs.ReactCurrentBatchConfig,Ge=0,Qt=null,Ft=null,er=0,Ur=0,Uo=ei(0),Vt=0,cd=null,$i=0,zh=0,Lx=0,Ac=null,Tr=null,Fx=0,wl=1/0,Ts=null,Yf=!1,Vg=null,Da=null,Fu=!1,Sa=null,Kf=0,Ic=0,Wg=null,hf=-1,mf=0;function gr(){return Ge&6?Rt():hf!==-1?hf:hf=Rt()}function Ra(e){return e.mode&1?Ge&2&&er!==0?er&-er:SD.transition!==null?(mf===0&&(mf=Uj()),mf):(e=nt,e!==0||(e=window.event,e=e===void 0?16:Yj(e.type)),e):1}function Mn(e,t,r,n){if(50<Ic)throw Ic=0,Wg=null,Error(J(185));Bd(e,r,n),(!(Ge&2)||e!==Qt)&&(e===Qt&&(!(Ge&2)&&(zh|=r),Vt===4&&ua(e,er)),Ar(e,n),r===1&&Ge===0&&!(t.mode&1)&&(wl=Rt()+500,Lh&&ti()))}function Ar(e,t){var r=e.callbackNode;SM(e,t);var n=Mf(e,e===Qt?er:0);if(n===0)r!==null&&K0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&K0(r),t===1)e.tag===0?ND(Uw.bind(null,e)):f1(Uw.bind(null,e)),wD(function(){!(Ge&6)&&ti()}),r=null;else{switch(zj(n)){case 1:r=dx;break;case 4:r=Fj;break;case 16:r=Pf;break;case 536870912:r=$j;break;default:r=Pf}r=dN(r,nN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nN(e,t){if(hf=-1,mf=0,Ge&6)throw Error(J(327));var r=e.callbackNode;if(Ko()&&e.callbackNode!==r)return null;var n=Mf(e,e===Qt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gf(e,n);else{t=n;var s=Ge;Ge|=2;var i=aN();(Qt!==e||er!==t)&&(Ts=null,wl=Rt()+500,Di(e,t));do try{qD();break}catch(l){sN(e,l)}while(!0);jx(),Hf.current=i,Ge=s,Ft!==null?t=0:(Qt=null,er=0,t=Vt)}if(t!==0){if(t===2&&(s=vg(e),s!==0&&(n=s,t=qg(e,s))),t===1)throw r=cd,Di(e,0),ua(e,n),Ar(e,Rt()),r;if(t===6)ua(e,n);else{if(s=e.current.alternate,!(n&30)&&!VD(s)&&(t=Gf(e,n),t===2&&(i=vg(e),i!==0&&(n=i,t=qg(e,i))),t===1))throw r=cd,Di(e,0),ua(e,n),Ar(e,Rt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:hi(e,Tr,Ts);break;case 3:if(ua(e,n),(n&130023424)===n&&(t=Fx+500-Rt(),10<t)){if(Mf(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sg(hi.bind(null,e,Tr,Ts),t);break}hi(e,Tr,Ts);break;case 4:if(ua(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Pn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BD(n/1960))-n,10<n){e.timeoutHandle=Sg(hi.bind(null,e,Tr,Ts),n);break}hi(e,Tr,Ts);break;case 5:hi(e,Tr,Ts);break;default:throw Error(J(329))}}}return Ar(e,Rt()),e.callbackNode===r?nN.bind(null,e):null}function qg(e,t){var r=Ac;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=Gf(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&Hg(t)),e}function Hg(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function VD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t){for(t&=~Lx,t&=~zh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function Uw(e){if(Ge&6)throw Error(J(327));Ko();var t=Mf(e,0);if(!(t&1))return Ar(e,Rt()),null;var r=Gf(e,t);if(e.tag!==0&&r===2){var n=vg(e);n!==0&&(t=n,r=qg(e,n))}if(r===1)throw r=cd,Di(e,0),ua(e,t),Ar(e,Rt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hi(e,Tr,Ts),Ar(e,Rt()),null}function $x(e,t){var r=Ge;Ge|=1;try{return e(t)}finally{Ge=r,Ge===0&&(wl=Rt()+500,Lh&&ti())}}function Ui(e){Sa!==null&&Sa.tag===0&&!(Ge&6)&&Ko();var t=Ge;Ge|=1;var r=dn.transition,n=nt;try{if(dn.transition=null,nt=1,e)return e()}finally{nt=n,dn.transition=r,Ge=t,!(Ge&6)&&ti()}}function Ux(){Ur=Uo.current,xt(Uo)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yD(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(wx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&If();break;case 3:xl(),xt(Rr),xt(cr),Tx();break;case 5:Ex(n);break;case 4:xl();break;case 13:xt(jt);break;case 19:xt(jt);break;case 10:Nx(n.type._context);break;case 22:case 23:Ux()}r=r.return}if(Qt=e,Ft=e=Oa(e.current,null),er=Ur=t,Vt=0,cd=null,Lx=zh=$i=0,Tr=Ac=null,_i!==null){for(t=0;t<_i.length;t++)if(r=_i[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}_i=null}return e}function sN(e,t){do{var r=Ft;try{if(jx(),df.current=qf,Wf){for(var n=St.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wf=!1}if(Fi=0,Kt=zt=St=null,Rc=!1,id=0,Ix.current=null,r===null||r.return===null){Vt=1,cd=t,Ft=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=kw(o);if(y!==null){y.flags&=-257,Ew(y,o,l,i,t),y.mode&1&&Cw(i,d,t),t=y,c=d;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Cw(i,d,t),zx();break e}c=Error(J(426))}}else if(wt&&l.mode&1){var w=kw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ew(w,o,l,i,t),bx(yl(c,l));break e}}i=c=yl(c,l),Vt!==4&&(Vt=2),Ac===null?Ac=[i]:Ac.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=z1(i,c,t);ww(i,v);break e;case 1:l=c;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Da===null||!Da.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=B1(i,l,t);ww(i,_);break e}}i=i.return}while(i!==null)}oN(r)}catch(j){t=j,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function aN(){var e=Hf.current;return Hf.current=qf,e===null?qf:e}function zx(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||!($i&268435455)&&!(zh&268435455)||ua(Qt,er)}function Gf(e,t){var r=Ge;Ge|=2;var n=aN();(Qt!==e||er!==t)&&(Ts=null,Di(e,t));do try{WD();break}catch(s){sN(e,s)}while(!0);if(jx(),Ge=r,Hf.current=n,Ft!==null)throw Error(J(261));return Qt=null,er=0,Vt}function WD(){for(;Ft!==null;)iN(Ft)}function qD(){for(;Ft!==null&&!gM();)iN(Ft)}function iN(e){var t=cN(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?oN(e):Ft=t,Ix.current=null}function oN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FD(r,t),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Ft=null;return}}else if(r=LD(r,t,Ur),r!==null){Ft=r;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Vt===0&&(Vt=5)}function hi(e,t,r){var n=nt,s=dn.transition;try{dn.transition=null,nt=1,HD(e,t,r,n)}finally{dn.transition=s,nt=n}return null}function HD(e,t,r,n){do Ko();while(Sa!==null);if(Ge&6)throw Error(J(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(CM(e,i),e===Qt&&(Ft=Qt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fu||(Fu=!0,dN(Pf,function(){return Ko(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=nt;nt=1;var l=Ge;Ge|=4,Ix.current=null,UD(e,r),tN(r,e),fD(jg),Df=!!_g,jg=_g=null,e.current=r,zD(r),vM(),Ge=l,nt=o,dn.transition=i}else e.current=r;if(Fu&&(Fu=!1,Sa=e,Kf=s),i=e.pendingLanes,i===0&&(Da=null),wM(r.stateNode),Ar(e,Rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yf)throw Yf=!1,e=Vg,Vg=null,e;return Kf&1&&e.tag!==0&&Ko(),i=e.pendingLanes,i&1?e===Wg?Ic++:(Ic=0,Wg=e):Ic=0,ti(),null}function Ko(){if(Sa!==null){var e=zj(Kf),t=dn.transition,r=nt;try{if(dn.transition=null,nt=16>e?16:e,Sa===null)var n=!1;else{if(e=Sa,Sa=null,Kf=0,Ge&6)throw Error(J(331));var s=Ge;for(Ge|=4,ye=e.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ye=d;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:Oc(8,u,i)}var f=u.child;if(f!==null)f.return=u,ye=f;else for(;ye!==null;){u=ye;var p=u.sibling,y=u.return;if(X1(u),u===d){ye=null;break}if(p!==null){p.return=y,ye=p;break}ye=y}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ye=v;break e}ye=i.return}}var h=e.current;for(ye=h;ye!==null;){o=ye;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ye=g;else e:for(o=h;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uh(9,l)}}catch(j){Tt(l,l.return,j)}if(l===o){ye=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ye=_;break e}ye=l.return}}if(Ge=s,ti(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Dh,e)}catch{}n=!0}return n}finally{nt=r,dn.transition=t}}return!1}function zw(e,t,r){t=yl(r,t),t=z1(e,t,1),e=Ma(e,t,1),t=gr(),e!==null&&(Bd(e,1,t),Ar(e,t))}function Tt(e,t,r){if(e.tag===3)zw(e,e,r);else for(;t!==null;){if(t.tag===3){zw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){e=yl(r,e),e=B1(t,e,1),t=Ma(t,e,1),e=gr(),t!==null&&(Bd(t,1,e),Ar(t,e));break}}t=t.return}}function YD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,Qt===e&&(er&r)===r&&(Vt===4||Vt===3&&(er&130023424)===er&&500>Rt()-Fx?Di(e,0):Lx|=r),Ar(e,t)}function lN(e,t){t===0&&(e.mode&1?(t=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):t=1);var r=gr();e=Vs(e,t),e!==null&&(Bd(e,t,r),Ar(e,r))}function KD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lN(e,r)}function GD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),lN(e,r)}var cN;cN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dr=!1,ID(e,t,r);Dr=!!(e.flags&131072)}else Dr=!1,wt&&t.flags&1048576&&h1(t,$f,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ff(e,t),e=t.pendingProps;var s=pl(t,cr.current);Yo(t,r),s=Mx(null,t,n,e,s,r);var i=Dx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(n)?(i=!0,Lf(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cx(t),s.updater=$h,t.stateNode=s,s._reactInternals=t,Dg(t,n,e,r),t=Ag(null,t,n,!0,i,r)):(t.tag=0,wt&&i&&yx(t),hr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ff(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ZD(n),e=bn(n,e),s){case 0:t=Og(null,t,n,e,r);break e;case 1:t=Mw(null,t,n,e,r);break e;case 11:t=Tw(null,t,n,e,r);break e;case 14:t=Pw(null,t,n,bn(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),Og(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),Mw(e,t,n,s,r);case 3:e:{if(H1(t),e===null)throw Error(J(387));n=t.pendingProps,i=t.memoizedState,s=i.element,y1(e,t),Bf(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yl(Error(J(423)),t),t=Dw(e,t,n,r,s);break e}else if(n!==s){s=yl(Error(J(424)),t),t=Dw(e,t,n,r,s);break e}else for(Br=Pa(t.stateNode.containerInfo.firstChild),qr=t,wt=!0,Sn=null,r=v1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gl(),n===s){t=Ws(e,t,r);break e}hr(e,t,n,r)}t=t.child}return t;case 5:return w1(t),e===null&&Tg(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ng(n,s)?o=null:i!==null&&Ng(n,i)&&(t.flags|=32),q1(e,t),hr(e,t,o,r),t.child;case 6:return e===null&&Tg(t),null;case 13:return Y1(e,t,r);case 4:return kx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vl(t,null,n,r):hr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),Tw(e,t,n,s,r);case 7:return hr(e,t,t.pendingProps,r),t.child;case 8:return hr(e,t,t.pendingProps.children,r),t.child;case 12:return hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ut(Uf,n._currentValue),n._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!Rr.current){t=Ws(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Is(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pg(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Pg(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}hr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Yo(t,r),s=hn(s),n=n(s),t.flags|=1,hr(e,t,n,r),t.child;case 14:return n=t.type,s=bn(n,t.pendingProps),s=bn(n.type,s),Pw(e,t,n,s,r);case 15:return V1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),ff(e,t),t.tag=1,Or(n)?(e=!0,Lf(t)):e=!1,Yo(t,r),U1(t,n,s),Dg(t,n,s,r),Ag(null,t,n,!0,e,r);case 19:return K1(e,t,r);case 22:return W1(e,t,r)}throw Error(J(156,t.tag))};function dN(e,t){return Lj(e,t)}function QD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,r,n){return new QD(e,t,r,n)}function Bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZD(e){if(typeof e=="function")return Bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ox)return 11;if(e===lx)return 14}return 2}function Oa(e,t){var r=e.alternate;return r===null?(r=cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pf(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Bx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Po:return Ri(r.children,s,i,t);case ix:o=8,s|=8;break;case rg:return e=cn(12,r,t,s|2),e.elementType=rg,e.lanes=i,e;case ng:return e=cn(13,r,t,s),e.elementType=ng,e.lanes=i,e;case sg:return e=cn(19,r,t,s),e.elementType=sg,e.lanes=i,e;case wj:return Bh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xj:o=10;break e;case yj:o=9;break e;case ox:o=11;break e;case lx:o=14;break e;case oa:o=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=cn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ri(e,t,r,n){return e=cn(7,e,n,t),e.lanes=r,e}function Bh(e,t,r,n){return e=cn(22,e,n,t),e.elementType=wj,e.lanes=r,e.stateNode={isHidden:!1},e}function hp(e,t,r){return e=cn(6,e,null,t),e.lanes=r,e}function mp(e,t,r){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XD(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Km(0),this.expirationTimes=Km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Km(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vx(e,t,r,n,s,i,o,l,c){return e=new XD(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cx(i),e}function JD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uN(e){if(!e)return Ua;e=e._reactInternals;e:{if(Ji(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Or(r))return u1(e,r,t)}return t}function fN(e,t,r,n,s,i,o,l,c){return e=Vx(r,n,!0,e,s,i,o,l,c),e.context=uN(null),r=e.current,n=gr(),s=Ra(r),i=Is(n,s),i.callback=t??null,Ma(r,i,s),e.current.lanes=s,Bd(e,s,n),Ar(e,n),e}function Vh(e,t,r,n){var s=t.current,i=gr(),o=Ra(s);return r=uN(r),t.context===null?t.context=r:t.pendingContext=r,t=Is(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ma(s,t,o),e!==null&&(Mn(e,s,o,i),cf(e,s,o)),o}function Qf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wx(e,t){Bw(e,t),(e=e.alternate)&&Bw(e,t)}function e4(){return null}var hN=typeof reportError=="function"?reportError:function(e){console.error(e)};function qx(e){this._internalRoot=e}Wh.prototype.render=qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Vh(e,t,null,null)};Wh.prototype.unmount=qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){Vh(null,e,null,null)}),t[Bs]=null}};function Wh(e){this._internalRoot=e}Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<da.length&&t!==0&&t<da[r].priority;r++);da.splice(r,0,e),r===0&&Hj(e)}};function Hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vw(){}function t4(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Qf(o);i.call(d)}}var o=fN(t,n,e,0,null,!1,!1,"",Vw);return e._reactRootContainer=o,e[Bs]=o.current,td(e.nodeType===8?e.parentNode:e),Ui(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Qf(c);l.call(d)}}var c=Vx(e,0,!1,null,null,!1,!1,"",Vw);return e._reactRootContainer=c,e[Bs]=c.current,td(e.nodeType===8?e.parentNode:e),Ui(function(){Vh(t,c,r,n)}),c}function Hh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Qf(o);l.call(c)}}Vh(t,o,e,s)}else o=t4(r,t,e,s,n);return Qf(o)}Bj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xc(t.pendingLanes);r!==0&&(ux(t,r|1),Ar(t,Rt()),!(Ge&6)&&(wl=Rt()+500,ti()))}break;case 13:Ui(function(){var n=Vs(e,1);if(n!==null){var s=gr();Mn(n,e,1,s)}}),Wx(e,1)}};fx=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=gr();Mn(t,e,134217728,r)}Wx(e,134217728)}};Vj=function(e){if(e.tag===13){var t=Ra(e),r=Vs(e,t);if(r!==null){var n=gr();Mn(r,e,t,n)}Wx(e,t)}};Wj=function(){return nt};qj=function(e,t){var r=nt;try{return nt=e,t()}finally{nt=r}};mg=function(e,t,r){switch(t){case"input":if(og(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ih(n);if(!s)throw Error(J(90));_j(n),og(n,s)}}}break;case"textarea":Nj(e,r);break;case"select":t=r.value,t!=null&&Vo(e,!!r.multiple,t,!1)}};Mj=$x;Dj=Ui;var r4={usingClientEntryPoint:!1,Events:[Wd,Oo,Ih,Tj,Pj,$x]},ic={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n4={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Aj(e),e===null?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||e4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Dh=$u.inject(n4),fs=$u}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r4;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(t))throw Error(J(200));return JD(e,t,null,r)};Jr.createRoot=function(e,t){if(!Hx(e))throw Error(J(299));var r=!1,n="",s=hN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vx(e,1,!1,null,null,r,!1,n,s),e[Bs]=t.current,td(e.nodeType===8?e.parentNode:e),new qx(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Aj(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Ui(e)};Jr.hydrate=function(e,t,r){if(!qh(t))throw Error(J(200));return Hh(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!Hx(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=hN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fN(t,null,e,1,r??null,s,!1,i,o),e[Bs]=t.current,td(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wh(t)};Jr.render=function(e,t,r){if(!qh(t))throw Error(J(200));return Hh(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!qh(e))throw Error(J(40));return e._reactRootContainer?(Ui(function(){Hh(null,null,e,!1,function(){e._reactRootContainer=null,e[Bs]=null})}),!0):!1};Jr.unstable_batchedUpdates=$x;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qh(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Hh(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function mN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mN)}catch(e){console.error(e)}}mN(),mj.exports=Jr;var eo=mj.exports;const pN=tj(eo);var gN,Ww=eo;gN=Ww.createRoot,Ww.hydrateRoot;const s4=1,a4=1e6;let pp=0;function i4(){return pp=(pp+1)%Number.MAX_SAFE_INTEGER,pp.toString()}const gp=new Map,qw=e=>{if(gp.has(e))return;const t=setTimeout(()=>{gp.delete(e),Lc({type:"REMOVE_TOAST",toastId:e})},a4);gp.set(e,t)},o4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,s4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qw(r):e.toasts.forEach(n=>{qw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},gf=[];let vf={toasts:[]};function Lc(e){vf=o4(vf,e),gf.forEach(t=>{t(vf)})}function l4({...e}){const t=i4(),r=s=>Lc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Lc({type:"DISMISS_TOAST",toastId:t});return Lc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Qe(){const[e,t]=m.useState(vf);return m.useEffect(()=>(gf.push(t),()=>{const r=gf.indexOf(t);r>-1&&gf.splice(r,1)}),[e]),{...e,toast:l4,dismiss:r=>Lc({type:"DISMISS_TOAST",toastId:r})}}function se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function c4(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Yh(...e){return t=>e.forEach(r=>c4(r,t))}function We(...e){return m.useCallback(Yh(...e),e)}function d4(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:p,children:y,...x}=f,b=(p==null?void 0:p[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(b.Provider,{value:w,children:y})}function u(f,p){const y=(p==null?void 0:p[e][c])||l,x=m.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,u4(s,...t)]}function u4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var vr=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(f4);if(i){const o=i.props.children,l=s.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return a.jsx(Yg,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return a.jsx(Yg,{...n,ref:t,children:r})});vr.displayName="Slot";var Yg=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=m4(r);return m.cloneElement(r,{...h4(n,r.props),ref:t?Yh(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Yg.displayName="SlotClone";var Yx=({children:e})=>a.jsx(a.Fragment,{children:e});function f4(e){return m.isValidElement(e)&&e.type===Yx}function h4(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function m4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Kh(e){const t=e+"CollectionProvider",[r,n]=d4(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:b}=y,w=K.useRef(null),v=K.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:v,collectionRef:w,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=K.forwardRef((y,x)=>{const{scope:b,children:w}=y,v=i(l,b),h=We(x,v.collectionRef);return a.jsx(vr,{ref:h,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=K.forwardRef((y,x)=>{const{scope:b,children:w,...v}=y,h=K.useRef(null),g=We(x,h),_=i(d,b);return K.useEffect(()=>(_.itemMap.set(h,{ref:h,...v}),()=>void _.itemMap.delete(h))),a.jsx(vr,{[u]:"",ref:g,children:w})});f.displayName=d;function p(y){const x=i(e+"CollectionConsumer",y);return K.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((_,j)=>v.indexOf(_.ref.current)-v.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,n]}function p4(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function tn(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=f=>{var v;const{scope:p,children:y,...x}=f,b=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(b.Provider,{value:w,children:y})};d.displayName=i+"Provider";function u(f,p){var b;const y=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,x=m.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,g4(s,...t)]}function g4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var v4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=v4.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?vr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kx(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function rr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function x4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var y4="DismissableLayer",Kg="dismissableLayer.update",w4="dismissableLayer.pointerDownOutside",b4="dismissableLayer.focusOutside",Hw,vN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),to=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(vN),[u,f]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),x=We(t,N=>f(N)),b=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(w),h=u?b.indexOf(u):-1,g=d.layersWithOutsidePointerEventsDisabled.size>0,_=h>=v,j=j4(N=>{const E=N.target,R=[...d.branches].some(T=>T.contains(E));!_||R||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},p),k=N4(N=>{const E=N.target;[...d.branches].some(T=>T.contains(E))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},p);return x4(N=>{h===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},p),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Hw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Yw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Hw)}},[u,p,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Yw())},[u,d]),m.useEffect(()=>{const N=()=>y({});return document.addEventListener(Kg,N),()=>document.removeEventListener(Kg,N)},[]),a.jsx(_e.div,{...c,ref:x,style:{pointerEvents:g?_?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,j.onPointerDownCapture)})});to.displayName=y4;var _4="DismissableLayerBranch",xN=m.forwardRef((e,t)=>{const r=m.useContext(vN),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(_e.div,{...e,ref:s})});xN.displayName=_4;function j4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){yN(w4,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function N4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&yN(b4,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yw(){const e=new CustomEvent(Kg);document.dispatchEvent(e)}function yN(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Kx(s,i):s.dispatchEvent(i)}var S4=to,C4=xN,qt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},k4="Portal",$l=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);qt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pN.createPortal(a.jsx(_e.div,{...n,ref:t}),o):null});$l.displayName=k4;function E4(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var _r=e=>{const{present:t,children:r}=e,n=T4(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=We(n.ref,P4(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};_r.displayName="Presence";function T4(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=E4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Uu(n.current);i.current=l==="mounted"?d:"none"},[l]),qt(()=>{const d=n.current,u=s.current;if(u!==e){const p=i.current,y=Uu(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),qt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=y=>{const b=Uu(n.current).includes(y.animationName);if(y.target===t&&b&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=y=>{y.target===t&&(i.current=Uu(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Uu(e){return(e==null?void 0:e.animationName)||"none"}function P4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=M4({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=rr(r),c=m.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[i,e,s,l]);return[o,c]}function M4({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=rr(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var D4="VisuallyHidden",Hd=m.forwardRef((e,t)=>a.jsx(_e.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Hd.displayName=D4;var R4=Hd,Gx="ToastProvider",[Qx,O4,A4]=Kh("Toast"),[wN,RH]=tn("Toast",[A4]),[I4,Gh]=wN(Gx),bN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gx}\`. Expected non-empty \`string\`.`),a.jsx(Qx.Provider,{scope:t,children:a.jsx(I4,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(y=>y+1),[]),onToastRemove:m.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};bN.displayName=Gx;var _N="ToastViewport",L4=["F8"],Gg="toast.viewportPause",Qg="toast.viewportResume",jN=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=L4,label:s="Notifications ({hotkey})",...i}=e,o=Gh(_N,r),l=O4(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),p=We(t,f,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const w=v=>{var g;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,v=f.current;if(x&&w&&v){const h=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Gg);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Qg);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!w.contains(k.relatedTarget)&&g()},j=()=>{w.contains(document.activeElement)||g()};return w.addEventListener("focusin",h),w.addEventListener("focusout",_),w.addEventListener("pointermove",h),w.addEventListener("pointerleave",j),window.addEventListener("blur",h),window.addEventListener("focus",g),()=>{w.removeEventListener("focusin",h),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",h),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",h),window.removeEventListener("focus",g)}}},[x,o.isClosePausedRef]);const b=m.useCallback(({tabbingDirection:w})=>{const h=l().map(g=>{const _=g.ref.current,j=[_,...Q4(_)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?h.reverse():h).flat()},[l]);return m.useEffect(()=>{const w=f.current;if(w){const v=h=>{var j,k,N;const g=h.altKey||h.ctrlKey||h.metaKey;if(h.key==="Tab"&&!g){const E=document.activeElement,R=h.shiftKey;if(h.target===w&&R){(j=d.current)==null||j.focus();return}const D=b({tabbingDirection:R?"backwards":"forwards"}),C=D.findIndex(M=>M===E);vp(D.slice(C+1))?h.preventDefault():R?(k=d.current)==null||k.focus():(N=u.current)==null||N.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,b]),a.jsxs(C4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(Zg,{ref:d,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});vp(w)}}),a.jsx(Qx.Slot,{scope:r,children:a.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),x&&a.jsx(Zg,{ref:u,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});vp(w)}})]})});jN.displayName=_N;var NN="ToastFocusProxy",Zg=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Gh(NN,r);return a.jsx(Hd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Zg.displayName=NN;var Qh="Toast",F4="toast.swipeStart",$4="toast.swipeMove",U4="toast.swipeCancel",z4="toast.swipeEnd",SN=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=pn({prop:n,defaultProp:s,onChange:i});return a.jsx(_r,{present:r||l,children:a.jsx(W4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:rr(e.onPause),onResume:rr(e.onResume),onSwipeStart:se(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});SN.displayName=Qh;var[B4,V4]=wN(Qh,{onClose(){}}),W4=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:y,...x}=e,b=Gh(Qh,r),[w,v]=m.useState(null),h=We(t,M=>v(M)),g=m.useRef(null),_=m.useRef(null),j=s||b.duration,k=m.useRef(0),N=m.useRef(j),E=m.useRef(0),{onToastAdd:R,onToastRemove:T}=b,L=rr(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=b.viewport)==null||$.focus()),o()}),D=m.useCallback(M=>{!M||M===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(L,M))},[L]);m.useEffect(()=>{const M=b.viewport;if(M){const $=()=>{D(N.current),d==null||d()},B=()=>{const U=new Date().getTime()-k.current;N.current=N.current-U,window.clearTimeout(E.current),c==null||c()};return M.addEventListener(Gg,B),M.addEventListener(Qg,$),()=>{M.removeEventListener(Gg,B),M.removeEventListener(Qg,$)}}},[b.viewport,j,c,d,D]),m.useEffect(()=>{i&&!b.isClosePausedRef.current&&D(j)},[i,j,b.isClosePausedRef,D]),m.useEffect(()=>(R(),()=>T()),[R,T]);const C=m.useMemo(()=>w?DN(w):null,[w]);return b.viewport?a.jsxs(a.Fragment,{children:[C&&a.jsx(q4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:C}),a.jsx(B4,{scope:r,onClose:L,children:eo.createPortal(a.jsx(Qx.ItemSlot,{scope:r,children:a.jsx(S4,{asChild:!0,onEscapeKeyDown:se(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||L(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:h,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:se(e.onPointerDown,M=>{M.button===0&&(g.current={x:M.clientX,y:M.clientY})}),onPointerMove:se(e.onPointerMove,M=>{if(!g.current)return;const $=M.clientX-g.current.x,B=M.clientY-g.current.y,U=!!_.current,S=["left","right"].includes(b.swipeDirection),O=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,H=S?O(0,$):0,V=S?0:O(0,B),ee=M.pointerType==="touch"?10:2,je={x:H,y:V},Z={originalEvent:M,delta:je};U?(_.current=je,zu($4,f,Z,{discrete:!1})):Kw(je,b.swipeDirection,ee)?(_.current=je,zu(F4,u,Z,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs($)>ee||Math.abs(B)>ee)&&(g.current=null)}),onPointerUp:se(e.onPointerUp,M=>{const $=_.current,B=M.target;if(B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),_.current=null,g.current=null,$){const U=M.currentTarget,S={originalEvent:M,delta:$};Kw($,b.swipeDirection,b.swipeThreshold)?zu(z4,y,S,{discrete:!0}):zu(U4,p,S,{discrete:!0}),U.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),q4=e=>{const{__scopeToast:t,children:r,...n}=e,s=Gh(Qh,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return K4(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx($l,{asChild:!0,children:a.jsx(Hd,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},H4="ToastTitle",CN=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(_e.div,{...n,ref:t})});CN.displayName=H4;var Y4="ToastDescription",kN=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(_e.div,{...n,ref:t})});kN.displayName=Y4;var EN="ToastAction",TN=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(MN,{altText:r,asChild:!0,children:a.jsx(Zx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${EN}\`. Expected non-empty \`string\`.`),null)});TN.displayName=EN;var PN="ToastClose",Zx=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=V4(PN,r);return a.jsx(MN,{asChild:!0,children:a.jsx(_e.button,{type:"button",...n,ref:t,onClick:se(e.onClick,s.onClose)})})});Zx.displayName=PN;var MN=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function DN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),G4(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...DN(n))}}),t}function zu(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Kx(s,i):s.dispatchEvent(i)}var Kw=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function K4(e=()=>{}){const t=rr(e);qt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function G4(e){return e.nodeType===e.ELEMENT_NODE}function Q4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Z4=bN,RN=jN,ON=SN,AN=CN,IN=kN,LN=TN,FN=Zx;function $N(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=$N(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function UN(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=$N(e))&&(n&&(n+=" "),n+=t);return n}const Gw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qw=UN,ro=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const p=Gw(u)||Gw(f);return s[d][p]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:p,...y}=u;return Object.entries(y).every(x=>{let[b,w]=x;return Array.isArray(w)?w.includes({...i,...l}[b]):{...i,...l}[b]===w})?[...d,f,p]:d},[]);return Qw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...J4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zN("lucide",s),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(eR,{ref:i,iconNode:t,className:zN(`lucide-${X4(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=de("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=de("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=de("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=de("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=de("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=de("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=de("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=de("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=de("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=de("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=de("Tent",[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=de("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=de("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=de("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=de("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ny="-",CR=e=>{const t=ER(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ny);return l[0]===""&&l.length!==1&&l.shift(),HN(l,t)||kR(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},HN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?HN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ny);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Jw=/^\[(.+)\]$/,kR=e=>{if(Jw.test(e)){const t=Jw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ER=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return PR(Object.entries(e.classGroups),r).forEach(([i,o])=>{Xg(o,n,i,t)}),n},Xg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:eb(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(TR(s)){Xg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Xg(o,eb(t,i),r,n)})})},eb=(e,t)=>{let r=e;return t.split(ny).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},TR=e=>e.isThemeGetter,PR=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,MR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},YN="!",DR=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(v==="/"){f=w;continue}}v==="["?d++:v==="]"&&d--}const p=c.length===0?l:l.substring(u),y=p.startsWith(YN),x=y?p.substring(1):p,b=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},RR=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},OR=e=>({cache:MR(e.cacheSize),parseClassName:DR(e),...CR(e)}),AR=/\s+/,IR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(AR);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=r(d);let x=!!y,b=n(x?p.substring(0,y):p);if(!b){if(!x){l=d+(l.length>0?" "+l:l);continue}if(b=n(p),!b){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=RR(u).join(":"),v=f?w+YN:w,h=v+b;if(i.includes(h))continue;i.push(h);const g=s(b,x);for(let _=0;_<g.length;++_){const j=g[_];i.push(v+j)}l=d+(l.length>0?" "+l:l)}return l};function LR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KN(t))&&(n&&(n+=" "),n+=r);return n}const KN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KN(e[n]))&&(r&&(r+=" "),r+=t);return r};function FR(e,...t){let r,n,s,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=OR(d),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=IR(c,r);return s(c,u),u}return function(){return i(LR.apply(null,arguments))}}const pt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},GN=/^\[(?:([a-z-]+):)?(.+)\]$/i,$R=/^\d+\/\d+$/,UR=new Set(["px","full","screen"]),zR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>Go(e)||UR.has(e)||$R.test(e),ta=e=>Ul(e,"length",JR),Go=e=>!!e&&!Number.isNaN(Number(e)),xp=e=>Ul(e,"number",Go),lc=e=>!!e&&Number.isInteger(Number(e)),HR=e=>e.endsWith("%")&&Go(e.slice(0,-1)),$e=e=>GN.test(e),ra=e=>zR.test(e),YR=new Set(["length","size","percentage"]),KR=e=>Ul(e,YR,QN),GR=e=>Ul(e,"position",QN),QR=new Set(["image","url"]),ZR=e=>Ul(e,QR,tO),XR=e=>Ul(e,"",eO),cc=()=>!0,Ul=(e,t,r)=>{const n=GN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},JR=e=>BR.test(e)&&!VR.test(e),QN=()=>!1,eO=e=>WR.test(e),tO=e=>qR.test(e),rO=()=>{const e=pt("colors"),t=pt("spacing"),r=pt("blur"),n=pt("brightness"),s=pt("borderColor"),i=pt("borderRadius"),o=pt("borderSpacing"),l=pt("borderWidth"),c=pt("contrast"),d=pt("grayscale"),u=pt("hueRotate"),f=pt("invert"),p=pt("gap"),y=pt("gradientColorStops"),x=pt("gradientColorStopPositions"),b=pt("inset"),w=pt("margin"),v=pt("opacity"),h=pt("padding"),g=pt("saturate"),_=pt("scale"),j=pt("sepia"),k=pt("skew"),N=pt("space"),E=pt("translate"),R=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",$e,t],D=()=>[$e,t],C=()=>["",bs,ta],M=()=>["auto",Go,$e],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",$e],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Go,$e];return{cacheSize:500,separator:":",theme:{colors:[cc],spacing:[bs,ta],blur:["none","",ra,$e],brightness:V(),borderColor:[e],borderRadius:["none","","full",ra,$e],borderSpacing:D(),borderWidth:C(),contrast:V(),grayscale:O(),hueRotate:V(),invert:O(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[HR,ta],inset:L(),margin:L(),opacity:V(),padding:D(),saturate:V(),scale:V(),sepia:O(),skew:V(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[ra]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),$e]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lc,$e]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",lc,$e]}],"grid-cols":[{"grid-cols":[cc]}],"col-start-end":[{col:["auto",{span:["full",lc,$e]},$e]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[cc]}],"row-start-end":[{row:["auto",{span:[lc,$e]},$e]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[ra]},ra]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ra,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xp]}],"font-family":[{font:[cc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Go,xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,ta]}],"underline-offset":[{"underline-offset":["auto",bs,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),GR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[bs,$e]}],"outline-w":[{outline:[bs,ta]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[bs,ta]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ra,XR]}],"shadow-color":[{shadow:[cc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ra,$e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[lc,$e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,ta,xp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nO=FR(rO);function G(...e){return nO(UN(e))}const sO=Z4,ZN=m.forwardRef(({className:e,...t},r)=>a.jsx(RN,{ref:r,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZN.displayName=RN.displayName;const aO=ro("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XN=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(ON,{ref:n,className:G(aO({variant:t}),e),...r}));XN.displayName=ON.displayName;const iO=m.forwardRef(({className:e,...t},r)=>a.jsx(LN,{ref:r,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));iO.displayName=LN.displayName;const JN=m.forwardRef(({className:e,...t},r)=>a.jsx(FN,{ref:r,className:G("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Fs,{className:"h-4 w-4"})}));JN.displayName=FN.displayName;const eS=m.forwardRef(({className:e,...t},r)=>a.jsx(AN,{ref:r,className:G("text-sm font-semibold",e),...t}));eS.displayName=AN.displayName;const tS=m.forwardRef(({className:e,...t},r)=>a.jsx(IN,{ref:r,className:G("text-sm opacity-90",e),...t}));tS.displayName=IN.displayName;function oO(){const{toasts:e}=Qe();return a.jsxs(sO,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(XN,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(eS,{children:r}),n&&a.jsx(tS,{children:n})]}),s,a.jsx(JN,{})]},t)}),a.jsx(ZN,{})]})}var th=["light","dark"],sy="(prefers-color-scheme: dark)",lO=typeof window>"u",ay=m.createContext(void 0),cO={setTheme:e=>{},themes:[]},rS=()=>{var e;return(e=m.useContext(ay))!=null?e:cO},dO=e=>m.useContext(ay)?e.children:m.createElement(fO,{...e}),uO=["light","dark"],fO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=uO,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,p]=m.useState(()=>tb(s,o)),[y,x]=m.useState(()=>tb(s)),b=c?Object.values(c):i,w=m.useCallback(_=>{let j=_;if(!j)return;_==="system"&&r&&(j=rb());let k=c?c[j]:j,N=t?mO():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...b),k&&E.classList.add(k)):k?E.setAttribute(l,k):E.removeAttribute(l),n){let R=th.includes(o)?o:null,T=th.includes(j)?j:R;E.style.colorScheme=T}N==null||N()},[]),v=m.useCallback(_=>{let j=typeof _=="function"?_(_):_;p(j);try{localStorage.setItem(s,j)}catch{}},[e]),h=m.useCallback(_=>{let j=rb(_);x(j),f==="system"&&r&&!e&&w("system")},[f,e]);m.useEffect(()=>{let _=window.matchMedia(sy);return _.addListener(h),h(_),()=>_.removeListener(h)},[h]),m.useEffect(()=>{let _=j=>{if(j.key!==s)return;let k=j.newValue||o;v(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[v]),m.useEffect(()=>{w(e??f)},[e,f]);let g=m.useMemo(()=>({theme:f,setTheme:v,forcedTheme:e,resolvedTheme:f==="system"?y:f,themes:r?[...i,"system"]:i,systemTheme:r?y:void 0}),[f,v,e,y,r,i]);return m.createElement(ay.Provider,{value:g},m.createElement(hO,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:b,nonce:u}),d)},hO=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?th.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,b=!1,w=!0)=>{let v=o?o[x]:x,h=b?x+"|| ''":`'${v}'`,g="";return s&&w&&!b&&th.includes(x)&&(g+=`d.style.colorScheme = '${x}';`),r==="class"?b||v?g+=`c.add(${h})`:g+="null":v&&(g+=`d[s](n,${h})`),g},y=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${sy}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})}),tb=(e,t)=>{if(lO)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},mO=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},rb=e=>(e||(e=window.matchMedia(sy)),e.matches?"dark":"light"),pO=e=>{switch(e){case"success":return xO;case"info":return wO;case"warning":return yO;case"error":return bO;default:return null}},gO=Array(12).fill(0),vO=({visible:e})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},K.createElement("div",{className:"sonner-spinner"},gO.map((t,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_O=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Jg=1,jO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Jg++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(SO(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Jg++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},$r=new jO,NO=(e,t)=>{let r=(t==null?void 0:t.id)||Jg++;return $r.addToast({title:e,...t,id:r}),r},SO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CO=NO,kO=()=>$r.toasts,go=Object.assign(CO,{success:$r.success,info:$r.info,warning:$r.warning,error:$r.error,custom:$r.custom,message:$r.message,promise:$r.promise,dismiss:$r.dismiss,loading:$r.loading},{getHistory:kO});function EO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}EO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bu(e){return e.label!==void 0}var TO=3,PO="32px",MO=4e3,DO=356,RO=14,OO=20,AO=200;function IO(...e){return e.filter(Boolean).join(" ")}var LO=e=>{var t,r,n,s,i,o,l,c,d,u;let{invert:f,toast:p,unstyled:y,interacting:x,setHeights:b,visibleToasts:w,heights:v,index:h,toasts:g,expanded:_,removeToast:j,defaultRichColors:k,closeButton:N,style:E,cancelButtonStyle:R,actionButtonStyle:T,className:L="",descriptionClassName:D="",duration:C,position:M,gap:$,loadingIcon:B,expandByDefault:U,classNames:S,icons:O,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:V,cn:ee}=e,[je,Z]=K.useState(!1),[Ne,ue]=K.useState(!1),[F,Y]=K.useState(!1),[X,le]=K.useState(!1),[we,Oe]=K.useState(0),[Dt,st]=K.useState(0),rn=K.useRef(null),Xt=K.useRef(null),vn=h===0,A=h+1<=w,z=p.type,q=p.dismissible!==!1,fe=p.className||"",oe=p.descriptionClassName||"",re=K.useMemo(()=>v.findIndex(Fe=>Fe.toastId===p.id)||0,[v,p.id]),Ee=K.useMemo(()=>{var Fe;return(Fe=p.closeButton)!=null?Fe:N},[p.closeButton,N]),Le=K.useMemo(()=>p.duration||C||MO,[p.duration,C]),kt=K.useRef(0),ht=K.useRef(0),Bn=K.useRef(0),Xs=K.useRef(null),[ho,Zl]=M.split("-"),wu=K.useMemo(()=>v.reduce((Fe,mt,ct)=>ct>=re?Fe:Fe+mt.height,0),[v,re]),Xl=_O(),zm=p.invert||f,mo=z==="loading";ht.current=K.useMemo(()=>re*$+wu,[re,wu]),K.useEffect(()=>{Z(!0)},[]),K.useLayoutEffect(()=>{if(!je)return;let Fe=Xt.current,mt=Fe.style.height;Fe.style.height="auto";let ct=Fe.getBoundingClientRect().height;Fe.style.height=mt,st(ct),b(Vn=>Vn.find(Wn=>Wn.toastId===p.id)?Vn.map(Wn=>Wn.toastId===p.id?{...Wn,height:ct}:Wn):[{toastId:p.id,height:ct,position:p.position},...Vn])},[je,p.title,p.description,b,p.id]);let Js=K.useCallback(()=>{ue(!0),Oe(ht.current),b(Fe=>Fe.filter(mt=>mt.toastId!==p.id)),setTimeout(()=>{j(p)},AO)},[p,j,b,ht]);K.useEffect(()=>{if(p.promise&&z==="loading"||p.duration===1/0||p.type==="loading")return;let Fe,mt=Le;return _||x||V&&Xl?(()=>{if(Bn.current<kt.current){let ct=new Date().getTime()-kt.current;mt=mt-ct}Bn.current=new Date().getTime()})():mt!==1/0&&(kt.current=new Date().getTime(),Fe=setTimeout(()=>{var ct;(ct=p.onAutoClose)==null||ct.call(p,p),Js()},mt)),()=>clearTimeout(Fe)},[_,x,U,p,Le,Js,p.promise,z,V,Xl]),K.useEffect(()=>{let Fe=Xt.current;if(Fe){let mt=Fe.getBoundingClientRect().height;return st(mt),b(ct=>[{toastId:p.id,height:mt,position:p.position},...ct]),()=>b(ct=>ct.filter(Vn=>Vn.toastId!==p.id))}},[b,p.id]),K.useEffect(()=>{p.delete&&Js()},[Js,p.delete]);function kP(){return O!=null&&O.loading?K.createElement("div",{className:"sonner-loader","data-visible":z==="loading"},O.loading):B?K.createElement("div",{className:"sonner-loader","data-visible":z==="loading"},B):K.createElement(vO,{visible:z==="loading"})}return K.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Xt,className:ee(L,fe,S==null?void 0:S.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[z],(r=p==null?void 0:p.classNames)==null?void 0:r[z]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":je,"data-promise":!!p.promise,"data-removed":Ne,"data-visible":A,"data-y-position":ho,"data-x-position":Zl,"data-index":h,"data-front":vn,"data-swiping":F,"data-dismissible":q,"data-type":z,"data-invert":zm,"data-swipe-out":X,"data-expanded":!!(_||U&&je),style:{"--index":h,"--toasts-before":h,"--z-index":g.length-h,"--offset":`${Ne?we:ht.current}px`,"--initial-height":U?"auto":`${Dt}px`,...E,...p.style},onPointerDown:Fe=>{mo||!q||(rn.current=new Date,Oe(ht.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(Y(!0),Xs.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,mt,ct,Vn;if(X||!q)return;Xs.current=null;let Wn=Number(((Fe=Xt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bu=new Date().getTime()-((mt=rn.current)==null?void 0:mt.getTime()),EP=Math.abs(Wn)/bu;if(Math.abs(Wn)>=OO||EP>.11){Oe(ht.current),(ct=p.onDismiss)==null||ct.call(p,p),Js(),le(!0);return}(Vn=Xt.current)==null||Vn.style.setProperty("--swipe-amount","0px"),Y(!1)},onPointerMove:Fe=>{var mt;if(!Xs.current||!q)return;let ct=Fe.clientY-Xs.current.y,Vn=Fe.clientX-Xs.current.x,Wn=(ho==="top"?Math.min:Math.max)(0,ct),bu=Fe.pointerType==="touch"?10:2;Math.abs(Wn)>bu?(mt=Xt.current)==null||mt.style.setProperty("--swipe-amount",`${ct}px`):Math.abs(Vn)>bu&&(Xs.current=null)}},Ee&&!p.jsx?K.createElement("button",{"aria-label":H,"data-disabled":mo,"data-close-button":!0,onClick:mo||!q?()=>{}:()=>{var Fe;Js(),(Fe=p.onDismiss)==null||Fe.call(p,p)},className:ee(S==null?void 0:S.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||K.isValidElement(p.title)?p.jsx||p.title:K.createElement(K.Fragment,null,z||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:ee(S==null?void 0:S.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kP():null,p.type!=="loading"?p.icon||(O==null?void 0:O[z])||pO(z):null):null,K.createElement("div",{"data-content":"",className:ee(S==null?void 0:S.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:ee(S==null?void 0:S.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?K.createElement("div",{"data-description":"",className:ee(D,oe,S==null?void 0:S.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),K.isValidElement(p.cancel)?p.cancel:p.cancel&&Bu(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Fe=>{var mt,ct;Bu(p.cancel)&&q&&((ct=(mt=p.cancel).onClick)==null||ct.call(mt,Fe),Js())},className:ee(S==null?void 0:S.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,K.isValidElement(p.action)?p.action:p.action&&Bu(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:Fe=>{var mt,ct;Bu(p.action)&&(Fe.defaultPrevented||((ct=(mt=p.action).onClick)==null||ct.call(mt,Fe),Js()))},className:ee(S==null?void 0:S.actionButton,(u=p==null?void 0:p.classNames)==null?void 0:u.actionButton)},p.action.label):null))};function nb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var FO=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:p=TO,toastOptions:y,dir:x=nb(),gap:b=RO,loadingIcon:w,icons:v,containerAriaLabel:h="Notifications",pauseWhenPageIsHidden:g,cn:_=IO}=e,[j,k]=K.useState([]),N=K.useMemo(()=>Array.from(new Set([r].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,r]),[E,R]=K.useState([]),[T,L]=K.useState(!1),[D,C]=K.useState(!1),[M,$]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=K.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=K.useRef(null),O=K.useRef(!1),H=K.useCallback(V=>{var ee;(ee=j.find(je=>je.id===V.id))!=null&&ee.delete||$r.dismiss(V.id),k(je=>je.filter(({id:Z})=>Z!==V.id))},[j]);return K.useEffect(()=>$r.subscribe(V=>{if(V.dismiss){k(ee=>ee.map(je=>je.id===V.id?{...je,delete:!0}:je));return}setTimeout(()=>{pN.flushSync(()=>{k(ee=>{let je=ee.findIndex(Z=>Z.id===V.id);return je!==-1?[...ee.slice(0,je),{...ee[je],...V},...ee.slice(je+1)]:[V,...ee]})})})}),[]),K.useEffect(()=>{if(c!=="system"){$(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{$(V?"dark":"light")})},[c]),K.useEffect(()=>{j.length<=1&&L(!1)},[j]),K.useEffect(()=>{let V=ee=>{var je,Z;n.every(Ne=>ee[Ne]||ee.code===Ne)&&(L(!0),(je=B.current)==null||je.focus()),ee.code==="Escape"&&(document.activeElement===B.current||(Z=B.current)!=null&&Z.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),K.useEffect(()=>{if(B.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,O.current=!1)}},[B.current]),j.length?K.createElement("section",{"aria-label":`${h} ${U}`,tabIndex:-1},N.map((V,ee)=>{var je;let[Z,Ne]=V.split("-");return K.createElement("ol",{key:V,dir:x==="auto"?nb():x,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Z,"data-x-position":Ne,style:{"--front-toast-height":`${((je=E[0])==null?void 0:je.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||PO,"--width":`${DO}px`,"--gap":`${b}px`,...f},onBlur:ue=>{O.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(O.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||O.current||(O.current=!0,S.current=ue.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{D||L(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},j.filter(ue=>!ue.position&&ee===0||ue.position===V).map((ue,F)=>{var Y,X;return K.createElement(LO,{key:ue.id,icons:v,index:F,toast:ue,defaultRichColors:d,duration:(Y=y==null?void 0:y.duration)!=null?Y:u,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:p,closeButton:(X=y==null?void 0:y.closeButton)!=null?X:i,interacting:D,position:V,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:H,toasts:j.filter(le=>le.position==ue.position),heights:E.filter(le=>le.position==ue.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:g,cn:_})}))})):null};const $O=({...e})=>{const{theme:t="system"}=rS();return a.jsx(FO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var UO=fj.useId||(()=>{}),zO=0;function Kr(e){const[t,r]=m.useState(UO());return qt(()=>{e||r(n=>n??String(zO++))},[e]),e||(t?`radix-${t}`:"")}const BO=["top","right","bottom","left"],Ba=Math.min,zr=Math.max,rh=Math.round,Vu=Math.floor,Va=e=>({x:e,y:e}),VO={left:"right",right:"left",bottom:"top",top:"bottom"},WO={start:"end",end:"start"};function ev(e,t,r){return zr(e,Ba(t,r))}function qs(e,t){return typeof e=="function"?e(t):e}function Hs(e){return e.split("-")[0]}function zl(e){return e.split("-")[1]}function iy(e){return e==="x"?"y":"x"}function oy(e){return e==="y"?"height":"width"}function Wa(e){return["top","bottom"].includes(Hs(e))?"y":"x"}function ly(e){return iy(Wa(e))}function qO(e,t,r){r===void 0&&(r=!1);const n=zl(e),s=ly(e),i=oy(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=nh(o)),[o,nh(o)]}function HO(e){const t=nh(e);return[tv(e),t,tv(t)]}function tv(e){return e.replace(/start|end/g,t=>WO[t])}function YO(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function KO(e,t,r,n){const s=zl(e);let i=YO(Hs(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(tv)))),i}function nh(e){return e.replace(/left|right|bottom|top/g,t=>VO[t])}function GO(e){return{top:0,right:0,bottom:0,left:0,...e}}function nS(e){return typeof e!="number"?GO(e):{top:e,right:e,bottom:e,left:e}}function sh(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function sb(e,t,r){let{reference:n,floating:s}=e;const i=Wa(t),o=ly(t),l=oy(o),c=Hs(t),d=i==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:u,y:n.y-s.height};break;case"bottom":y={x:u,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(zl(t)){case"start":y[o]-=p*(r&&d?-1:1);break;case"end":y[o]+=p*(r&&d?-1:1);break}return y}const QO=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=sb(d,n,c),p=n,y={},x=0;for(let b=0;b<l.length;b++){const{name:w,fn:v}=l[b],{x:h,y:g,data:_,reset:j}=await v({x:u,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});u=h??u,f=g??f,y={...y,[w]:{...y[w],..._}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:u,y:f}=sb(d,p,c)),b=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:y}};async function fd(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=qs(t,e),x=nS(y),w=l[p?f==="floating"?"reference":"floating":f],v=sh(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),h=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},j=sh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:h,offsetParent:g,strategy:c}):h);return{top:(v.top-j.top+x.top)/_.y,bottom:(j.bottom-v.bottom+x.bottom)/_.y,left:(v.left-j.left+x.left)/_.x,right:(j.right-v.right+x.right)/_.x}}const ZO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=qs(e,t)||{};if(d==null)return{};const f=nS(u),p={x:r,y:n},y=ly(s),x=oy(y),b=await o.getDimensions(d),w=y==="y",v=w?"top":"left",h=w?"bottom":"right",g=w?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[y]-p[y]-i.floating[x],j=p[y]-i.reference[y],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=k?k[g]:0;(!N||!await(o.isElement==null?void 0:o.isElement(k)))&&(N=l.floating[g]||i.floating[x]);const E=_/2-j/2,R=N/2-b[x]/2-1,T=Ba(f[v],R),L=Ba(f[h],R),D=T,C=N-b[x]-L,M=N/2-b[x]/2+E,$=ev(D,M,C),B=!c.arrow&&zl(s)!=null&&M!==$&&i.reference[x]/2-(M<D?T:L)-b[x]/2<0,U=B?M<D?M-D:M-C:0;return{[y]:p[y]+U,data:{[y]:$,centerOffset:M-$-U,...B&&{alignmentOffset:U}},reset:B}}}),XO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...w}=qs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Hs(s),h=Wa(l),g=Hs(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=p||(g||!b?[nh(l)]:HO(l)),k=x!=="none";!p&&k&&j.push(...KO(l,b,x,_));const N=[l,...j],E=await fd(t,w),R=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&R.push(E[v]),f){const M=qO(s,o,_);R.push(E[M[0]],E[M[1]])}if(T=[...T,{placement:s,overflows:R}],!R.every(M=>M<=0)){var L,D;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,$=N[M];if($)return{data:{index:M,overflows:T},reset:{placement:$}};let B=(D=T.filter(U=>U.overflows[0]<=0).sort((U,S)=>U.overflows[1]-S.overflows[1])[0])==null?void 0:D.placement;if(!B)switch(y){case"bestFit":{var C;const U=(C=T.filter(S=>{if(k){const O=Wa(S.placement);return O===h||O==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(O=>O>0).reduce((O,H)=>O+H,0)]).sort((S,O)=>S[1]-O[1])[0])==null?void 0:C[0];U&&(B=U);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function ab(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ib(e){return BO.some(t=>e[t]>=0)}const JO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=qs(e,t);switch(n){case"referenceHidden":{const i=await fd(t,{...s,elementContext:"reference"}),o=ab(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ib(o)}}}case"escaped":{const i=await fd(t,{...s,altBoundary:!0}),o=ab(i,r.floating);return{data:{escapedOffsets:o,escaped:ib(o)}}}default:return{}}}}};async function eA(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Hs(r),l=zl(r),c=Wa(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=qs(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),c?{x:y*u,y:p*d}:{x:p*d,y:y*u}}const tA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await eA(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},rA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:h}=w;return{x:v,y:h}}},...c}=qs(e,t),d={x:r,y:n},u=await fd(t,c),f=Wa(Hs(s)),p=iy(f);let y=d[p],x=d[f];if(i){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",h=y+u[w],g=y-u[v];y=ev(h,y,g)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",h=x+u[w],g=x-u[v];x=ev(h,x,g)}const b=l.fn({...t,[p]:y,[f]:x});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:i,[f]:o}}}}}},nA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qs(e,t),u={x:r,y:n},f=Wa(s),p=iy(f);let y=u[p],x=u[f];const b=qs(l,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const g=p==="y"?"height":"width",_=i.reference[p]-i.floating[g]+w.mainAxis,j=i.reference[p]+i.reference[g]-w.mainAxis;y<_?y=_:y>j&&(y=j)}if(d){var v,h;const g=p==="y"?"width":"height",_=["top","left"].includes(Hs(s)),j=i.reference[f]-i.floating[g]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:w.crossAxis),k=i.reference[f]+i.reference[g]+(_?0:((h=o.offset)==null?void 0:h[f])||0)-(_?w.crossAxis:0);x<j?x=j:x>k&&(x=k)}return{[p]:y,[f]:x}}}},sA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=qs(e,t),u=await fd(t,d),f=Hs(s),p=zl(s),y=Wa(s)==="y",{width:x,height:b}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const h=b-u.top-u.bottom,g=x-u.left-u.right,_=Ba(b-u[w],h),j=Ba(x-u[v],g),k=!t.middlewareData.shift;let N=_,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=h),k&&!p){const T=zr(u.left,0),L=zr(u.right,0),D=zr(u.top,0),C=zr(u.bottom,0);y?E=x-2*(T!==0||L!==0?T+L:zr(u.left,u.right)):N=b-2*(D!==0||C!==0?D+C:zr(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:N});const R=await o.getDimensions(l.floating);return x!==R.width||b!==R.height?{reset:{rects:!0}}:{}}}};function Jh(){return typeof window<"u"}function Bl(e){return sS(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ys(e){var t;return(t=(sS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sS(e){return Jh()?e instanceof Node||e instanceof Gr(e).Node:!1}function On(e){return Jh()?e instanceof Element||e instanceof Gr(e).Element:!1}function ps(e){return Jh()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function ob(e){return!Jh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}function Qd(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=An(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function aA(e){return["table","td","th"].includes(Bl(e))}function em(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cy(e){const t=dy(),r=On(e)?An(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function iA(e){let t=qa(e);for(;ps(t)&&!bl(t);){if(cy(t))return t;if(em(t))return null;t=qa(t)}return null}function dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bl(e){return["html","body","#document"].includes(Bl(e))}function An(e){return Gr(e).getComputedStyle(e)}function tm(e){return On(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(Bl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ob(e)&&e.host||ys(e);return ob(t)?t.host:t}function aS(e){const t=qa(e);return bl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ps(t)&&Qd(t)?t:aS(t)}function hd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=aS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Gr(s);if(i){const l=rv(o);return t.concat(o,o.visualViewport||[],Qd(s)?s:[],l&&r?hd(l):[])}return t.concat(s,hd(s,[],r))}function rv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iS(e){const t=An(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ps(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=rh(r)!==i||rh(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function uy(e){return On(e)?e:e.contextElement}function Qo(e){const t=uy(e);if(!ps(t))return Va(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=iS(t);let o=(i?rh(r.width):r.width)/n,l=(i?rh(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oA=Va(0);function oS(e){const t=Gr(e);return!dy()||!t.visualViewport?oA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gr(e)?!1:t}function Wi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=uy(e);let o=Va(1);t&&(n?On(n)&&(o=Qo(n)):o=Qo(e));const l=lA(i,r,n)?oS(i):Va(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const p=Gr(i),y=n&&On(n)?Gr(n):n;let x=p,b=rv(x);for(;b&&n&&y!==x;){const w=Qo(b),v=b.getBoundingClientRect(),h=An(b),g=v.left+(b.clientLeft+parseFloat(h.paddingLeft))*w.x,_=v.top+(b.clientTop+parseFloat(h.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=g,d+=_,x=Gr(b),b=rv(x)}}return sh({width:u,height:f,x:c,y:d})}function cA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ys(n),l=t?em(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Va(1);const u=Va(0),f=ps(n);if((f||!f&&!i)&&((Bl(n)!=="body"||Qd(o))&&(c=tm(n)),ps(n))){const p=Wi(n);d=Qo(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function dA(e){return Array.from(e.getClientRects())}function nv(e,t){const r=tm(e).scrollLeft;return t?t.left+r:Wi(ys(e)).left+r}function uA(e){const t=ys(e),r=tm(e),n=e.ownerDocument.body,s=zr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=zr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+nv(e);const l=-r.scrollTop;return An(n).direction==="rtl"&&(o+=zr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function fA(e,t){const r=Gr(e),n=ys(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=dy();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function hA(e,t){const r=Wi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ps(e)?Qo(e):Va(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function lb(e,t,r){let n;if(t==="viewport")n=fA(e,r);else if(t==="document")n=uA(ys(e));else if(On(t))n=hA(t,r);else{const s=oS(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return sh(n)}function lS(e,t){const r=qa(e);return r===t||!On(r)||bl(r)?!1:An(r).position==="fixed"||lS(r,t)}function mA(e,t){const r=t.get(e);if(r)return r;let n=hd(e,[],!1).filter(l=>On(l)&&Bl(l)!=="body"),s=null;const i=An(e).position==="fixed";let o=i?qa(e):e;for(;On(o)&&!bl(o);){const l=An(o),c=cy(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qd(o)&&!c&&lS(e,o))?n=n.filter(u=>u!==o):s=l,o=qa(o)}return t.set(e,n),n}function pA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?em(t)?[]:mA(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=lb(t,u,s);return d.top=zr(f.top,d.top),d.right=Ba(f.right,d.right),d.bottom=Ba(f.bottom,d.bottom),d.left=zr(f.left,d.left),d},lb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gA(e){const{width:t,height:r}=iS(e);return{width:t,height:r}}function vA(e,t,r){const n=ps(t),s=ys(t),i=r==="fixed",o=Wi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Va(0);if(n||!n&&!i)if((Bl(t)!=="body"||Qd(s))&&(l=tm(t)),n){const y=Wi(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&(c.x=nv(s));let d=0,u=0;if(s&&!n&&!i){const y=s.getBoundingClientRect();u=y.top+l.scrollTop,d=y.left+l.scrollLeft-nv(s,y)}const f=o.left+l.scrollLeft-c.x-d,p=o.top+l.scrollTop-c.y-u;return{x:f,y:p,width:o.width,height:o.height}}function yp(e){return An(e).position==="static"}function cb(e,t){if(!ps(e)||An(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ys(e)===r&&(r=r.ownerDocument.body),r}function cS(e,t){const r=Gr(e);if(em(e))return r;if(!ps(e)){let s=qa(e);for(;s&&!bl(s);){if(On(s)&&!yp(s))return s;s=qa(s)}return r}let n=cb(e,t);for(;n&&aA(n)&&yp(n);)n=cb(n,t);return n&&bl(n)&&yp(n)&&!cy(n)?r:n||iA(e)||r}const xA=async function(e){const t=this.getOffsetParent||cS,r=this.getDimensions,n=await r(e.floating);return{reference:vA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yA(e){return An(e).direction==="rtl"}const wA={convertOffsetParentRelativeRectToViewportRelativeRect:cA,getDocumentElement:ys,getClippingRect:pA,getOffsetParent:cS,getElementRects:xA,getClientRects:dA,getDimensions:gA,getScale:Qo,isElement:On,isRTL:yA};function bA(e,t){let r=null,n;const s=ys(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:p}=e.getBoundingClientRect();if(l||t(),!f||!p)return;const y=Vu(u),x=Vu(s.clientWidth-(d+f)),b=Vu(s.clientHeight-(u+p)),w=Vu(d),h={rootMargin:-y+"px "+-x+"px "+-b+"px "+-w+"px",threshold:zr(0,Ba(1,c))||1};let g=!0;function _(j){const k=j[0].intersectionRatio;if(k!==c){if(!g)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}g=!1}try{r=new IntersectionObserver(_,{...h,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,h)}r.observe(e)}return o(!0),i}function _A(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=uy(e),u=s||i?[...d?hd(d):[],...hd(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=d&&l?bA(d,r):null;let p=-1,y=null;o&&(y=new ResizeObserver(v=>{let[h]=v;h&&h.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(t)})),r()}),d&&!c&&y.observe(d),y.observe(t));let x,b=c?Wi(e):null;c&&w();function w(){const v=Wi(e);b&&(v.x!==b.x||v.y!==b.y||v.width!==b.width||v.height!==b.height)&&r(),b=v,x=requestAnimationFrame(w)}return r(),()=>{var v;u.forEach(h=>{s&&h.removeEventListener("scroll",r),i&&h.removeEventListener("resize",r)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const jA=tA,NA=rA,SA=XO,CA=sA,kA=JO,db=ZO,EA=nA,TA=(e,t,r)=>{const n=new Map,s={platform:wA,...r},i={...s.platform,_c:n};return QO(e,t,{...s,platform:i})};var xf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ah(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ah(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!ah(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ub(e,t){const r=dS(e);return Math.round(t*r)/r}function wp(e){const t=m.useRef(e);return xf(()=>{t.current=e}),t}function PA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=m.useState(n);ah(p,n)||y(n);const[x,b]=m.useState(null),[w,v]=m.useState(null),h=m.useCallback(S=>{S!==k.current&&(k.current=S,b(S))},[]),g=m.useCallback(S=>{S!==N.current&&(N.current=S,v(S))},[]),_=i||x,j=o||w,k=m.useRef(null),N=m.useRef(null),E=m.useRef(u),R=c!=null,T=wp(c),L=wp(s),D=wp(d),C=m.useCallback(()=>{if(!k.current||!N.current)return;const S={placement:t,strategy:r,middleware:p};L.current&&(S.platform=L.current),TA(k.current,N.current,S).then(O=>{const H={...O,isPositioned:D.current!==!1};M.current&&!ah(E.current,H)&&(E.current=H,eo.flushSync(()=>{f(H)}))})},[p,t,r,L,D]);xf(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[d]);const M=m.useRef(!1);xf(()=>(M.current=!0,()=>{M.current=!1}),[]),xf(()=>{if(_&&(k.current=_),j&&(N.current=j),_&&j){if(T.current)return T.current(_,j,C);C()}},[_,j,C,T,R]);const $=m.useMemo(()=>({reference:k,floating:N,setReference:h,setFloating:g}),[h,g]),B=m.useMemo(()=>({reference:_,floating:j}),[_,j]),U=m.useMemo(()=>{const S={position:r,left:0,top:0};if(!B.floating)return S;const O=ub(B.floating,u.x),H=ub(B.floating,u.y);return l?{...S,transform:"translate("+O+"px, "+H+"px)",...dS(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:H}},[r,l,B.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:C,refs:$,elements:B,floatingStyles:U}),[u,C,$,B,U])}const MA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?db({element:n.current,padding:s}).fn(r):{}:n?db({element:n,padding:s}).fn(r):{}}}},DA=(e,t)=>({...jA(e),options:[e,t]}),RA=(e,t)=>({...NA(e),options:[e,t]}),OA=(e,t)=>({...EA(e),options:[e,t]}),AA=(e,t)=>({...SA(e),options:[e,t]}),IA=(e,t)=>({...CA(e),options:[e,t]}),LA=(e,t)=>({...kA(e),options:[e,t]}),FA=(e,t)=>({...MA(e),options:[e,t]});var $A="Arrow",uS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(_e.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});uS.displayName=$A;var UA=uS;function zA(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:p,children:y,...x}=f,b=(p==null?void 0:p[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(b.Provider,{value:w,children:y})}function u(f,p){const y=(p==null?void 0:p[e][c])||l,x=m.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,BA(s,...t)]}function BA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fy(e){const[t,r]=m.useState(void 0);return qt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var hy="Popper",[fS,ri]=zA(hy),[VA,hS]=fS(hy),mS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(VA,{scope:t,anchor:n,onAnchorChange:s,children:r})};mS.displayName=hy;var pS="PopperAnchor",gS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=hS(pS,r),o=m.useRef(null),l=We(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(_e.div,{...s,ref:l})});gS.displayName=pS;var my="PopperContent",[WA,qA]=fS(my),vS=m.forwardRef((e,t)=>{var F,Y,X,le,we,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:x,...b}=e,w=hS(my,r),[v,h]=m.useState(null),g=We(t,Dt=>h(Dt)),[_,j]=m.useState(null),k=fy(_),N=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,R=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],D=L.length>0,C={padding:T,boundary:L.filter(YA),altBoundary:D},{refs:M,floatingStyles:$,placement:B,isPositioned:U,middlewareData:S}=PA({strategy:"fixed",placement:R,whileElementsMounted:(...Dt)=>_A(...Dt,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[DA({mainAxis:s+E,alignmentAxis:o}),c&&RA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OA():void 0,...C}),c&&AA({...C}),IA({...C,apply:({elements:Dt,rects:st,availableWidth:rn,availableHeight:Xt})=>{const{width:vn,height:A}=st.reference,z=Dt.floating.style;z.setProperty("--radix-popper-available-width",`${rn}px`),z.setProperty("--radix-popper-available-height",`${Xt}px`),z.setProperty("--radix-popper-anchor-width",`${vn}px`),z.setProperty("--radix-popper-anchor-height",`${A}px`)}}),_&&FA({element:_,padding:l}),KA({arrowWidth:N,arrowHeight:E}),p&&LA({strategy:"referenceHidden",...C})]}),[O,H]=wS(B),V=rr(x);qt(()=>{U&&(V==null||V())},[U,V]);const ee=(F=S.arrow)==null?void 0:F.x,je=(Y=S.arrow)==null?void 0:Y.y,Z=((X=S.arrow)==null?void 0:X.centerOffset)!==0,[Ne,ue]=m.useState();return qt(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:U?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(le=S.transformOrigin)==null?void 0:le.x,(we=S.transformOrigin)==null?void 0:we.y].join(" "),...((Oe=S.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(WA,{scope:r,placedSide:O,onArrowChange:j,arrowX:ee,arrowY:je,shouldHideArrow:Z,children:a.jsx(_e.div,{"data-side":O,"data-align":H,...b,ref:g,style:{...b.style,animation:U?void 0:"none"}})})})});vS.displayName=my;var xS="PopperArrow",HA={top:"bottom",right:"left",bottom:"top",left:"right"},yS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=qA(xS,n),o=HA[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(UA,{...s,ref:r,style:{...s.style,display:"block"}})})});yS.displayName=xS;function YA(e){return e!==null}var KA=e=>({name:"transformOrigin",options:e,fn(t){var w,v,h;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=wS(r),f={start:"0%",center:"50%",end:"100%"}[u],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,y=(((h=s.arrow)==null?void 0:h.y)??0)+c/2;let x="",b="";return d==="bottom"?(x=o?f:`${p}px`,b=`${-c}px`):d==="top"?(x=o?f:`${p}px`,b=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,b=o?f:`${y}px`):d==="left"&&(x=`${n.floating.width+c}px`,b=o?f:`${y}px`),{data:{x,y:b}}}});function wS(e){const[t,r="center"]=e.split("-");return[t,r]}var rm=mS,Zd=gS,nm=vS,sm=yS,[am,OH]=tn("Tooltip",[ri]),im=ri(),bS="TooltipProvider",GA=700,sv="tooltip.open",[QA,py]=am(bS),_S=e=>{const{__scopeTooltip:t,delayDuration:r=GA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,l]=m.useState(!0),c=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(QA,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};_S.displayName=bS;var om="Tooltip",[ZA,lm]=am(om),jS=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=py(om,e.__scopeTooltip),d=im(t),[u,f]=m.useState(null),p=Kr(),y=m.useRef(0),x=o??c.disableHoverableContent,b=l??c.delayDuration,w=m.useRef(!1),[v=!1,h]=pn({prop:n,defaultProp:s,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(sv))):c.onClose(),i==null||i(N)}}),g=m.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),_=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,h(!0)},[h]),j=m.useCallback(()=>{window.clearTimeout(y.current),y.current=0,h(!1)},[h]),k=m.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,h(!0),y.current=0},b)},[b,h]);return m.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),a.jsx(rm,{...d,children:a.jsx(ZA,{scope:t,contentId:p,open:v,stateAttribute:g,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?k():_()},[c.isOpenDelayed,k,_]),onTriggerLeave:m.useCallback(()=>{x?j():(window.clearTimeout(y.current),y.current=0)},[j,x]),onOpen:_,onClose:j,disableHoverableContent:x,children:r})})};jS.displayName=om;var av="TooltipTrigger",NS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=lm(av,r),i=py(av,r),o=im(r),l=m.useRef(null),c=We(t,l,s.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Zd,{asChild:!0,...o,children:a.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:se(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:se(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:se(e.onBlur,s.onClose),onClick:se(e.onClick,s.onClose)})})});NS.displayName=av;var XA="TooltipPortal",[AH,JA]=am(XA,{forceMount:void 0}),_l="TooltipContent",SS=m.forwardRef((e,t)=>{const r=JA(_l,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=lm(_l,e.__scopeTooltip);return a.jsx(_r,{present:n||o.open,children:o.disableHoverableContent?a.jsx(CS,{side:s,...i,ref:t}):a.jsx(eI,{side:s,...i,ref:t})})}),eI=m.forwardRef((e,t)=>{const r=lm(_l,e.__scopeTooltip),n=py(_l,e.__scopeTooltip),s=m.useRef(null),i=We(t,s),[o,l]=m.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:f}=n,p=m.useCallback(()=>{l(null),f(!1)},[f]),y=m.useCallback((x,b)=>{const w=x.currentTarget,v={x:x.clientX,y:x.clientY},h=sI(v,w.getBoundingClientRect()),g=aI(v,h),_=iI(b.getBoundingClientRect()),j=lI([...g,..._]);l(j),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(c&&u){const x=w=>y(w,u),b=w=>y(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",b)}}},[c,u,y,p]),m.useEffect(()=>{if(o){const x=b=>{const w=b.target,v={x:b.clientX,y:b.clientY},h=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),g=!oI(v,o);h?p():g&&(p(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,p]),a.jsx(CS,{...e,ref:i})}),[tI,rI]=am(om,{isInside:!1}),CS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=lm(_l,r),d=im(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(sv,u),()=>document.removeEventListener(sv,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),a.jsx(to,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:a.jsxs(nm,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Yx,{children:n}),a.jsx(tI,{scope:r,isInside:!0,children:a.jsx(R4,{id:c.contentId,role:"tooltip",children:s||n})})]})})});SS.displayName=_l;var kS="TooltipArrow",nI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=im(r);return rI(kS,r).isInside?null:a.jsx(sm,{...s,...n,ref:t})});nI.displayName=kS;function sI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aI(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function iI(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function oI(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function lI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cI(t)}function cI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var dI=_S,uI=jS,fI=NS,ES=SS;const TS=dI,hI=uI,mI=fI,PS=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(ES,{ref:n,sideOffset:t,className:G("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));PS.displayName=ES.displayName;var Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qi=typeof window>"u"||"Deno"in globalThis;function sn(){}function pI(e,t){return typeof e=="function"?e(t):e}function iv(e){return typeof e=="number"&&e>=0&&e!==1/0}function MS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zo(e,t){return typeof e=="function"?e(t):e}function Cn(e,t){return typeof e=="function"?e(t):e}function fb(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==gy(o,t.options))return!1}else if(!md(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function hb(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Hi(t.options.mutationKey)!==Hi(i))return!1}else if(!md(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function gy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hi)(e)}function Hi(e){return JSON.stringify(e,(t,r)=>ov(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function md(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!md(e[r],t[r])):!1}function DS(e,t){if(e===t)return e;const r=mb(e)&&mb(t);if(r||ov(e)&&ov(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=DS(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function ih(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ov(e){if(!pb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pb(e){return Object.prototype.toString.call(e)==="[object Object]"}function gI(e){return new Promise(t=>{setTimeout(t,e)})}function lv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?DS(e,t):t}function vI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vy=Symbol();function RS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Si,pa,tl,q_,yI=(q_=class extends Vl{constructor(){super();Pe(this,Si);Pe(this,pa);Pe(this,tl);ve(this,tl,t=>{if(!qi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,pa)||this.setEventListener(I(this,tl))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,pa))==null||t.call(this),ve(this,pa,void 0))}setEventListener(t){var r;ve(this,tl,t),(r=I(this,pa))==null||r.call(this),ve(this,pa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){I(this,Si)!==t&&(ve(this,Si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof I(this,Si)=="boolean"?I(this,Si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Si=new WeakMap,pa=new WeakMap,tl=new WeakMap,q_),xy=new yI,rl,ga,nl,H_,wI=(H_=class extends Vl{constructor(){super();Pe(this,rl,!0);Pe(this,ga);Pe(this,nl);ve(this,nl,t=>{if(!qi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){I(this,ga)||this.setEventListener(I(this,nl))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,ga))==null||t.call(this),ve(this,ga,void 0))}setEventListener(t){var r;ve(this,nl,t),(r=I(this,ga))==null||r.call(this),ve(this,ga,t(this.setOnline.bind(this)))}setOnline(t){I(this,rl)!==t&&(ve(this,rl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return I(this,rl)}},rl=new WeakMap,ga=new WeakMap,nl=new WeakMap,H_),oh=new wI;function cv(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function bI(e){return Math.min(1e3*2**e,3e4)}function OS(e){return(e??"online")==="online"?oh.isOnline():!0}var AS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bp(e){return e instanceof AS}function IS(e){let t=!1,r=0,n=!1,s;const i=cv(),o=b=>{var w;n||(p(new AS(b)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>xy.isFocused()&&(e.networkMode==="always"||oh.isOnline())&&e.canRun(),u=()=>OS(e.networkMode)&&e.canRun(),f=b=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,b),s==null||s(),i.resolve(b))},p=b=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,b),s==null||s(),i.reject(b))},y=()=>new Promise(b=>{var w;s=v=>{(n||d())&&b(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;s=void 0,n||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(n)return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(f).catch(v=>{var k;if(n)return;const h=e.retry??(qi?0:3),g=e.retryDelay??bI,_=typeof g=="function"?g(r,v):g,j=h===!0||typeof h=="number"&&r<h||typeof h=="function"&&h(r,v);if(t||!j){p(v);return}r++,(k=e.onFail)==null||k.call(e,r,v),gI(_).then(()=>d()?void 0:y()).then(()=>{t?p(v):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():y().then(x),i)}}function _I(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Bt=_I(),Ci,Y_,LS=(Y_=class{constructor(){Pe(this,Ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iv(this.gcTime)&&ve(this,Ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qi?1/0:5*60*1e3))}clearGcTimeout(){I(this,Ci)&&(clearTimeout(I(this,Ci)),ve(this,Ci,void 0))}},Ci=new WeakMap,Y_),sl,al,nn,ir,Ld,ki,_n,Ss,K_,jI=(K_=class extends LS{constructor(t){super();Pe(this,_n);Pe(this,sl);Pe(this,al);Pe(this,nn);Pe(this,ir);Pe(this,Ld);Pe(this,ki);ve(this,ki,!1),ve(this,Ld,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,nn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,sl,NI(this.options)),this.state=t.state??I(this,sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,ir))==null?void 0:t.promise}setOptions(t){this.options={...I(this,Ld),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,nn).remove(this)}setData(t,r){const n=lv(this.state.data,t,this.options);return Ue(this,_n,Ss).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ue(this,_n,Ss).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=I(this,ir))==null?void 0:n.promise;return(s=I(this,ir))==null||s.cancel(t),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,sl))}isActive(){return this.observers.some(t=>Cn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!MS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,ir))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,ir))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,nn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(I(this,ir)&&(I(this,ki)?I(this,ir).cancel({revert:!0}):I(this,ir).cancelRetry()),this.scheduleGc()),I(this,nn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,_n,Ss).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,ir))return I(this,ir).continueRetry(),I(this,ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,ki,!0),n.signal)})},i=()=>{const f=RS(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),ve(this,ki,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ve(this,al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ue(this,_n,Ss).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var p,y,x,b;bp(f)&&f.silent||Ue(this,_n,Ss).call(this,{type:"error",error:f}),bp(f)||((y=(p=I(this,nn).config).onError)==null||y.call(p,f,this),(b=(x=I(this,nn).config).onSettled)==null||b.call(x,this.state.data,f,this)),this.scheduleGc()};return ve(this,ir,IS({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,y,x,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(y=(p=I(this,nn).config).onSuccess)==null||y.call(p,f,this),(b=(x=I(this,nn).config).onSettled)==null||b.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{Ue(this,_n,Ss).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Ue(this,_n,Ss).call(this,{type:"pause"})},onContinue:()=>{Ue(this,_n,Ss).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),I(this,ir).start()}},sl=new WeakMap,al=new WeakMap,nn=new WeakMap,ir=new WeakMap,Ld=new WeakMap,ki=new WeakMap,_n=new WeakSet,Ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...FS(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return bp(s)&&s.revert&&I(this,al)?{...I(this,al),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),I(this,nn).notify({query:this,type:"updated",action:t})})},K_);function FS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function NI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zn,G_,SI=(G_=class extends Vl{constructor(t={}){super();Pe(this,Zn);this.config=t,ve(this,Zn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??gy(s,r);let o=this.get(i);return o||(o=new jI({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){I(this,Zn).has(t.queryHash)||(I(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=I(this,Zn).get(t.queryHash);r&&(t.destroy(),r===t&&I(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,Zn).get(t)}getAll(){return[...I(this,Zn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fb(t,n)):r}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,G_),Xn,ur,Ei,Jn,sa,Q_,CI=(Q_=class extends LS{constructor(t){super();Pe(this,Jn);Pe(this,Xn);Pe(this,ur);Pe(this,Ei);this.mutationId=t.mutationId,ve(this,ur,t.mutationCache),ve(this,Xn,[]),this.state=t.state||$S(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Xn).includes(t)||(I(this,Xn).push(t),this.clearGcTimeout(),I(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,Xn,I(this,Xn).filter(r=>r!==t)),this.scheduleGc(),I(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():I(this,ur).remove(this))}continue(){var t;return((t=I(this,Ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,d,u,f,p,y,x,b,w,v,h,g,_,j,k,N;ve(this,Ei,IS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,R)=>{Ue(this,Jn,sa).call(this,{type:"failed",failureCount:E,error:R})},onPause:()=>{Ue(this,Jn,sa).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Jn,sa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,ur).canRun(this)}));const r=this.state.status==="pending",n=!I(this,Ei).canStart();try{if(!r){Ue(this,Jn,sa).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=I(this,ur).config).onMutate)==null?void 0:i.call(s,t,this));const R=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));R!==this.state.context&&Ue(this,Jn,sa).call(this,{type:"pending",context:R,variables:t,isPaused:n})}const E=await I(this,Ei).start();return await((d=(c=I(this,ur).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((y=(p=I(this,ur).config).onSettled)==null?void 0:y.call(p,E,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,E,null,t,this.state.context)),Ue(this,Jn,sa).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(w=I(this,ur).config).onError)==null?void 0:v.call(w,E,t,this.state.context,this)),await((g=(h=this.options).onError)==null?void 0:g.call(h,E,t,this.state.context)),await((j=(_=I(this,ur).config).onSettled)==null?void 0:j.call(_,void 0,E,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,E,t,this.state.context)),E}finally{Ue(this,Jn,sa).call(this,{type:"error",error:E})}}finally{I(this,ur).runNext(this)}}},Xn=new WeakMap,ur=new WeakMap,Ei=new WeakMap,Jn=new WeakSet,sa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{I(this,Xn).forEach(n=>{n.onMutationUpdate(t)}),I(this,ur).notify({mutation:this,type:"updated",action:t})})},Q_);function $S(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,Fd,Z_,kI=(Z_=class extends Vl{constructor(t={}){super();Pe(this,Fr);Pe(this,Fd);this.config=t,ve(this,Fr,new Map),ve(this,Fd,Date.now())}build(t,r,n){const s=new CI({mutationCache:this,mutationId:++_u(this,Fd)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Wu(t),n=I(this,Fr).get(r)??[];n.push(t),I(this,Fr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Wu(t);if(I(this,Fr).has(r)){const s=(n=I(this,Fr).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?I(this,Fr).delete(r):I(this,Fr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=I(this,Fr).get(Wu(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=I(this,Fr).get(Wu(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...I(this,Fr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hb(r,n))}findAll(t={}){return this.getAll().filter(r=>hb(t,r))}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Bt.batch(()=>Promise.all(t.map(r=>r.continue().catch(sn))))}},Fr=new WeakMap,Fd=new WeakMap,Z_);function Wu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function gb(e){return{onFetch:(t,r)=>{var u,f,p,y,x;const n=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},v=RS(t.options,t.fetchOptions),h=async(g,_,j)=>{if(b)return Promise.reject();if(_==null&&g.pages.length)return Promise.resolve(g);const k={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};w(k);const N=await v(k),{maxPages:E}=t.options,R=j?xI:vI;return{pages:R(g.pages,N,E),pageParams:R(g.pageParams,_,E)}};if(s&&i.length){const g=s==="backward",_=g?EI:vb,j={pages:i,pageParams:o},k=_(n,j);l=await h(j,k,g)}else{const g=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:vb(n,l);if(c>0&&_==null)break;l=await h(l,_),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function vb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function EI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Et,va,xa,il,ol,ya,ll,cl,X_,TI=(X_=class{constructor(e={}){Pe(this,Et);Pe(this,va);Pe(this,xa);Pe(this,il);Pe(this,ol);Pe(this,ya);Pe(this,ll);Pe(this,cl);ve(this,Et,e.queryCache||new SI),ve(this,va,e.mutationCache||new kI),ve(this,xa,e.defaultOptions||{}),ve(this,il,new Map),ve(this,ol,new Map),ve(this,ya,0)}mount(){_u(this,ya)._++,I(this,ya)===1&&(ve(this,ll,xy.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Et).onFocus())})),ve(this,cl,oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Et).onOnline())})))}unmount(){var e,t;_u(this,ya)._--,I(this,ya)===0&&((e=I(this,ll))==null||e.call(this),ve(this,ll,void 0),(t=I(this,cl))==null||t.call(this),ve(this,cl,void 0))}isFetching(e){return I(this,Et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,va).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Et).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=I(this,Et).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Zo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return I(this,Et).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=I(this,Et).get(n.queryHash),i=s==null?void 0:s.state.data,o=pI(t,i);if(o!==void 0)return I(this,Et).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Bt.batch(()=>I(this,Et).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Et).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=I(this,Et);Bt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=I(this,Et),n={type:"active",...e};return Bt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Bt.batch(()=>I(this,Et).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(sn).catch(sn)}invalidateQueries(e={},t={}){return Bt.batch(()=>{if(I(this,Et).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Bt.batch(()=>I(this,Et).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(sn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=I(this,Et).build(this,t);return r.isStaleByTime(Zo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=gb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=gb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return oh.isOnline()?I(this,va).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Et)}getMutationCache(){return I(this,va)}getDefaultOptions(){return I(this,xa)}setDefaultOptions(e){ve(this,xa,e)}setQueryDefaults(e,t){I(this,il).set(Hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,il).values()];let r={};return t.forEach(n=>{md(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){I(this,ol).set(Hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,ol).values()];let r={};return t.forEach(n=>{md(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,xa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,xa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Et).clear(),I(this,va).clear()}},Et=new WeakMap,va=new WeakMap,xa=new WeakMap,il=new WeakMap,ol=new WeakMap,ya=new WeakMap,ll=new WeakMap,cl=new WeakMap,X_),Cr,Ye,$d,fr,Ti,dl,wa,es,Ud,ul,fl,Pi,Mi,ba,hl,Je,_c,dv,uv,fv,hv,mv,pv,gv,US,J_,PI=(J_=class extends Vl{constructor(t,r){super();Pe(this,Je);Pe(this,Cr);Pe(this,Ye);Pe(this,$d);Pe(this,fr);Pe(this,Ti);Pe(this,dl);Pe(this,wa);Pe(this,es);Pe(this,Ud);Pe(this,ul);Pe(this,fl);Pe(this,Pi);Pe(this,Mi);Pe(this,ba);Pe(this,hl,new Set);this.options=r,ve(this,Cr,t),ve(this,es,null),ve(this,wa,cv()),this.options.experimental_prefetchInRender||I(this,wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,Ye).addObserver(this),xb(I(this,Ye),this.options)?Ue(this,Je,_c).call(this):this.updateResult(),Ue(this,Je,hv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vv(I(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vv(I(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,Je,mv).call(this),Ue(this,Je,pv).call(this),I(this,Ye).removeObserver(this)}setOptions(t,r){const n=this.options,s=I(this,Ye);if(this.options=I(this,Cr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,I(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,Je,gv).call(this),I(this,Ye).setOptions(this.options),n._defaulted&&!ih(this.options,n)&&I(this,Cr).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,Ye),observer:this});const i=this.hasListeners();i&&yb(I(this,Ye),s,this.options,n)&&Ue(this,Je,_c).call(this),this.updateResult(r),i&&(I(this,Ye)!==s||Cn(this.options.enabled,I(this,Ye))!==Cn(n.enabled,I(this,Ye))||Zo(this.options.staleTime,I(this,Ye))!==Zo(n.staleTime,I(this,Ye)))&&Ue(this,Je,dv).call(this);const o=Ue(this,Je,uv).call(this);i&&(I(this,Ye)!==s||Cn(this.options.enabled,I(this,Ye))!==Cn(n.enabled,I(this,Ye))||o!==I(this,ba))&&Ue(this,Je,fv).call(this,o)}getOptimisticResult(t){const r=I(this,Cr).getQueryCache().build(I(this,Cr),t),n=this.createResult(r,t);return DI(this,n)&&(ve(this,fr,n),ve(this,dl,this.options),ve(this,Ti,I(this,Ye).state)),n}getCurrentResult(){return I(this,fr)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){I(this,hl).add(t)}getCurrentQuery(){return I(this,Ye)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=I(this,Cr).defaultQueryOptions(t),n=I(this,Cr).getQueryCache().build(I(this,Cr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ue(this,Je,_c).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,fr)))}createResult(t,r){var E;const n=I(this,Ye),s=this.options,i=I(this,fr),o=I(this,Ti),l=I(this,dl),d=t!==n?t.state:I(this,$d),{state:u}=t;let f={...u},p=!1,y;if(r._optimisticResults){const R=this.hasListeners(),T=!R&&xb(t,r),L=R&&yb(t,n,r,s);(T||L)&&(f={...f,...FS(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===I(this,Ud))y=I(this,ul);else try{ve(this,Ud,r.select),y=r.select(f.data),y=lv(i==null?void 0:i.data,y,r),ve(this,ul,y),ve(this,es,null)}catch(R){ve(this,es,R)}else y=f.data;if(r.placeholderData!==void 0&&y===void 0&&w==="pending"){let R;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))R=i.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((E=I(this,fl))==null?void 0:E.state.data,I(this,fl)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),ve(this,es,null)}catch(T){ve(this,es,T)}R!==void 0&&(w="success",y=lv(i==null?void 0:i.data,R,r),p=!0)}I(this,es)&&(x=I(this,es),y=I(this,ul),b=Date.now(),w="error");const v=f.fetchStatus==="fetching",h=w==="pending",g=w==="error",_=h&&v,j=y!==void 0,N={status:w,fetchStatus:f.fetchStatus,isPending:h,isSuccess:w==="success",isError:g,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!h,isLoadingError:g&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:g&&j,isStale:yy(t,r),refetch:this.refetch,promise:I(this,wa)};if(this.options.experimental_prefetchInRender){const R=D=>{N.status==="error"?D.reject(N.error):N.data!==void 0&&D.resolve(N.data)},T=()=>{const D=ve(this,wa,N.promise=cv());R(D)},L=I(this,wa);switch(L.status){case"pending":t.queryHash===n.queryHash&&R(L);break;case"fulfilled":(N.status==="error"||N.data!==L.value)&&T();break;case"rejected":(N.status!=="error"||N.error!==L.reason)&&T();break}}return N}updateResult(t){const r=I(this,fr),n=this.createResult(I(this,Ye),this.options);if(ve(this,Ti,I(this,Ye).state),ve(this,dl,this.options),I(this,Ti).data!==void 0&&ve(this,fl,I(this,Ye)),ih(n,r))return;ve(this,fr,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!I(this,hl).size)return!0;const c=new Set(l??I(this,hl));return this.options.throwOnError&&c.add("error"),Object.keys(I(this,fr)).some(d=>{const u=d;return I(this,fr)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Ue(this,Je,US).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,Je,hv).call(this)}},Cr=new WeakMap,Ye=new WeakMap,$d=new WeakMap,fr=new WeakMap,Ti=new WeakMap,dl=new WeakMap,wa=new WeakMap,es=new WeakMap,Ud=new WeakMap,ul=new WeakMap,fl=new WeakMap,Pi=new WeakMap,Mi=new WeakMap,ba=new WeakMap,hl=new WeakMap,Je=new WeakSet,_c=function(t){Ue(this,Je,gv).call(this);let r=I(this,Ye).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(sn)),r},dv=function(){Ue(this,Je,mv).call(this);const t=Zo(this.options.staleTime,I(this,Ye));if(qi||I(this,fr).isStale||!iv(t))return;const n=MS(I(this,fr).dataUpdatedAt,t)+1;ve(this,Pi,setTimeout(()=>{I(this,fr).isStale||this.updateResult()},n))},uv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,Ye)):this.options.refetchInterval)??!1},fv=function(t){Ue(this,Je,pv).call(this),ve(this,ba,t),!(qi||Cn(this.options.enabled,I(this,Ye))===!1||!iv(I(this,ba))||I(this,ba)===0)&&ve(this,Mi,setInterval(()=>{(this.options.refetchIntervalInBackground||xy.isFocused())&&Ue(this,Je,_c).call(this)},I(this,ba)))},hv=function(){Ue(this,Je,dv).call(this),Ue(this,Je,fv).call(this,Ue(this,Je,uv).call(this))},mv=function(){I(this,Pi)&&(clearTimeout(I(this,Pi)),ve(this,Pi,void 0))},pv=function(){I(this,Mi)&&(clearInterval(I(this,Mi)),ve(this,Mi,void 0))},gv=function(){const t=I(this,Cr).getQueryCache().build(I(this,Cr),this.options);if(t===I(this,Ye))return;const r=I(this,Ye);ve(this,Ye,t),ve(this,$d,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},US=function(t){Bt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(I(this,fr))}),I(this,Cr).getQueryCache().notify({query:I(this,Ye),type:"observerResultsUpdated"})})},J_);function MI(e,t){return Cn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xb(e,t){return MI(e,t)||e.state.data!==void 0&&vv(e,t,t.refetchOnMount)}function vv(e,t,r){if(Cn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&yy(e,t)}return!1}function yb(e,t,r,n){return(e!==t||Cn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&yy(e,r)}function yy(e,t){return Cn(t.enabled,e)!==!1&&e.isStaleByTime(Zo(t.staleTime,e))}function DI(e,t){return!ih(e.getCurrentResult(),t)}var _a,ja,kr,Ds,Us,yf,xv,ej,RI=(ej=class extends Vl{constructor(r,n){super();Pe(this,Us);Pe(this,_a);Pe(this,ja);Pe(this,kr);Pe(this,Ds);ve(this,_a,r),this.setOptions(n),this.bindMethods(),Ue(this,Us,yf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=I(this,_a).defaultMutationOptions(r),ih(this.options,n)||I(this,_a).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,kr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Hi(n.mutationKey)!==Hi(this.options.mutationKey)?this.reset():((s=I(this,kr))==null?void 0:s.state.status)==="pending"&&I(this,kr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=I(this,kr))==null||r.removeObserver(this)}onMutationUpdate(r){Ue(this,Us,yf).call(this),Ue(this,Us,xv).call(this,r)}getCurrentResult(){return I(this,ja)}reset(){var r;(r=I(this,kr))==null||r.removeObserver(this),ve(this,kr,void 0),Ue(this,Us,yf).call(this),Ue(this,Us,xv).call(this)}mutate(r,n){var s;return ve(this,Ds,n),(s=I(this,kr))==null||s.removeObserver(this),ve(this,kr,I(this,_a).getMutationCache().build(I(this,_a),this.options)),I(this,kr).addObserver(this),I(this,kr).execute(r)}},_a=new WeakMap,ja=new WeakMap,kr=new WeakMap,Ds=new WeakMap,Us=new WeakSet,yf=function(){var n;const r=((n=I(this,kr))==null?void 0:n.state)??$S();ve(this,ja,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},xv=function(r){Bt.batch(()=>{var n,s,i,o,l,c,d,u;if(I(this,Ds)&&this.hasListeners()){const f=I(this,ja).variables,p=I(this,ja).context;(r==null?void 0:r.type)==="success"?((s=(n=I(this,Ds)).onSuccess)==null||s.call(n,r.data,f,p),(o=(i=I(this,Ds)).onSettled)==null||o.call(i,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=I(this,Ds)).onError)==null||c.call(l,r.error,f,p),(u=(d=I(this,Ds)).onSettled)==null||u.call(d,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(I(this,ja))})})},ej),zS=m.createContext(void 0),ni=e=>{const t=m.useContext(zS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(zS.Provider,{value:e,children:t})),BS=m.createContext(!1),AI=()=>m.useContext(BS);BS.Provider;function II(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LI=m.createContext(II()),FI=()=>m.useContext(LI);function VS(e,t){return typeof e=="function"?e(...t):!!e}function WS(){}var $I=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},UI=e=>{m.useEffect(()=>{e.clearReset()},[e])},zI=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&VS(r,[e.error,n]),BI=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},VI=(e,t)=>e.isLoading&&e.isFetching&&!t,WI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qI(e,t,r){var u,f,p,y,x;const n=ni(),s=AI(),i=FI(),o=n.defaultQueryOptions(e);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",BI(o),$I(o,i),UI(i);const l=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(b=>{const w=s?()=>{}:c.subscribe(Bt.batchCalls(b));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),WI(o,d))throw wb(o,c,i);if(zI({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,d),o.experimental_prefetchInRender&&!qi&&VI(d,s)){const b=l?wb(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;b==null||b.catch(WS).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Zt(e,t){return qI(e,PI)}function $s(e,t){const r=ni(),[n]=m.useState(()=>new RI(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Bt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(WS)},[n]);if(s.error&&VS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const bb="popstate";function HI(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return yv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:lh(s)}return KI(t,r,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YI(){return Math.random().toString(36).substr(2,8)}function _b(e,t){return{usr:e.state,key:e.key,idx:t}}function yv(e,t,r,n){return r===void 0&&(r=null),pd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wl(t):t,{state:r,key:t&&t.key||n||YI()})}function lh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function KI(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ca.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(pd({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Ca.Pop;let w=u(),v=w==null?null:w-d;d=w,c&&c({action:l,location:b.location,delta:v})}function p(w,v){l=Ca.Push;let h=yv(b.location,w,v);d=u()+1;let g=_b(h,d),_=b.createHref(h);try{o.pushState(g,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:b.location,delta:1})}function y(w,v){l=Ca.Replace;let h=yv(b.location,w,v);d=u();let g=_b(h,d),_=b.createHref(h);o.replaceState(g,"",_),i&&c&&c({action:l,location:b.location,delta:0})}function x(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:lh(w);return h=h.replace(/ $/,"%20"),$t(v,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,v)}let b={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bb,f),c=w,()=>{s.removeEventListener(bb,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(w){return o.go(w)}};return b}var jb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jb||(jb={}));function GI(e,t,r){return r===void 0&&(r="/"),QI(e,t,r,!1)}function QI(e,t,r,n){let s=typeof t=="string"?Wl(t):t,i=wy(s.pathname||"/",r);if(i==null)return null;let o=HS(e);ZI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=l3(i);l=i3(o[c],d,n)}return l}function HS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ia([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),HS(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:s3(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of YS(i.path))s(i,o,c)}),t}function YS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=YS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:a3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XI=/^:[\w-]+$/,JI=3,e3=2,t3=1,r3=10,n3=-2,Nb=e=>e==="*";function s3(e,t){let r=e.split("/"),n=r.length;return r.some(Nb)&&(n+=n3),t&&(n+=e3),r.filter(s=>!Nb(s)).reduce((s,i)=>s+(XI.test(i)?JI:i===""?t3:r3),n)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function i3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Sb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Sb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ia([i,f.pathname]),pathnameBase:f3(Ia([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ia([i,f.pathnameBase]))}return o}function Sb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=o3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:p,isOptional:y}=u;if(p==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[f];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function o3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function l3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function c3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Wl(e):e;return{pathname:r?r.startsWith("/")?r:d3(r,t):t,search:h3(n),hash:m3(s)}}function d3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function _p(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function KS(e,t){let r=u3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function GS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Wl(e):(s=pd({},e),$t(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=c3(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ia=e=>e.join("/").replace(/\/\/+/g,"/"),f3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function p3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const QS=["post","put","patch","delete"];new Set(QS);const g3=["get",...QS];new Set(g3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}const by=m.createContext(null),v3=m.createContext(null),so=m.createContext(null),cm=m.createContext(null),ao=m.createContext({outlet:null,matches:[],isDataRoute:!1}),ZS=m.createContext(null);function x3(e,t){let{relative:r}=t===void 0?{}:t;Xd()||$t(!1);let{basename:n,navigator:s}=m.useContext(so),{hash:i,pathname:o,search:l}=JS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ia([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Xd(){return m.useContext(cm)!=null}function ql(){return Xd()||$t(!1),m.useContext(cm).location}function XS(e){m.useContext(so).static||m.useLayoutEffect(e)}function si(){let{isDataRoute:e}=m.useContext(ao);return e?M3():y3()}function y3(){Xd()||$t(!1);let e=m.useContext(by),{basename:t,future:r,navigator:n}=m.useContext(so),{matches:s}=m.useContext(ao),{pathname:i}=ql(),o=JSON.stringify(KS(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return XS(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=GS(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ia([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function JS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(so),{matches:s}=m.useContext(ao),{pathname:i}=ql(),o=JSON.stringify(KS(s,n.v7_relativeSplatPath));return m.useMemo(()=>GS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function w3(e,t){return b3(e,t)}function b3(e,t,r,n){Xd()||$t(!1);let{navigator:s}=m.useContext(so),{matches:i}=m.useContext(ao),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ql(),u;if(t){var f;let w=typeof t=="string"?Wl(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||$t(!1),u=w}else u=d;let p=u.pathname||"/",y=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=GI(e,{pathname:y}),b=C3(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ia([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ia([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&b?m.createElement(cm.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ca.Pop}},b):b}function _3(){let e=P3(),t=p3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const j3=m.createElement(_3,null);class N3 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(ao.Provider,{value:this.props.routeContext},m.createElement(ZS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S3(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(by);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(ao.Provider,{value:t},n)}function C3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||$t(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:y}=r,x=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let y,x=!1,b=null,w=null;r&&(y=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||j3,c&&(d<0&&p===0?(x=!0,w=null):d===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),h=()=>{let g;return y?g=b:x?g=w:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=u,m.createElement(S3,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(N3,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:h(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):h()},null)}var eC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eC||{}),ch=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ch||{});function k3(e){let t=m.useContext(by);return t||$t(!1),t}function E3(e){let t=m.useContext(v3);return t||$t(!1),t}function T3(e){let t=m.useContext(ao);return t||$t(!1),t}function tC(e){let t=T3(),r=t.matches[t.matches.length-1];return r.route.id||$t(!1),r.route.id}function P3(){var e;let t=m.useContext(ZS),r=E3(ch.UseRouteError),n=tC(ch.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function M3(){let{router:e}=k3(eC.UseNavigateStable),t=tC(ch.UseNavigateStable),r=m.useRef(!1);return XS(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gd({fromRouteId:t},i)))},[e,t])}function mi(e){$t(!1)}function D3(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ca.Pop,navigator:i,static:o=!1,future:l}=e;Xd()&&$t(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:gd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Wl(n));let{pathname:u="/",search:f="",hash:p="",state:y=null,key:x="default"}=n,b=m.useMemo(()=>{let w=wy(u,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:y,key:x},navigationType:s}},[c,u,f,p,y,x,s]);return b==null?null:m.createElement(so.Provider,{value:d},m.createElement(cm.Provider,{children:r,value:b}))}function R3(e){let{children:t,location:r}=e;return w3(wv(t),r)}new Promise(()=>{});function wv(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,wv(n.props.children,i));return}n.type!==mi&&$t(!1),!n.props.index||!n.props.children||$t(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function O3(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function A3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I3(e,t){return e.button===0&&(!t||t==="_self")&&!A3(e)}function _v(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function L3(e,t){let r=_v(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const F3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$3="6";try{window.__reactRouterVersion=$3}catch{}const U3="startTransition",Cb=fj[U3];function z3(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=HI({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=m.useCallback(f=>{d&&Cb?Cb(()=>c(f)):c(f)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.createElement(D3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const B3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rC=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,p=O3(t,F3),{basename:y}=m.useContext(so),x,b=!1;if(typeof d=="string"&&V3.test(d)&&(x=d,B3))try{let g=new URL(window.location.href),_=d.startsWith("//")?new URL(g.protocol+d):new URL(d),j=wy(_.pathname,y);_.origin===g.origin&&j!=null?d=j+_.search+_.hash:b=!0}catch{}let w=x3(d,{relative:s}),v=W3(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function h(g){n&&n(g),g.defaultPrevented||v(g)}return m.createElement("a",bv({},p,{href:x||w,onClick:b||i?n:h,ref:r,target:c}))});var kb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kb||(kb={}));var Eb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eb||(Eb={}));function W3(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=si(),d=ql(),u=JS(e,{relative:o});return m.useCallback(f=>{if(I3(f,r)){f.preventDefault();let p=n!==void 0?n:lh(d)===lh(u);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function nC(e){let t=m.useRef(_v(e)),r=m.useRef(!1),n=ql(),s=m.useMemo(()=>L3(n.search,r.current?null:t.current),[n.search]),i=si(),o=m.useCallback((l,c)=>{const d=_v(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}const q3="modulepreload",H3=function(e){return"/"+e},Tb={},Jd=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=H3(c),c in Tb)return;Tb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":q3,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Y3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jd(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _y extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class K3 extends _y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G3 extends _y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Q3 extends _y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jv||(jv={}));var Z3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class X3{constructor(t,{headers:r={},customFetch:n,region:s=jv.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Y3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Z3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new K3(x)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new G3(u);if(!u.ok)throw new Q3(u);let p=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield u.json():p==="application/octet-stream"?y=yield u.blob():p==="text/event-stream"?y=u:p==="multipart/form-data"?y=yield u.formData():y=yield u.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Pr={},jy={},dm={},eu={},um={},fm={},J3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jl=J3();const eL=jl.fetch,sC=jl.fetch.bind(jl),aC=jl.Headers,tL=jl.Request,rL=jl.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:aC,Request:tL,Response:rL,default:sC,fetch:eL},Symbol.toStringTag,{value:"Module"})),nL=DP(Hl);var hm={};Object.defineProperty(hm,"__esModule",{value:!0});let sL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hm.default=sL;var iC=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fm,"__esModule",{value:!0});const aL=iC(nL),iL=iC(hm);let oL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=aL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,p=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(u=[],d=null,p=200,y="OK")}catch{i.status===404&&b===""?(p=204,y="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,y="OK"),d&&this.shouldThrowOnError)throw new iL.default(d)}return{error:d,data:u,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};fm.default=oL;var lL=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(um,"__esModule",{value:!0});const cL=lL(fm);let dL=class extends cL.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};um.default=dL;var uL=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eu,"__esModule",{value:!0});const fL=uL(um);let hL=class extends fL.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};eu.default=hL;var mL=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dm,"__esModule",{value:!0});const dc=mL(eu);let pL=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new dc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new dc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new dc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new dc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new dc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dm.default=pL;var mm={},pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.version=void 0;pm.version="0.0.0-automated";Object.defineProperty(mm,"__esModule",{value:!0});mm.DEFAULT_HEADERS=void 0;const gL=pm;mm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${gL.version}`};var oC=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jy,"__esModule",{value:!0});const vL=oC(dm),xL=oC(eu),yL=mm;let wL=class lC{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},yL.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new vL.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new lC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new xL.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jy.default=wL;var Yl=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.PostgrestError=Pr.PostgrestBuilder=Pr.PostgrestTransformBuilder=Pr.PostgrestFilterBuilder=Pr.PostgrestQueryBuilder=Pr.PostgrestClient=void 0;const cC=Yl(jy);Pr.PostgrestClient=cC.default;const dC=Yl(dm);Pr.PostgrestQueryBuilder=dC.default;const uC=Yl(eu);Pr.PostgrestFilterBuilder=uC.default;const fC=Yl(um);Pr.PostgrestTransformBuilder=fC.default;const hC=Yl(fm);Pr.PostgrestBuilder=hC.default;const mC=Yl(hm);Pr.PostgrestError=mC.default;var bL=Pr.default={PostgrestClient:cC.default,PostgrestQueryBuilder:dC.default,PostgrestFilterBuilder:uC.default,PostgrestTransformBuilder:fC.default,PostgrestBuilder:hC.default,PostgrestError:mC.default};const{PostgrestClient:_L,PostgrestQueryBuilder:BH,PostgrestFilterBuilder:VH,PostgrestTransformBuilder:WH,PostgrestBuilder:qH,PostgrestError:HH}=bL;function jL(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const NL=jL(),SL="2.11.15",CL=`realtime-js/${SL}`,kL="1.0.0",pC=1e4,EL=1e3;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ar||(ar={}));var Nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nn||(Nn={}));var Nv;(function(e){e.websocket="websocket"})(Nv||(Nv={}));var yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yi||(yi={}));class TL{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class gC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dt||(dt={}));const Pb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=PL(o,e,t,s),i),{})},PL=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?vC(i,o):Sv(o)},vC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OL(t,r)}switch(e){case dt.bool:return ML(t);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return DL(t);case dt.json:case dt.jsonb:return RL(t);case dt.timestamp:return AL(t);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return Sv(t);default:return Sv(t)}},Sv=e=>e,ML=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>vC(t,l))}return e},AL=e=>typeof e=="string"?e.replace(" ","T"):e,xC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jp{constructor(t,r,n={},s=pC){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mb||(Mb={}));class Uc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Uc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Uc.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const p=u.map(w=>w.presence_ref),y=f.map(w=>w.presence_ref),x=u.filter(w=>y.indexOf(w.presence_ref)<0),b=f.filter(w=>p.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),b.length>0&&(c[d]=b)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...p)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Db;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Db||(Db={}));var Rb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rb||(Rb={}));var Ps;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ps||(Ps={}));class Ny{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jp(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new gC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Uc(this),this.broadcastEndpointURL=xC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ar.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Ps.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Ps.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Ps.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,x=[];for(let b=0;b<y;b++){const w=p[b],{filter:{event:v,schema:h,table:g,filter:_}}=w,j=u&&u[b];if(j&&j.event===v&&j.schema===h&&j.table===g&&j.filter===_)x.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=ar.errored,t==null||t(Ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ps.SUBSCRIBED);return}}).receive("error",u=>{this.state=ar.errored,t==null||t(Ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new jp(this,Nn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jp(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Nn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,b,w;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=y.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,b,w,v,h,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,j=(x=y.filter)===null||x===void 0?void 0:x.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(h=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:b,table:w,commit_timestamp:v,type:h,errors:g}=x;p=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:v,eventType:h,new:{},old:{},errors:g}),this._getPayloadRecords(x))}y.callback(p,n)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ny.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pb(t.columns,t.old_record)),r}}const Ob=()=>{},IL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LL{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ob,this.ref=0,this.logger=Ob,this.conn=null,this.sendBuffer=[],this.serializer=new TL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Jd(async()=>{const{default:c}=await Promise.resolve().then(()=>Hl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Nv.websocket}`,this.httpEndpoint=xC(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=NL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kL}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return yi.Connecting;case $c.open:return yi.Open;case $c.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ny(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:CL};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Nn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(EL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Sy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FL extends Sy{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cv extends Sy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $L=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const yC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jd(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},UL=()=>$L(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jd(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response}),kv=e=>{if(Array.isArray(e))return e.map(r=>kv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=kv(n)}),t};var io=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Np=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zL=(e,t,r)=>io(void 0,void 0,void 0,function*(){const n=yield UL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new FL(Np(s),e.status||500))}).catch(s=>{t(new Cv(Np(s),s))}):t(new Cv(Np(e),e))}),BL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function tu(e,t,r,n,s,i){return io(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,BL(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>zL(c,l,n))})})}function dh(e,t,r,n){return io(this,void 0,void 0,function*(){return tu(e,"GET",t,r,n)})}function ca(e,t,r,n,s){return io(this,void 0,void 0,function*(){return tu(e,"POST",t,n,s,r)})}function VL(e,t,r,n,s){return io(this,void 0,void 0,function*(){return tu(e,"PUT",t,n,s,r)})}function WL(e,t,r,n){return io(this,void 0,void 0,function*(){return tu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wC(e,t,r,n,s){return io(this,void 0,void 0,function*(){return tu(e,"DELETE",t,n,s,r)})}var Nr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const qL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ab={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HL{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=yC(s)}uploadOrUpdate(t,r,n,s){return Nr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ab),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:d,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Nr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ab.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Nr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ca(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Sy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Nr(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Nr(this,void 0,void 0,function*(){try{return{data:{path:(yield ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Nr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ca(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Nr(this,void 0,void 0,function*(){try{const s=yield ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}download(t,r){return Nr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield dh(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Yt(l))return{data:null,error:l};throw l}})}info(t){return Nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kv(n),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}exists(t){return Nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield WL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yt(n)&&n instanceof Cv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield wC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Nr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qL),r),{prefix:t||""});return{data:yield ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const YL="2.7.1",KL={"X-Client-Info":`storage-js/${YL}`};var vo=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class GL{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},KL),r),this.fetch=yC(n)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yt(t))return{data:null,error:t};throw t}})}getBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vo(this,void 0,void 0,function*(){try{return{data:yield VL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield wC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}}class QL extends GL{constructor(t,r={},n){super(t,r,n)}from(t){return new HL(this.url,this.headers,t,this.fetch)}}const ZL="2.50.2";let jc="";typeof Deno<"u"?jc="deno":typeof document<"u"?jc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jc="react-native":jc="node";const XL={"X-Client-Info":`supabase-js-${jc}/${ZL}`},JL={headers:XL},eF={schema:"public"},tF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rF={};var nF=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const sF=e=>{let t;return e?t=e:typeof fetch>"u"?t=sC:t=fetch,(...r)=>t(...r)},aF=()=>typeof Headers>"u"?aC:Headers,iF=(e,t,r)=>{const n=sF(r),s=aF();return(i,o)=>nF(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var oF=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function lF(e){return e.endsWith("/")?e:e+"/"}function cF(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>oF(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const bC="2.70.0",Co=30*1e3,Ev=3,Sp=Ev*Co,dF="http://localhost:9999",uF="supabase.auth.token",fF={"X-Client-Info":`gotrue-js/${bC}`},Tv="X-Supabase-Api-Version",_C={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mF=6e5;class Cy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pF extends Cy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gF(e){return Ae(e)&&e.name==="AuthApiError"}class jC extends Cy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ai extends Cy{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class aa extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vF(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class qu extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hu extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yu extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xF(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ib extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pv extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cp(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class Lb extends ai{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zc extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fb=` 	
\r=`.split(""),yF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fb.length;t+=1)e[Fb[t].charCodeAt(0)]=-2;for(let t=0;t<uh.length;t+=1)e[uh[t].charCodeAt(0)]=t;return e})();function $b(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uh[n]),t.queuedBits-=6}}function NC(e,t,r){const n=yF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ub(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{_F(o,n,r)};for(let o=0;o<e.length;o+=1)NC(e.charCodeAt(o),s,i);return t.join("")}function wF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bF(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}wF(n,t)}}function _F(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jF(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)NC(e.charCodeAt(s),r,n);return new Uint8Array(t)}function NF(e){const t=[];return bF(e,r=>t.push(r)),new Uint8Array(t)}function SF(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$b(s,r,n)),$b(null,r,n),t.join("")}function CF(e){return Math.round(Date.now()/1e3)+e}function kF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",ui={tested:!1,writable:!1},Bc=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ui.tested)return ui.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ui.tested=!0,ui.writable=!0}catch{ui.tested=!0,ui.writable=!1}return ui.writable};function EF(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const SC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jd(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",CC=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ku=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gu=async(e,t)=>{await e.removeItem(t)};class gm{constructor(){this.promise=new gm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gm.promiseConstructor=Promise;function kp(e){const t=e.split(".");if(t.length!==3)throw new zc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!hF.test(t[n]))throw new zc("JWT not in base64url format");return{header:JSON.parse(Ub(t[0])),payload:JSON.parse(Ub(t[1])),signature:jF(t[2]),raw:{header:t[0],payload:t[1]}}}async function PF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MF(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function DF(e){return("0"+e.toString(16)).substr(-2)}function RF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,DF).join("")}async function OF(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function AF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await OF(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xo(e,t,r=!1){const n=RF();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await CC(e,`${t}-code-verifier`,s);const i=await AF(n);return[i,n===i?"plain":"s256"]}const IF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LF(e){const t=e.headers.get(Tv);if(!t||!t.match(IF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $F(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(e){if(!UF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var zF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const pi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BF=[502,503,504];async function zb(e){var t;if(!TF(e))throw new Pv(pi(e),0);if(BF.includes(e.status))throw new Pv(pi(e),e.status);let r;try{r=await e.json()}catch(i){throw new jC(pi(i),i)}let n;const s=LF(e);if(s&&s.getTime()>=_C["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lb(pi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new aa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lb(pi(r),e.status,r.weak_password.reasons);throw new pF(pi(r),e.status||500,n)}const VF=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function qe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Tv]||(i[Tv]=_C["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await WF(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function WF(e,t,r,n,s,i){const o=VF(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Pv(pi(c),0)}if(l.ok||await zb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await zb(c)}}function Cs(e){var t;let r=null;KF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=CF(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bb(e){const t=Cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qF(e){return{data:e,error:null}}function HF(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=zF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function YF(e){return e}function KF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ep=["global","local","others"];var GF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class QF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=SC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ep[0]){if(Ep.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ep.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=GF(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:HF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:YF});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=b}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){yo(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yo(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yo(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yo(t.userId);try{const{data:r,error:n}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}const ZF={getItem:e=>Bc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bc()&&globalThis.localStorage.removeItem(e)}};function Vb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function XF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wo={debug:!!(globalThis&&Bc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JF extends kC{}async function e5(e,t,r){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}XF();const t5={url:dF,storageKey:uF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wb(e,t,r){return await r()}class vd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vd.nextInstanceID,vd.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},t5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new QF({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=SC(s.fetch),this.lock=s.lock||Wb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e5:this.lock=Wb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Bc()?this.storage=ZF:(this.memoryStorage={},this.storage=Vb(this.memoryStorage)):(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=EF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xF(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new jC("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:f,options:p}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await xo(this.storage,this.storageKey)),i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:x},xform:Cs})}else if("phone"in t){const{phone:u,password:f,options:p}=t;i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Cs})}else throw new Hu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,d,u,f,p,y;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:w,wallet:v,statement:h,options:g}=t;let _;if(yn())if(typeof v=="object")_=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),h?{statement:h}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),b=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(u=g==null?void 0:g.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:v}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:SF(b)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Cs});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new qu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(Ae(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ku(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cs});if(await Gu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await xo(this.storage,this.storageKey));const{error:f}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Hu("You must provide either an email or phone number.")}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xo(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qF})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new aa;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ku(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fa}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fa})})}catch(r){if(Ae(r))return vF(r)&&(await this._removeSession(),await Gu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new aa;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xo(this.storage,this.storageKey));const{data:d,error:u}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fa});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=kp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new aa;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!yn())throw new Yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ib("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ib("No code detected.");const{data:h,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Yu("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let p=u+f;c&&(p=parseInt(c));const y=p-u;y*1e3<=Co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const x=p-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,u);const{data:b,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ku(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(gF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=kF(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xo(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return yn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ae(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await MF(async s=>(s>0&&await PF(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Cp(i)&&Date.now()+o-n<Co})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ku(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Sp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Sp}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Cp(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gm;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new aa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ae(i)){const o={session:null,error:i};return Cp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await CC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Co}ms, refresh threshold is ${Ev} ticks`),s<=Ev&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=kp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+mF>Date.now()))return n;const{data:s,error:i}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new zc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new zc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=kp(n);if(FF(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=$F(s.alg),u=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,NF(`${l}.${c}`)))throw new zc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}vd.nextInstanceID=0;const r5=vd;class n5 extends r5{constructor(t){super(t)}}var s5=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class a5{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=lF(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:eF,realtime:rF,auth:Object.assign(Object.assign({},tF),{storageKey:d}),global:JL},f=cF(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=iF(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new _L(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new X3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new QL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return s5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n5({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new LL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i5=(e,t,r)=>new a5(e,t,r),o5="https://ergdgxmtxikhhoeznhvp.supabase.co",l5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVyZ2RneG10eGlraGhvZXpuaHZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzNzQxMjIsImV4cCI6MjA2NTk1MDEyMn0.uARrdgUWEiPQIMz0O-4yGF5aNewK06LLIxzKUVVEFB0",P=i5(o5,l5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),c5=()=>{const[e,t]=m.useState(null),[r,n]=m.useState("teacher"),[s,i]=m.useState("teacher"),[o,l]=m.useState(!0);m.useEffect(()=>{let f=null;const{data:{subscription:p}}=P.auth.onAuthStateChange((y,x)=>{t((x==null?void 0:x.user)??null),x!=null&&x.user&&x.user.id!==f?(f=x.user.id,setTimeout(()=>c(x.user.id),0)):x!=null&&x.user||(n("teacher"),i("teacher"),l(!1))});return P.auth.getSession().then(({data:{session:y}})=>{t((y==null?void 0:y.user)??null),y!=null&&y.user&&y.user.id!==f?(f=y.user.id,setTimeout(()=>c(y.user.id),0)):l(!1)}),()=>p.unsubscribe()},[]);const c=async f=>{var p,y;try{console.log("[useUserRole] Fetching role for userId:",f);const{data:x,error:b}=await P.rpc("get_user_role",{user_id:f});if(b||!x){const{data:w,error:v}=await P.from("organization_members").select("role, is_active").eq("user_id",f).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(console.log("[useUserRole] organization_members query result:",{memberData:w,memberError:v}),v||!w){const{data:h}=await P.auth.getUser(),_=(((y=(p=h.user)==null?void 0:p.user_metadata)==null?void 0:y.role)||"").toLowerCase();["admin","instructor","teacher","parent","student"].includes(_)?(n(_),i(_)):(console.log("No role found in DB; defaulting to teacher"),n("teacher"),i("teacher"))}else{let h;switch(w.role){case"org_owner":h="admin";break;case"parent":h="parent";break;case"student":h="student";break;case"instructor":h="instructor";break;case"teacher":h="teacher";break;default:h="teacher"}n(h),i(h)}}else{const w=x==="teacher"?"teacher":x;n(w),i(w)}}catch(x){console.error("Error fetching user role:",x),n("teacher"),i("teacher")}finally{l(!1)}};return{user:e,userRole:r,actualUserRole:s,loading:o,switchRole:f=>{n(f)},getAvailableRoles:()=>s==="admin"?["admin","instructor","parent","student"]:[s]}},ne=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const ke=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:G("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Te=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:G("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const vt=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:G("text-sm text-muted-foreground",e),...t}));vt.displayName="CardDescription";const ie=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:G("p-6 pt-0",e),...t}));ie.displayName="CardContent";const d5=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:G("flex items-center p-6 pt-0",e),...t}));d5.displayName="CardFooter";const u5=ro("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function be({className:e,variant:t,...r}){return a.jsx("div",{className:G(u5({variant:t}),e),...r})}const xd=ro("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",nav:"bg-transparent text-inherit hover:bg-transparent active:bg-transparent focus:bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 transition-none",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?vr:"button";return a.jsx(o,{className:G(xd({variant:t,size:r,className:e})),ref:i,...s})});W.displayName="Button";function Ce(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ot(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yt(e,t){const r=Ce(e);return isNaN(t)?ot(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function xr(e,t){const r=Ce(e);if(isNaN(t))return ot(e,NaN);if(!t)return r;const n=r.getDate(),s=ot(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const ky=6048e5,f5=864e5,Ey=6e4,Ty=36e5,h5=1e3,Qu=43200,qb=1440;let m5={};function ii(){return m5}function Ht(e,t){var l,c,d,u;const r=ii(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Ce(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ys(e){return Ht(e,{weekStartsOn:1})}function EC(e){const t=Ce(e),r=t.getFullYear(),n=ot(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ys(n),i=ot(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ys(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Yi(e){const t=Ce(e);return t.setHours(0,0,0,0),t}function Ha(e){const t=Ce(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ls(e,t){const r=Yi(e),n=Yi(t),s=+r-Ha(r),i=+n-Ha(n);return Math.round((s-i)/f5)}function p5(e){const t=EC(e),r=ot(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ys(r)}function La(e,t){const r=t*7;return yt(e,r)}function g5(e,t){return xr(e,t*12)}function v5(e){let t;return e.forEach(function(r){const n=Ce(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function x5(e){let t;return e.forEach(r=>{const n=Ce(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function wf(e,t){const r=Ce(e),n=Ce(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function y5(e){return ot(e,Date.now())}function lt(e,t){const r=Yi(e),n=Yi(t);return+r==+n}function Py(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function w5(e){if(!Py(e)&&typeof e!="number")return!1;const t=Ce(e);return!isNaN(Number(t))}function Nl(e,t){const r=Ce(e),n=Ce(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function b5(e,t,r){const n=Ht(e,r),s=Ht(t,r),i=+n-Ha(n),o=+s-Ha(s);return Math.round((i-o)/ky)}function _5(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function j5(e,t){return+Ce(e)-+Ce(t)}function TC(e){const t=Ce(e);return t.setHours(23,59,59,999),t}function Ya(e){const t=Ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function N5(e){const t=Ce(e);return+TC(t)==+Ya(t)}function S5(e,t){const r=Ce(e),n=Ce(t),s=wf(r,n),i=Math.abs(Nl(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=wf(r,n)===-s;N5(Ce(e))&&i===1&&wf(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function C5(e,t,r){const n=j5(e,t)/1e3;return _5(r==null?void 0:r.roundingMethod)(n)}function My(e,t){const r=Ce(e.start),n=Ce(e.end);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(Ce(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function Wt(e){const t=Ce(e);return t.setDate(1),t.setHours(0,0,0,0),t}function PC(e){const t=Ce(e),r=ot(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function oo(e,t){var l,c,d,u;const r=ii(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Ce(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function MC(e){return oo(e,{weekStartsOn:1})}const k5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},E5=(e,t,r)=>{let n;const s=k5[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const T5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D5={date:Tp({formats:T5,defaultWidth:"full"}),time:Tp({formats:P5,defaultWidth:"full"}),dateTime:Tp({formats:M5,defaultWidth:"full"})},R5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O5=(e,t,r,n)=>R5[e];function uc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const A5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},I5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z5=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},B5={ordinalNumber:z5,era:uc({values:A5,defaultWidth:"wide"}),quarter:uc({values:I5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uc({values:L5,defaultWidth:"wide"}),day:uc({values:F5,defaultWidth:"wide"}),dayPeriod:uc({values:$5,defaultWidth:"wide",formattingValues:U5,defaultFormattingWidth:"wide"})};function fc(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?W5(l,f=>f.test(o)):V5(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function V5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function W5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function q5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const H5=/^(\d+)(th|st|nd|rd)?/i,Y5=/\d+/i,K5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G5={any:[/^b/i,/^(a|c)/i]},Q5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z5={any:[/1/i,/2/i,/3/i,/4/i]},X5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s$={ordinalNumber:q5({matchPattern:H5,parsePattern:Y5,valueCallback:e=>parseInt(e,10)}),era:fc({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:G5,defaultParseWidth:"any"}),quarter:fc({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:Z5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fc({matchPatterns:X5,defaultMatchWidth:"wide",parsePatterns:J5,defaultParseWidth:"any"}),day:fc({matchPatterns:e$,defaultMatchWidth:"wide",parsePatterns:t$,defaultParseWidth:"any"}),dayPeriod:fc({matchPatterns:r$,defaultMatchWidth:"any",parsePatterns:n$,defaultParseWidth:"any"})},vm={code:"en-US",formatDistance:E5,formatLong:D5,formatRelative:O5,localize:B5,match:s$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a$(e){const t=Ce(e);return ls(t,PC(t))+1}function Dy(e){const t=Ce(e),r=+Ys(t)-+p5(t);return Math.round(r/ky)+1}function Ry(e,t){var u,f,p,y;const r=Ce(e),n=r.getFullYear(),s=ii(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(p=s.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=ot(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ht(o,t),c=ot(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Ht(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function i$(e,t){var l,c,d,u;const r=ii(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=Ry(e,t),i=ot(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ht(i,t)}function Oy(e,t){const r=Ce(e),n=+Ht(r,t)-+i$(r,t);return Math.round(n/ky)+1}function et(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const na={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return et(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):et(r+1,2)},d(e,t){return et(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return et(e.getHours()%12||12,t.length)},H(e,t){return et(e.getHours(),t.length)},m(e,t){return et(e.getMinutes(),t.length)},s(e,t){return et(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return et(s,t.length)}},bo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hb={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return na.y(e,t)},Y:function(e,t,r,n){const s=Ry(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return et(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):et(i,t.length)},R:function(e,t){const r=EC(e);return et(r,t.length)},u:function(e,t){const r=e.getFullYear();return et(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return na.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Oy(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):et(s,t.length)},I:function(e,t,r){const n=Dy(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):et(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):na.d(e,t)},D:function(e,t,r){const n=a$(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):et(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return et(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return et(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return et(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=bo.noon:n===0?s=bo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=bo.evening:n>=12?s=bo.afternoon:n>=4?s=bo.morning:s=bo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return na.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):na.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):et(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):et(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):na.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):na.s(e,t)},S:function(e,t){return na.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Kb(n);case"XXXX":case"XX":return gi(n);case"XXXXX":case"XXX":default:return gi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Kb(n);case"xxxx":case"xx":return gi(n);case"xxxxx":case"xxx":default:return gi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yb(n,":");case"OOOO":default:return"GMT"+gi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yb(n,":");case"zzzz":default:return"GMT"+gi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return et(n,t.length)},T:function(e,t,r){const n=e.getTime();return et(n,t.length)}};function Yb(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+et(i,2)}function Kb(e,t){return e%60===0?(e>0?"-":"+")+et(Math.abs(e)/60,2):gi(e,t)}function gi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=et(Math.trunc(n/60),2),i=et(n%60,2);return r+s+t+i}const Gb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},o$=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Gb(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Gb(n,t)).replace("{{time}}",DC(s,t))},Mv={p:DC,P:o$},l$=/^D+$/,c$=/^Y+$/,d$=["D","DD","YY","YYYY"];function RC(e){return l$.test(e)}function OC(e){return c$.test(e)}function Dv(e,t,r){const n=u$(e,t,r);if(console.warn(n),d$.includes(e))throw new RangeError(n)}function u$(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m$=/^'([^]*?)'?$/,p$=/''/g,g$=/[a-zA-Z]/;function me(e,t,r){var u,f,p,y,x,b,w,v;const n=ii(),s=(r==null?void 0:r.locale)??n.locale??vm,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((v=(w=n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??0,l=Ce(e);if(!w5(l))throw new RangeError("Invalid time value");let c=t.match(h$).map(h=>{const g=h[0];if(g==="p"||g==="P"){const _=Mv[g];return _(h,s.formatLong)}return h}).join("").match(f$).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:v$(h)};if(Hb[g])return{isToken:!0,value:h};if(g.match(g$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const g=h.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&OC(g)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&RC(g))&&Dv(g,t,String(e));const _=Hb[g[0]];return _(l,g,s.localize,d)}).join("")}function v$(e){const t=e.match(m$);return t?t[1].replace(p$,"'"):e}function x$(e,t,r){const n=ii(),s=(r==null?void 0:r.locale)??n.locale??vm,i=2520,o=wf(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ce(t),d=Ce(e)):(c=Ce(e),d=Ce(t));const u=C5(d,c),f=(Ha(d)-Ha(c))/1e3,p=Math.round((u-f)/60);let y;if(p<2)return r!=null&&r.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<qb){const x=Math.round(p/60);return s.formatDistance("aboutXHours",x,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<Qu){const x=Math.round(p/qb);return s.formatDistance("xDays",x,l)}else if(p<Qu*2)return y=Math.round(p/Qu),s.formatDistance("aboutXMonths",y,l)}if(y=S5(d,c),y<12){const x=Math.round(p/Qu);return s.formatDistance("xMonths",x,l)}else{const x=y%12,b=Math.trunc(y/12);return x<3?s.formatDistance("aboutXYears",b,l):x<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function y$(e,t){return x$(e,y5(e),t)}function w$(e){const t=Ce(e),r=t.getFullYear(),n=t.getMonth(),s=ot(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function AC(){return Object.assign({},ii())}function b$(e){let r=Ce(e).getDay();return r===0&&(r=7),r}function _$(e){return Math.trunc(+Ce(e)/1e3)}function j$(e){const t=Ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function N$(e,t){return b5(j$(e),Wt(e),t)+1}function Rv(e,t){const r=Ce(e),n=Ce(t);return r.getTime()>n.getTime()}function wi(e,t){const r=Ce(e),n=Ce(t);return+r<+n}function S$(e,t){const r=t instanceof Date?ot(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const C$=10;class IC{constructor(){ge(this,"subPriority",0)}validate(t,r){return!0}}class k$ extends IC{constructor(t,r,n,s,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class E$ extends IC{constructor(){super(...arguments);ge(this,"priority",C$);ge(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:ot(r,S$(r,Date))}}class Ze{run(t,r,n,s){const i=this.parse(t,r,n,s);return i?{setter:new k$(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class T$ extends Ze{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ss={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function At(e,t){return e&&{value:t(e.value),rest:e.rest}}function Nt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function as(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*Ty+i*Ey+o*h5),rest:t.slice(r[0].length)}}function LC(e){return Nt(Ot.anyDigitsSigned,e)}function Mt(e,t){switch(e){case 1:return Nt(Ot.singleDigit,t);case 2:return Nt(Ot.twoDigits,t);case 3:return Nt(Ot.threeDigits,t);case 4:return Nt(Ot.fourDigits,t);default:return Nt(new RegExp("^\\d{1,"+e+"}"),t)}}function fh(e,t){switch(e){case 1:return Nt(Ot.singleDigitSigned,t);case 2:return Nt(Ot.twoDigitsSigned,t);case 3:return Nt(Ot.threeDigitsSigned,t);case 4:return Nt(Ot.fourDigitsSigned,t);default:return Nt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ay(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function FC(e,t){const r=t>0,n=r?t:1-t;let s;if(n<=50)s=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return r?s:1-s}function $C(e){return e%400===0||e%4===0&&e%100!==0}class P$ extends Ze{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return At(Mt(4,r),i);case"yo":return At(s.ordinalNumber(r,{unit:"year"}),i);default:return At(Mt(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const l=FC(s.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class M$ extends Ze{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return At(Mt(4,r),i);case"Yo":return At(s.ordinalNumber(r,{unit:"year"}),i);default:return At(Mt(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=Ry(r,i);if(s.isTwoDigitYear){const c=FC(s.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Ht(r,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Ht(r,i)}}class D$ extends Ze{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return fh(n==="R"?4:n.length,r)}set(r,n,s){const i=ot(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ys(i)}}class R$ extends Ze{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return fh(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class O$ extends Ze{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Mt(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class A$ extends Ze{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Mt(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class I$ extends Ze{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return At(Nt(Ot.month,r),i);case"MM":return At(Mt(2,r),i);case"Mo":return At(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class L$ extends Ze{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return At(Nt(Ot.month,r),i);case"LL":return At(Mt(2,r),i);case"Lo":return At(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function F$(e,t,r){const n=Ce(e),s=Oy(n,r)-t;return n.setDate(n.getDate()-s*7),n}class $$ extends Ze{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return Nt(Ot.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Mt(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return Ht(F$(r,s,i),i)}}function U$(e,t){const r=Ce(e),n=Dy(r)-t;return r.setDate(r.getDate()-n*7),r}class z$ extends Ze{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return Nt(Ot.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Mt(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Ys(U$(r,s))}}const B$=[31,28,31,30,31,30,31,31,30,31,30,31],V$=[31,29,31,30,31,30,31,31,30,31,30,31];class W$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return Nt(Ot.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Mt(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=$C(s),o=r.getMonth();return i?n>=1&&n<=V$[o]:n>=1&&n<=B$[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class q$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return Nt(Ot.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Mt(n.length,r)}}validate(r,n){const s=r.getFullYear();return $C(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function Iy(e,t,r){var f,p,y,x;const n=ii(),s=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,i=Ce(e),o=i.getDay(),c=(t%7+7)%7,d=7-s,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return yt(i,u)}class H$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=Iy(r,s,i),r.setHours(0,0,0,0),r}}class Y$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return At(Mt(n.length,r),o);case"eo":return At(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=Iy(r,s,i),r.setHours(0,0,0,0),r}}class K$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return At(Mt(n.length,r),o);case"co":return At(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=Iy(r,s,i),r.setHours(0,0,0,0),r}}function G$(e,t){const r=Ce(e),n=b$(r),s=t-n;return yt(r,s)}class Q$ extends Ze{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Mt(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return At(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return At(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return At(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return At(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=G$(r,s),r.setHours(0,0,0,0),r}}class Z$ extends Ze{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Ay(s),0,0,0),r}}class X$ extends Ze{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Ay(s),0,0,0),r}}class J$ extends Ze{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Ay(s),0,0,0),r}}class e6 extends Ze{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return Nt(Ot.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Mt(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class t6 extends Ze{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return Nt(Ot.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Mt(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class r6 extends Ze{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return Nt(Ot.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Mt(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class n6 extends Ze{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return Nt(Ot.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Mt(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class s6 extends Ze{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return Nt(Ot.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Mt(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class a6 extends Ze{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return Nt(Ot.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Mt(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class i6 extends Ze{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return At(Mt(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class o6 extends Ze{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return as(ss.basicOptionalMinutes,r);case"XX":return as(ss.basic,r);case"XXXX":return as(ss.basicOptionalSeconds,r);case"XXXXX":return as(ss.extendedOptionalSeconds,r);case"XXX":default:return as(ss.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ot(r,r.getTime()-Ha(r)-s)}}class l6 extends Ze{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return as(ss.basicOptionalMinutes,r);case"xx":return as(ss.basic,r);case"xxxx":return as(ss.basicOptionalSeconds,r);case"xxxxx":return as(ss.extendedOptionalSeconds,r);case"xxx":default:return as(ss.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ot(r,r.getTime()-Ha(r)-s)}}class c6 extends Ze{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(r){return LC(r)}set(r,n,s){return[ot(r,s*1e3),{timestampIsSet:!0}]}}class d6 extends Ze{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(r){return LC(r)}set(r,n,s){return[ot(r,s),{timestampIsSet:!0}]}}const u6={G:new T$,y:new P$,Y:new M$,R:new D$,u:new R$,Q:new O$,q:new A$,M:new I$,L:new L$,w:new $$,I:new z$,d:new W$,D:new q$,E:new H$,e:new Y$,c:new K$,i:new Q$,a:new Z$,b:new X$,B:new J$,h:new e6,H:new t6,K:new r6,k:new n6,m:new s6,s:new a6,S:new i6,X:new o6,x:new l6,t:new c6,T:new d6},f6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m6=/^'([^]*?)'?$/,p6=/''/g,g6=/\S/,v6=/[a-zA-Z]/;function Pp(e,t,r,n){var b,w,v,h;const s=AC(),i=s.locale??vm,o=s.firstWeekContainsDate??((w=(b=s.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,l=s.weekStartsOn??((h=(v=s.locale)==null?void 0:v.options)==null?void 0:h.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new E$],u=t.match(h6).map(g=>{const _=g[0];if(_ in Mv){const j=Mv[_];return j(g,i.formatLong)}return g}).join("").match(f6),f=[];for(let g of u){OC(g)&&Dv(g,t,e),RC(g)&&Dv(g,t,e);const _=g[0],j=u6[_];if(j){const{incompatibleTokens:k}=j;if(Array.isArray(k)){const E=f.find(R=>k.includes(R.token)||R.token===_);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${g}\` at the same time`)}else if(j.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);f.push({token:_,fullToken:g});const N=j.run(e,g,i.match,c);if(!N)return ot(r,NaN);d.push(N.setter),e=N.rest}else{if(_.match(v6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(g==="''"?g="'":_==="'"&&(g=x6(g)),e.indexOf(g)===0)e=e.slice(g.length);else return ot(r,NaN)}}if(e.length>0&&g6.test(e))return ot(r,NaN);const p=d.map(g=>g.priority).sort((g,_)=>_-g).filter((g,_,j)=>j.indexOf(g)===_).map(g=>d.filter(_=>_.priority===g).sort((_,j)=>j.subPriority-_.subPriority)).map(g=>g[0]);let y=Ce(r);if(isNaN(y.getTime()))return ot(r,NaN);const x={};for(const g of p){if(!g.validate(y,c))return ot(r,NaN);const _=g.set(y,x,c);Array.isArray(_)?(y=_[0],Object.assign(x,_[1])):y=_}return ot(r,y)}function x6(e){return e.match(m6)[1].replace(p6,"'")}function ru(e,t){const r=Ce(e),n=Ce(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function y6(e,t){const r=Ce(e),n=Ce(t);return r.getFullYear()===n.getFullYear()}function Vc(e,t){return yt(e,-t)}function Qb(e,t){const n=j6(e);let s;if(n.date){const c=N6(n.date,2);s=S6(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=C6(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=k6(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const Zu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j6(e){const t={},r=e.split(Zu.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zu.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Zu.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function N6(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function S6(e,t){if(t===null)return new Date(NaN);const r=e.match(w6);if(!r)return new Date(NaN);const n=!!r[4],s=hc(r[1]),i=hc(r[2])-1,o=hc(r[3]),l=hc(r[4]),c=hc(r[5])-1;if(n)return D6(t,l,c)?E6(t,l,c):new Date(NaN);{const d=new Date(0);return!P6(t,i,o)||!M6(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,o)),d)}}function hc(e){return e?parseInt(e):1}function C6(e){const t=e.match(b6);if(!t)return NaN;const r=Mp(t[1]),n=Mp(t[2]),s=Mp(t[3]);return R6(r,n,s)?r*Ty+n*Ey+s*1e3:NaN}function Mp(e){return e&&parseFloat(e.replace(",","."))||0}function k6(e){if(e==="Z")return 0;const t=e.match(_6);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return O6(n,s)?r*(n*Ty+s*Ey):NaN}function E6(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const T6=[31,null,31,30,31,30,31,31,30,31,30,31];function UC(e){return e%400===0||e%4===0&&e%100!==0}function P6(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(T6[t]||(UC(e)?29:28))}function M6(e,t){return t>=1&&t<=(UC(e)?366:365)}function D6(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function R6(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function O6(e,t){return t>=0&&t<=59}function Dp(e,t){const r=Ce(e),n=r.getFullYear(),s=r.getDate(),i=ot(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=w$(i);return r.setMonth(t,Math.min(s,o)),r}function Zb(e,t){const r=Ce(e);return isNaN(+r)?ot(e,NaN):(r.setFullYear(t),r)}function Ly(e,t){return xr(e,-t)}function A6(e,t){return La(e,-t)}const I6=({userRole:e})=>{const t=e==="teacher"?"instructor":e,{data:r=[],isLoading:n,error:s}=Zt({queryKey:["announcements",t],queryFn:async()=>{try{let c=P.from("announcements").select("*").eq("is_active",!0).or(`expires_at.is.null,expires_at.gt.${new Date().toISOString()}`).order("created_at",{ascending:!1}).limit(10);const{data:d,error:u}=await c;if(u)throw console.error("AnnouncementsFeed error:",u),u;return t==="admin"?d||[]:(d||[]).filter(p=>!p.target_audience||p.target_audience.length===0?!0:p.target_audience.includes(t)||p.target_audience.includes("all"))}catch(c){throw console.error("Failed to fetch announcements:",c),c}},retry:2,staleTime:1e3*60*5}),i=c=>{switch(c){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";default:return"bg-blue-500"}},o=c=>{switch(c){case"alert":return"text-red-600 bg-red-50";case"event":return"text-green-600 bg-green-50";case"celebration":return"text-purple-600 bg-purple-50";default:return"text-blue-600 bg-blue-50"}},l=c=>{switch(c){case"alert":return Vi;case"event":return ze;case"celebration":return xR;default:return Vr}};return n?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Latest News & Updates"})}),a.jsx(ne,{children:a.jsx(ie,{className:"pt-6",children:a.jsx("p",{className:"text-gray-500 text-center",children:"Loading announcements..."})})})]}):s?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Latest News & Updates"})}),a.jsx(ne,{children:a.jsxs(ie,{className:"pt-6",children:[a.jsx("p",{className:"text-red-500 text-center",children:"Failed to load announcements"}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:s instanceof Error?s.message:"Unknown error"})]})})]}):r.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Latest News & Updates"})}),a.jsx(ne,{children:a.jsx(ie,{className:"pt-6",children:a.jsx("p",{className:"text-gray-500 text-center",children:"No announcements at this time."})})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Latest News & Updates"}),a.jsx(W,{variant:"outline",size:"sm",children:"View All"})]}),r.map(c=>{const d=l(c.type);return a.jsxs(ne,{className:"hover:shadow-md transition-shadow",children:[a.jsx(ke,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`p-1 rounded-full ${i(c.priority)}`,children:a.jsx(d,{className:"h-4 w-4 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx(Te,{className:"text-base",children:c.title}),a.jsxs(vt,{className:"text-sm text-gray-500",children:[y$(new Date(c.created_at))," ago"]})]})]}),a.jsx(be,{className:o(c.type),variant:"secondary",children:c.type})]})}),a.jsxs(ie,{children:[a.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:c.content}),c.expires_at&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expires: ",me(new Date(c.expires_at),"PPP")]})]})]},c.id)})]})};var Rp="focusScope.autoFocusOnMount",Op="focusScope.autoFocusOnUnmount",Xb={bubbles:!1,cancelable:!0},L6="FocusScope",nu=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=rr(s),u=rr(i),f=m.useRef(null),p=We(t,b=>c(b)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let b=function(g){if(y.paused||!l)return;const _=g.target;l.contains(_)?f.current=_:ia(f.current,{select:!0})},w=function(g){if(y.paused||!l)return;const _=g.relatedTarget;_!==null&&(l.contains(_)||ia(f.current,{select:!0}))},v=function(g){if(document.activeElement===document.body)for(const j of g)j.removedNodes.length>0&&ia(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const h=new MutationObserver(v);return l&&h.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),h.disconnect()}}},[n,l,y.paused]),m.useEffect(()=>{if(l){e_.add(y);const b=document.activeElement;if(!l.contains(b)){const v=new CustomEvent(Rp,Xb);l.addEventListener(Rp,d),l.dispatchEvent(v),v.defaultPrevented||(F6(V6(zC(l)),{select:!0}),document.activeElement===b&&ia(l))}return()=>{l.removeEventListener(Rp,d),setTimeout(()=>{const v=new CustomEvent(Op,Xb);l.addEventListener(Op,u),l.dispatchEvent(v),v.defaultPrevented||ia(b??document.body,{select:!0}),l.removeEventListener(Op,u),e_.remove(y)},0)}}},[l,d,u,y]);const x=m.useCallback(b=>{if(!r&&!n||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(w&&v){const h=b.currentTarget,[g,_]=$6(h);g&&_?!b.shiftKey&&v===_?(b.preventDefault(),r&&ia(g,{select:!0})):b.shiftKey&&v===g&&(b.preventDefault(),r&&ia(_,{select:!0})):v===h&&b.preventDefault()}},[r,n,y.paused]);return a.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});nu.displayName=L6;function F6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ia(n,{select:t}),document.activeElement!==r)return}function $6(e){const t=zC(e),r=Jb(t,e),n=Jb(t.reverse(),e);return[r,n]}function zC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jb(e,t){for(const r of e)if(!U6(r,{upTo:t}))return r}function U6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z6(e){return e instanceof HTMLInputElement&&"select"in e}function ia(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&z6(e)&&t&&e.select()}}var e_=B6();function B6(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=t_(e,t),e.unshift(t)},remove(t){var r;e=t_(e,t),(r=e[0])==null||r.resume()}}}function t_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function V6(e){return e.filter(t=>t.tagName!=="A")}var Ap=0;function xm(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??r_()),document.body.insertAdjacentElement("beforeend",e[1]??r_()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ap--}},[])}function r_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var is=function(){return is=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},is.apply(this,arguments)};function BC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function W6(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var bf="right-scroll-bar-position",_f="width-before-scroll-bar",q6="with-scroll-bars-hidden",H6="--removed-body-scroll-bar-size";function Ip(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Y6(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var K6=typeof window<"u"?m.useLayoutEffect:m.useEffect,n_=new WeakMap;function G6(e,t){var r=Y6(null,function(n){return e.forEach(function(s){return Ip(s,n)})});return K6(function(){var n=n_.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Ip(l,null)}),i.forEach(function(l){s.has(l)||Ip(l,o)})}n_.set(r,e)},[e]),r}function Q6(e){return e}function Z6(e,t){t===void 0&&(t=Q6);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return s}function X6(e){e===void 0&&(e={});var t=Z6(null);return t.options=is({async:!0,ssr:!1},e),t}var VC=function(e){var t=e.sideCar,r=BC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,is({},r))};VC.isSideCarExport=!0;function J6(e,t){return e.useMedium(t),VC}var WC=X6(),Lp=function(){},ym=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Lp,onWheelCapture:Lp,onTouchMoveCapture:Lp}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,y=e.noIsolation,x=e.inert,b=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,h=e.gapMode,g=BC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,j=G6([r,t]),k=is(is({},g),s);return m.createElement(m.Fragment,null,u&&m.createElement(_,{sideCar:WC,removeScrollBar:d,shards:f,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:h}),o?m.cloneElement(m.Children.only(l),is(is({},k),{ref:j})):m.createElement(v,is({},k,{className:c,ref:j}),l))});ym.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ym.classNames={fullWidth:_f,zeroRight:bf};var eU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eU();return t&&e.setAttribute("nonce",t),e}function rU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tU())&&(rU(t,r),nU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aU=function(){var e=sU();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},qC=function(){var e=aU(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},iU={left:0,top:0,right:0,gap:0},Fp=function(e){return parseInt(e||"",10)||0},oU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Fp(r),Fp(n),Fp(s)]},lU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iU;var t=oU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cU=qC(),Xo="data-scroll-locked",dU=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(q6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_f,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xo,`] {
    `).concat(H6,": ").concat(l,`px;
  }
`)},s_=function(){var e=parseInt(document.body.getAttribute(Xo)||"0",10);return isFinite(e)?e:0},uU=function(){m.useEffect(function(){return document.body.setAttribute(Xo,(s_()+1).toString()),function(){var e=s_()-1;e<=0?document.body.removeAttribute(Xo):document.body.setAttribute(Xo,e.toString())}},[])},fU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;uU();var i=m.useMemo(function(){return lU(s)},[s]);return m.createElement(cU,{styles:dU(i,!t,s,r?"":"!important")})},Ov=!1;if(typeof window<"u")try{var Xu=Object.defineProperty({},"passive",{get:function(){return Ov=!0,!0}});window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Ov=!1}var _o=Ov?{passive:!1}:!1,hU=function(e){return e.tagName==="TEXTAREA"},HC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hU(e)&&r[t]==="visible")},mU=function(e){return HC(e,"overflowY")},pU=function(e){return HC(e,"overflowX")},a_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=YC(e,n);if(s){var i=KC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},YC=function(e,t){return e==="v"?mU(t):pU(t)},KC=function(e,t){return e==="v"?gU(t):vU(t)},xU=function(e,t){return e==="h"&&t==="rtl"?-1:1},yU=function(e,t,r,n,s){var i=xU(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,p=0;do{var y=KC(e,l),x=y[0],b=y[1],w=y[2],v=b-w-i*x;(x||v)&&YC(e,l)&&(f+=v,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},Ju=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i_=function(e){return[e.deltaX,e.deltaY]},o_=function(e){return e&&"current"in e?e.current:e},wU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_U=0,jo=[];function jU(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(_U++)[0],i=m.useState(qC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var b=W6([e.lockRef.current],(e.shards||[]).map(o_),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var v=Ju(b),h=r.current,g="deltaX"in b?b.deltaX:h[0]-v[0],_="deltaY"in b?b.deltaY:h[1]-v[1],j,k=b.target,N=Math.abs(g)>Math.abs(_)?"h":"v";if("touches"in b&&N==="h"&&k.type==="range")return!1;var E=a_(N,k);if(!E)return!0;if(E?j=N:(j=N==="v"?"h":"v",E=a_(N,k)),!E)return!1;if(!n.current&&"changedTouches"in b&&(g||_)&&(n.current=j),!j)return!0;var R=n.current||j;return yU(R,w,b,R==="h"?g:_,!0)},[]),c=m.useCallback(function(b){var w=b;if(!(!jo.length||jo[jo.length-1]!==i)){var v="deltaY"in w?i_(w):Ju(w),h=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&wU(j.delta,v)})[0];if(h&&h.should){w.cancelable&&w.preventDefault();return}if(!h){var g=(o.current.shards||[]).map(o_).filter(Boolean).filter(function(j){return j.contains(w.target)}),_=g.length>0?l(w,g[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(b,w,v,h){var g={name:b,delta:w,target:v,should:h,shadowParent:NU(v)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(_){return _!==g})},1)},[]),u=m.useCallback(function(b){r.current=Ju(b),n.current=void 0},[]),f=m.useCallback(function(b){d(b.type,i_(b),b.target,l(b,e.lockRef.current))},[]),p=m.useCallback(function(b){d(b.type,Ju(b),b.target,l(b,e.lockRef.current))},[]);m.useEffect(function(){return jo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,_o),document.addEventListener("touchmove",c,_o),document.addEventListener("touchstart",u,_o),function(){jo=jo.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,_o),document.removeEventListener("touchmove",c,_o),document.removeEventListener("touchstart",u,_o)}},[]);var y=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:bU(s)}):null,y?m.createElement(fU,{gapMode:e.gapMode}):null)}function NU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SU=J6(WC,jU);var su=m.forwardRef(function(e,t){return m.createElement(ym,is({},e,{ref:t,sideCar:SU}))});su.classNames=ym.classNames;var CU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},No=new WeakMap,ef=new WeakMap,tf={},$p=0,GC=function(e){return e&&(e.host||GC(e.parentNode))},kU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=GC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EU=function(e,t,r,n){var s=kU(t,Array.isArray(e)?e:[e]);tf[r]||(tf[r]=new WeakMap);var i=tf[r],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var y=p.getAttribute(n),x=y!==null&&y!=="false",b=(No.get(p)||0)+1,w=(i.get(p)||0)+1;No.set(p,b),i.set(p,w),o.push(p),b===1&&x&&ef.set(p,!0),w===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return u(t),l.clear(),$p++,function(){o.forEach(function(f){var p=No.get(f)-1,y=i.get(f)-1;No.set(f,p),i.set(f,y),p||(ef.has(f)||f.removeAttribute(n),ef.delete(f)),y||f.removeAttribute(r)}),$p--,$p||(No=new WeakMap,No=new WeakMap,ef=new WeakMap,tf={})}},wm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=CU(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),EU(n,s,r,"aria-hidden")):function(){return null}},Fy="Dialog",[QC,ZC]=tn(Fy),[TU,zn]=QC(Fy),XC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=pn({prop:n,defaultProp:s,onChange:i});return a.jsx(TU,{scope:t,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};XC.displayName=Fy;var JC="DialogTrigger",ek=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zn(JC,r),i=We(t,s.triggerRef);return a.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zy(s.open),...n,ref:i,onClick:se(e.onClick,s.onOpenToggle)})});ek.displayName=JC;var $y="DialogPortal",[PU,tk]=QC($y,{forceMount:void 0}),rk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=zn($y,t);return a.jsx(PU,{scope:t,forceMount:r,children:m.Children.map(n,o=>a.jsx(_r,{present:r||i.open,children:a.jsx($l,{asChild:!0,container:s,children:o})}))})};rk.displayName=$y;var hh="DialogOverlay",nk=m.forwardRef((e,t)=>{const r=tk(hh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=zn(hh,e.__scopeDialog);return i.modal?a.jsx(_r,{present:n||i.open,children:a.jsx(MU,{...s,ref:t})}):null});nk.displayName=hh;var MU=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zn(hh,r);return a.jsx(su,{as:vr,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(_e.div,{"data-state":zy(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ki="DialogContent",sk=m.forwardRef((e,t)=>{const r=tk(Ki,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=zn(Ki,e.__scopeDialog);return a.jsx(_r,{present:n||i.open,children:i.modal?a.jsx(DU,{...s,ref:t}):a.jsx(RU,{...s,ref:t})})});sk.displayName=Ki;var DU=m.forwardRef((e,t)=>{const r=zn(Ki,e.__scopeDialog),n=m.useRef(null),s=We(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return wm(i)},[]),a.jsx(ak,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),RU=m.forwardRef((e,t)=>{const r=zn(Ki,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(ak,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ak=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=zn(Ki,r),c=m.useRef(null),d=We(t,c);return xm(),a.jsxs(a.Fragment,{children:[a.jsx(nu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(to,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(AU,{titleId:l.titleId}),a.jsx(LU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uy="DialogTitle",ik=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zn(Uy,r);return a.jsx(_e.h2,{id:s.titleId,...n,ref:t})});ik.displayName=Uy;var ok="DialogDescription",lk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zn(ok,r);return a.jsx(_e.p,{id:s.descriptionId,...n,ref:t})});lk.displayName=ok;var ck="DialogClose",dk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zn(ck,r);return a.jsx(_e.button,{type:"button",...n,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});dk.displayName=ck;function zy(e){return e?"open":"closed"}var uk="DialogTitleWarning",[OU,fk]=p4(uk,{contentName:Ki,titleName:Uy,docsSlug:"dialog"}),AU=({titleId:e})=>{const t=fk(uk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},IU="DialogDescriptionWarning",LU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fk(IU).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},By=XC,Vy=ek,Wy=rk,au=nk,iu=sk,ou=ik,lu=lk,bm=dk;const qy=By,hk=Vy,FU=Wy,mk=m.forwardRef(({className:e,...t},r)=>a.jsx(au,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));mk.displayName=au.displayName;const $U=ro("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_m=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(FU,{children:[a.jsx(mk,{}),a.jsxs(iu,{ref:s,className:G($U({side:e}),t),...n,children:[r,a.jsxs(bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_m.displayName=iu.displayName;const UU=m.forwardRef(({className:e,...t},r)=>a.jsx(ou,{ref:r,className:G("text-lg font-semibold text-foreground",e),...t}));UU.displayName=ou.displayName;const zU=m.forwardRef(({className:e,...t},r)=>a.jsx(lu,{ref:r,className:G("text-sm text-muted-foreground",e),...t}));zU.displayName=lu.displayName;var BU="Separator",l_="horizontal",VU=["horizontal","vertical"],pk=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=l_,...s}=e,i=WU(n)?n:l_,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(_e.div,{"data-orientation":i,...l,...s,ref:t})});pk.displayName=BU;function WU(e){return VU.includes(e)}var gk=pk;const Kl=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(gk,{ref:s,decorative:r,orientation:t,className:G("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Kl.displayName=gk.displayName;var Hy="Collapsible",[qU,YH]=tn(Hy),[HU,Yy]=qU(Hy),vk=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=pn({prop:n,defaultProp:s,onChange:o});return a.jsx(HU,{scope:r,disabled:i,contentId:Kr(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:a.jsx(_e.div,{"data-state":Gy(c),"data-disabled":i?"":void 0,...l,ref:t})})});vk.displayName=Hy;var xk="CollapsibleTrigger",yk=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Yy(xk,r);return a.jsx(_e.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Gy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:se(e.onClick,s.onOpenToggle)})});yk.displayName=xk;var Ky="CollapsibleContent",wk=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Yy(Ky,e.__scopeCollapsible);return a.jsx(_r,{present:r||s.open,children:({present:i})=>a.jsx(YU,{...n,ref:t,present:i})})});wk.displayName=Ky;var YU=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Yy(Ky,r),[l,c]=m.useState(n),d=m.useRef(null),u=We(t,d),f=m.useRef(0),p=f.current,y=m.useRef(0),x=y.current,b=o.open||l,w=m.useRef(b),v=m.useRef();return m.useEffect(()=>{const h=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(h)},[]),qt(()=>{const h=d.current;if(h){v.current=v.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const g=h.getBoundingClientRect();f.current=g.height,y.current=g.width,w.current||(h.style.transitionDuration=v.current.transitionDuration,h.style.animationName=v.current.animationName),c(n)}},[o.open,n]),a.jsx(_e.div,{"data-state":Gy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:b&&s})});function Gy(e){return e?"open":"closed"}var KU=vk;const Qy=KU,Zy=yk,Xy=wk,Up=768;function oi(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Up-1}px)`),n=()=>{t(window.innerWidth<Up)};return r.addEventListener("change",n),t(window.innerWidth<Up),()=>r.removeEventListener("change",n)},[]),!!e}const GU=({userRole:e,activeTab:t,onTabChange:r})=>{const n=oi(),[s,i]=m.useState(!1),[o,l]=m.useState(["main"]),c=b=>{l(w=>w.includes(b)?w.filter(v=>v!==b):[...w,b])},u=(()=>{switch(e){case"admin":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],products:{label:"Products",icon:kn,color:"nav-products",items:[{value:"products-analytics",label:"Analytics",icon:Xx},{value:"products-internal",label:"Internal Products",icon:Kd},{value:"products-woocommerce-sync",label:"WooCommerce Sync",icon:ty},{value:"products-woocommerce-list",label:"WooCommerce Products",icon:kn}]},classes:{label:"Classes & Camps",icon:It,color:"nav-classes",items:[{value:"classes-single",label:"Calendar View",icon:ze}]},schedules:{label:"Schedules",icon:ze,color:"nav-schedules",items:[{value:"schedules-calendar",label:"Calendar View",icon:ze},{value:"schedules-bulk",label:"Bulk Schedule Upload",icon:lr},{value:"schedules-recurring",label:"Recurring Schedules",icon:dd}]},content:{label:"Content & Media",icon:Lr,color:"nav-content",items:[{value:"media-single",label:"Class Media Upload",icon:Lr},{value:"media-bulk",label:"Bulk Media Upload",icon:lr},{value:"materials-single",label:"Delivery Materials",icon:Ir},{value:"materials-bulk",label:"Bulk Materials Upload",icon:lr},{value:"content-approvals",label:"Content Approvals",icon:Mr}]},users:{label:"Users & Communication",icon:bt,color:"nav-users",items:[{value:"users-invites",label:"User Invites",icon:Xh},{value:"users-admin",label:"Admin Management",icon:Gd},{value:"users-families",label:"Family Management",icon:bt},{value:"users-bulk-enrollment",label:"Bulk Enrollment",icon:lr},{value:"users-announcements",label:"Announcements",icon:Vr},{value:"users-mobile-notifications",label:"Mobile Notifications",icon:Jf}]}};case"instructor":case"teacher":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns},{value:"schedule",label:"Schedule",icon:ze,color:"nav-instructor-schedule"},{value:"updates",label:"Class Updates",icon:Vr,color:"nav-instructor-updates"},{value:"materials",label:"Instructor Resources",icon:Ir,color:"nav-instructor-materials"}]};case"parent":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],family:{label:"Family",items:[{value:"progress",label:"Children Progress",icon:ud},{value:"class-updates",label:"Class Updates",icon:Vr},{value:"schedule",label:"Schedule",icon:ze}]}};case"student":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],learning:{label:"Learning",items:[{value:"progress",label:"My Progress",icon:ud},{value:"assignments",label:"Assignments",icon:VN},{value:"schedule",label:"Schedule",icon:ze}]}};default:return{main:[{value:"dashboard",label:"Dashboard",icon:ns},{value:"profile",label:"Profile",icon:rs}]}}})(),f=b=>{r(b),i(!1)},p=b=>({main:"Main",management:"Management",teaching:"Teaching",family:"Family",learning:"Learning",account:"Account"})[b]||b,y=()=>{for(const[,b]of Object.entries(u))if(Array.isArray(b)){const w=b.find(v=>v.value===t);if(w)return w.label}else{const v=b.items.find(h=>h.value===t);if(v)return v.label}return"Menu"},x=()=>{for(const[,b]of Object.entries(u))if(Array.isArray(b)){const w=b.find(v=>v.value===t);if(w!=null&&w.color)return w.color}else{const w=b;if(w.items.find(h=>h.value===t))return w.color}return null};return n?a.jsx("div",{className:"border-b border-border bg-background px-4 py-2",children:a.jsxs(qy,{open:s,onOpenChange:i,children:[a.jsx(hk,{asChild:!0,children:a.jsxs(W,{variant:"nav",size:"sm",className:"w-full justify-start gap-2",style:x()?{color:`hsl(var(--${x()}))`}:void 0,children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0 active:scale-125 active:bg-primary active:shadow-lg transition-all duration-100",children:a.jsx(hR,{className:"h-4 w-4 active:text-primary-foreground transition-colors duration-100"})}),a.jsx("span",{className:"text-sm font-medium",children:y()})]})}),a.jsx(_m,{side:"left",className:"w-64 overflow-y-auto bg-background",children:a.jsx("nav",{className:"flex flex-col gap-1 mt-8",children:Object.entries(u).map(([b,w])=>{if(Array.isArray(w))return a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:p(b)}),w.map(v=>a.jsxs(a.Fragment,{children:[v.value==="materials"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{"aria-hidden":!0,className:"h-[1em]"}),a.jsx(Kl,{}),a.jsx("div",{"aria-hidden":!0,className:"h-[1em]"})]}),a.jsxs(W,{variant:"nav",className:`w-full justify-start gap-3 pl-6 ${t===v.value?"opacity-100":v.color?"opacity-50 hover:opacity-75":""} ${t===v.value&&!v.color?"bg-transparent border-2 border-foreground/30":v.color?"":"border-2 border-transparent"}`,style:v.color?{backgroundColor:`hsl(var(--${v.color}))`,color:`hsl(var(--${v.color}-foreground))`}:void 0,onClick:()=>f(v.value),children:[a.jsx(v.icon,{className:"h-4 w-4"}),a.jsx("span",{children:v.label})]},v.value)]}))]},b);{const v=w,h=v.items.some(g=>g.value===t);return a.jsxs(Qy,{open:o.includes(b)||h,onOpenChange:()=>c(b),children:[a.jsx(Zy,{asChild:!0,children:a.jsxs(W,{variant:"nav",className:`w-full justify-between font-semibold text-sm px-3 py-2 transition-opacity ${h?"opacity-100":"opacity-50 hover:opacity-75"}`,style:v.color?{backgroundColor:`hsl(var(--${v.color}))`,color:`hsl(var(--${v.color}-foreground))`}:void 0,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[v.icon&&a.jsx(v.icon,{className:"h-4 w-4"}),v.label]}),a.jsx(Yd,{className:`h-4 w-4 transition-transform ${o.includes(b)||h?"rotate-180":""}`})]})}),a.jsx(Xy,{className:"space-y-1",children:v.items.map(g=>a.jsxs(W,{variant:"nav",className:`w-full justify-start gap-3 pl-6 ${t===g.value?"bg-transparent border-2 border-foreground/30":"border-2 border-transparent"}`,onClick:()=>f(g.value),children:[a.jsx(g.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:g.label})]},g.value))})]},b)}})})})]})}):null},ce=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ce.displayName="Input";function zo({className:e,...t}){return a.jsx("div",{className:G("animate-pulse rounded-md bg-muted",e),...t})}const QU="sidebar:state",ZU=60*60*24*7,XU="16rem",JU="18rem",e8="3rem",t8="b",bk=m.createContext(null);function cu(){const e=m.useContext(bk);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const _k=m.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:i,...o},l)=>{const c=oi(),[d,u]=m.useState(!1),[f,p]=m.useState(e),y=t??f,x=m.useCallback(h=>{const g=typeof h=="function"?h(y):h;r?r(g):p(g),document.cookie=`${QU}=${g}; path=/; max-age=${ZU}`},[r,y]),b=m.useCallback(()=>c?u(h=>!h):x(h=>!h),[c,x,u]);m.useEffect(()=>{const h=g=>{g.key===t8&&(g.metaKey||g.ctrlKey)&&(g.preventDefault(),b())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[b]);const w=y?"expanded":"collapsed",v=m.useMemo(()=>({state:w,open:y,setOpen:x,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:b}),[w,y,x,c,d,u,b]);return a.jsx(bk.Provider,{value:v,children:a.jsx(TS,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":XU,"--sidebar-width-icon":e8,...s},className:G("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});_k.displayName="SidebarProvider";const jk=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=cu();return r==="none"?a.jsx("div",{className:G("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:s}):l?a.jsx(qy,{open:d,onOpenChange:u,...i,children:a.jsx(_m,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":JU},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:G("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:G("duration-200 fixed top-14 sm:top-16 bottom-0 z-10 hidden w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});jk.displayName="Sidebar";const r8=m.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=cu();return a.jsxs(W,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:G("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...r,children:[a.jsx(pR,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});r8.displayName="SidebarTrigger";const n8=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=cu();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:G("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});n8.displayName="SidebarRail";const s8=m.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:G("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));s8.displayName="SidebarInset";const a8=m.forwardRef(({className:e,...t},r)=>a.jsx(ce,{ref:r,"data-sidebar":"input",className:G("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));a8.displayName="SidebarInput";const i8=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:G("flex flex-col gap-2 p-2",e),...t}));i8.displayName="SidebarHeader";const o8=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:G("flex flex-col gap-2 p-2",e),...t}));o8.displayName="SidebarFooter";const Nk=m.forwardRef(({className:e,...t},r)=>a.jsx(Kl,{ref:r,"data-sidebar":"separator",className:G("mx-2 w-auto bg-sidebar-border",e),...t}));Nk.displayName="SidebarSeparator";const Sk=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:G("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Sk.displayName="SidebarContent";const Ck=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:G("relative flex w-full min-w-0 flex-col p-2",e),...t}));Ck.displayName="SidebarGroup";const kk=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?vr:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:G("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});kk.displayName="SidebarGroupLabel";const l8=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?vr:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:G("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});l8.displayName="SidebarGroupAction";const Ek=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:G("w-full text-sm",e),...t}));Ek.displayName="SidebarGroupContent";const Tk=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:G("flex w-full min-w-0 flex-col gap-1",e),...t}));Tk.displayName="SidebarMenu";const jf=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:G("group/menu-item relative",e),...t}));jf.displayName="SidebarMenuItem";const c8=ro("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Av=m.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:i,...o},l)=>{const c=e?vr:"button",{isMobile:d,state:u}=cu(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:G(c8({variant:r,size:n}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(hI,{children:[a.jsx(mI,{asChild:!0,children:f}),a.jsx(PS,{side:"right",align:"center",hidden:u!=="collapsed"||d,...s})]})):f});Av.displayName="SidebarMenuButton";const d8=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const i=t?vr:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:G("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});d8.displayName="SidebarMenuAction";const u8=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:G("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));u8.displayName="SidebarMenuBadge";const f8=m.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:G("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&a.jsx(zo,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(zo,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});f8.displayName="SidebarMenuSkeleton";const h8=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:G("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));h8.displayName="SidebarMenuSub";const m8=m.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));m8.displayName="SidebarMenuSubItem";const p8=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},i)=>{const o=e?vr:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:G("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});p8.displayName="SidebarMenuSubButton";function g8({userRole:e,activeTab:t,onTabChange:r}){const{open:n}=cu(),[s,i]=m.useState([]),o=u=>{i(f=>f.includes(u)?f.filter(p=>p!==u):[...f,u])},c=(()=>{switch(e){case"admin":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],products:{label:"Products",icon:kn,color:"nav-products",items:[{value:"products-analytics",label:"Analytics",icon:Xx},{value:"products-internal",label:"Internal Products",icon:Kd},{value:"products-woocommerce-sync",label:"WooCommerce Sync",icon:ty},{value:"products-woocommerce-list",label:"WooCommerce Products",icon:kn}]},programs:{label:"Classes and Camps",icon:It,color:"nav-classes",items:[{value:"programs-calendar",label:"Calendar View",icon:ze}]},schedules:{label:"Schedules",icon:ze,color:"nav-schedules",items:[{value:"schedules-calendar",label:"Calendar View",icon:ze},{value:"schedules-bulk",label:"Bulk Schedule Upload",icon:lr},{value:"schedules-recurring",label:"Recurring Schedules",icon:dd}]},content:{label:"Content & Media",icon:Lr,color:"nav-content",items:[{value:"media-single",label:"Class Media Upload",icon:Lr},{value:"media-bulk",label:"Bulk Media Upload",icon:lr},{value:"materials-single",label:"Delivery Materials",icon:Ir},{value:"materials-bulk",label:"Bulk Materials Upload",icon:lr},{value:"content-approvals",label:"Content Approvals",icon:Mr}]},users:{label:"Users & Communication",icon:bt,color:"nav-users",items:[{value:"users-invites",label:"User Invites",icon:Xh},{value:"users-admin",label:"Admin Management",icon:Gd},{value:"users-families",label:"Family Management",icon:bt},{value:"users-bulk-enrollment",label:"Bulk Enrollment",icon:lr},{value:"users-announcements",label:"Announcements",icon:Vr},{value:"users-mobile-notifications",label:"Mobile Notifications",icon:Jf}]}};case"instructor":case"teacher":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns},{value:"schedule",label:"Schedule",icon:ze,color:"nav-instructor-schedule"},{value:"updates",label:"Class Updates",icon:Vr,color:"nav-instructor-updates"},{value:"materials",label:"Instructor Resources",icon:Ir,color:"nav-instructor-materials"}]};case"parent":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],family:{label:"Family",icon:bt,items:[{value:"programs-calendar",label:"Programs",icon:ze},{value:"progress",label:"Children Progress",icon:ud},{value:"class-updates",label:"Class Updates",icon:Vr},{value:"schedule",label:"Schedule",icon:ze}]}};case"student":return{account:[{value:"profile",label:"Profile",icon:rs}],main:[{value:"dashboard",label:"Overview",icon:ns}],learning:{label:"Learning",icon:It,items:[{value:"progress",label:"My Progress",icon:ud},{value:"assignments",label:"Assignments",icon:VN},{value:"schedule",label:"Schedule",icon:ze}]}};default:return{main:[{value:"dashboard",label:"Dashboard",icon:ns},{value:"profile",label:"Profile",icon:rs}]}}})(),d=()=>Object.entries(c).map(([u,f],p)=>{const y=u==="main"&&p>0;if(Array.isArray(f))return a.jsxs("div",{className:"space-y-1",children:[y&&a.jsx(kk,{className:"mt-4",children:"Navigation"}),f.map(x=>a.jsxs(K.Fragment,{children:[x.value==="materials"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{"aria-hidden":!0,className:"h-[1em]"}),a.jsx(Nk,{}),a.jsx("div",{"aria-hidden":!0,className:"h-[1em]"})]}),a.jsx(jf,{children:a.jsxs(Av,{onClick:()=>r(x.value),isActive:t===x.value,tooltip:x.label,className:x.color?t===x.value?"opacity-100":"opacity-50 hover:opacity-75":"",style:x.color?{backgroundColor:`hsl(var(--${x.color}))`,color:`hsl(var(--${x.color}-foreground))`}:void 0,children:[a.jsx(x.icon,{className:"h-4 w-4"}),n&&a.jsx("span",{children:x.label})]})})]},x.value))]},u);{const x=f,b=x.items.some(v=>v.value===t),w=b;return a.jsxs(Qy,{open:s.includes(u)||b,onOpenChange:()=>o(u),children:[a.jsx(Zy,{asChild:!0,children:a.jsx(jf,{children:a.jsxs(W,{variant:"ghost",className:`w-full justify-between px-3 py-2 h-auto transition-opacity ${w?"opacity-100":"opacity-50 hover:opacity-75"}`,style:x.color?{backgroundColor:`hsl(var(--${x.color}))`,color:`hsl(var(--${x.color}-foreground))`}:void 0,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(x.icon,{className:"h-4 w-4"}),n&&a.jsx("span",{className:"text-sm font-medium",children:x.label})]}),n&&a.jsx(Yd,{className:`h-4 w-4 transition-transform ${s.includes(u)||b?"rotate-180":""}`})]})})}),a.jsx(Xy,{className:"space-y-1 pl-4",children:x.items.map(v=>a.jsx(jf,{children:a.jsxs(Av,{onClick:()=>r(v.value),isActive:t===v.value,tooltip:v.label,className:t===v.value?"opacity-100":"opacity-50 hover:opacity-75",children:[a.jsx(v.icon,{className:"h-4 w-4"}),n&&a.jsx("span",{className:"text-sm",children:v.label})]})},v.value))})]},u)}});return a.jsx(jk,{collapsible:"icon",children:a.jsx(Sk,{children:a.jsx(Ck,{children:a.jsx(Ek,{children:a.jsx(Tk,{children:d()})})})})})}var Jy="Avatar",[v8,KH]=tn(Jy),[x8,Pk]=v8(Jy),Mk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(x8,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(_e.span,{...n,ref:t})})});Mk.displayName=Jy;var Dk="AvatarImage",Rk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=Pk(Dk,r),l=y8(n,i.referrerPolicy),c=rr(d=>{s(d),o.onImageLoadingStatusChange(d)});return qt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(_e.img,{...i,ref:t,src:n}):null});Rk.displayName=Dk;var Ok="AvatarFallback",Ak=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=Pk(Ok,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(_e.span,{...s,ref:t}):null});Ak.displayName=Ok;function y8(e,t){const[r,n]=m.useState("idle");return qt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Ik=Mk,Lk=Rk,Fk=Ak;const jm=m.forwardRef(({className:e,...t},r)=>a.jsx(Ik,{ref:r,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));jm.displayName=Ik.displayName;const Nm=m.forwardRef(({className:e,...t},r)=>a.jsx(Lk,{ref:r,className:G("aspect-square h-full w-full",e),...t}));Nm.displayName=Lk.displayName;const Sm=m.forwardRef(({className:e,...t},r)=>a.jsx(Fk,{ref:r,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sm.displayName=Fk.displayName;var w8=m.createContext(void 0);function Cm(e){const t=m.useContext(w8);return e||t||"ltr"}function b8(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:p,children:y,...x}=f,b=(p==null?void 0:p[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(b.Provider,{value:w,children:y})}function u(f,p){const y=(p==null?void 0:p[e][c])||l,x=m.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,_8(s,...t)]}function _8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var zp="rovingFocusGroup.onEntryFocus",j8={bubbles:!1,cancelable:!0},km="RovingFocusGroup",[Iv,$k,N8]=Kh(km),[S8,Em]=b8(km,[N8]),[C8,k8]=S8(km),Uk=m.forwardRef((e,t)=>a.jsx(Iv.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Iv.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(E8,{...e,ref:t})})}));Uk.displayName=km;var E8=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=m.useRef(null),y=We(t,p),x=Cm(i),[b=null,w]=pn({prop:o,defaultProp:l,onChange:c}),[v,h]=m.useState(!1),g=rr(d),_=$k(r),j=m.useRef(!1),[k,N]=m.useState(0);return m.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(zp,g),()=>E.removeEventListener(zp,g)},[g]),a.jsx(C8,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:b,onItemFocus:m.useCallback(E=>w(E),[w]),onItemShiftTab:m.useCallback(()=>h(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:a.jsx(_e.div,{tabIndex:v||k===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{j.current=!0}),onFocus:se(e.onFocus,E=>{const R=!j.current;if(E.target===E.currentTarget&&R&&!v){const T=new CustomEvent(zp,j8);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const L=_().filter(B=>B.focusable),D=L.find(B=>B.active),C=L.find(B=>B.id===b),$=[D,C,...L].filter(Boolean).map(B=>B.ref.current);Vk($,u)}}j.current=!1}),onBlur:se(e.onBlur,()=>h(!1))})})}),zk="RovingFocusGroupItem",Bk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Kr(),c=i||l,d=k8(zk,r),u=d.currentTabStopId===c,f=$k(r),{onFocusableItemAdd:p,onFocusableItemRemove:y}=d;return m.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),a.jsx(Iv.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(_e.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:se(e.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:se(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=M8(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=f().filter(h=>h.focusable).map(h=>h.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const h=v.indexOf(x.currentTarget);v=d.loop?D8(v,h+1):v.slice(h+1)}setTimeout(()=>Vk(v))}})})})});Bk.displayName=zk;var T8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M8(e,t,r){const n=P8(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return T8[n]}function Vk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function D8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Wk=Uk,qk=Bk,Lv=["Enter"," "],R8=["ArrowDown","PageUp","Home"],Hk=["ArrowUp","PageDown","End"],O8=[...R8,...Hk],A8={ltr:[...Lv,"ArrowRight"],rtl:[...Lv,"ArrowLeft"]},I8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},du="Menu",[yd,L8,F8]=Kh(du),[lo,Yk]=tn(du,[F8,ri,Em]),Tm=ri(),Kk=Em(),[$8,co]=lo(du),[U8,uu]=lo(du),Gk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Tm(t),[c,d]=m.useState(null),u=m.useRef(!1),f=rr(i),p=Cm(s);return m.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(rm,{...l,children:a.jsx($8,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:a.jsx(U8,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:p,modal:o,children:n})})})};Gk.displayName=du;var z8="MenuAnchor",e0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Tm(r);return a.jsx(Zd,{...s,...n,ref:t})});e0.displayName=z8;var t0="MenuPortal",[B8,Qk]=lo(t0,{forceMount:void 0}),Zk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=co(t0,t);return a.jsx(B8,{scope:t,forceMount:r,children:a.jsx(_r,{present:r||i.open,children:a.jsx($l,{asChild:!0,container:s,children:n})})})};Zk.displayName=t0;var un="MenuContent",[V8,r0]=lo(un),Xk=m.forwardRef((e,t)=>{const r=Qk(un,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=co(un,e.__scopeMenu),o=uu(un,e.__scopeMenu);return a.jsx(yd.Provider,{scope:e.__scopeMenu,children:a.jsx(_r,{present:n||i.open,children:a.jsx(yd.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(W8,{...s,ref:t}):a.jsx(q8,{...s,ref:t})})})})}),W8=m.forwardRef((e,t)=>{const r=co(un,e.__scopeMenu),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return wm(i)},[]),a.jsx(n0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),q8=m.forwardRef((e,t)=>{const r=co(un,e.__scopeMenu);return a.jsx(n0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),n0=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:x,...b}=e,w=co(un,r),v=uu(un,r),h=Tm(r),g=Kk(r),_=L8(r),[j,k]=m.useState(null),N=m.useRef(null),E=We(t,N,w.onContentChange),R=m.useRef(0),T=m.useRef(""),L=m.useRef(0),D=m.useRef(null),C=m.useRef("right"),M=m.useRef(0),$=x?su:m.Fragment,B=x?{as:vr,allowPinchZoom:!0}:void 0,U=O=>{var F,Y;const H=T.current+O,V=_().filter(X=>!X.disabled),ee=document.activeElement,je=(F=V.find(X=>X.ref.current===ee))==null?void 0:F.textValue,Z=V.map(X=>X.textValue),Ne=nz(Z,H,je),ue=(Y=V.find(X=>X.textValue===Ne))==null?void 0:Y.ref.current;(function X(le){T.current=le,window.clearTimeout(R.current),le!==""&&(R.current=window.setTimeout(()=>X(""),1e3))})(H),ue&&setTimeout(()=>ue.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),xm();const S=m.useCallback(O=>{var V,ee;return C.current===((V=D.current)==null?void 0:V.side)&&az(O,(ee=D.current)==null?void 0:ee.area)},[]);return a.jsx(V8,{scope:r,searchRef:T,onItemEnter:m.useCallback(O=>{S(O)&&O.preventDefault()},[S]),onItemLeave:m.useCallback(O=>{var H;S(O)||((H=N.current)==null||H.focus(),k(null))},[S]),onTriggerLeave:m.useCallback(O=>{S(O)&&O.preventDefault()},[S]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(O=>{D.current=O},[]),children:a.jsx($,{...B,children:a.jsx(nu,{asChild:!0,trapped:s,onMountAutoFocus:se(i,O=>{var H;O.preventDefault(),(H=N.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(to,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:a.jsx(Wk,{asChild:!0,...g,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:se(c,O=>{v.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(nm,{role:"menu","aria-orientation":"vertical","data-state":m2(w.open),"data-radix-menu-content":"",dir:v.dir,...h,...b,ref:E,style:{outline:"none",...b.style},onKeyDown:se(b.onKeyDown,O=>{const V=O.target.closest("[data-radix-menu-content]")===O.currentTarget,ee=O.ctrlKey||O.altKey||O.metaKey,je=O.key.length===1;V&&(O.key==="Tab"&&O.preventDefault(),!ee&&je&&U(O.key));const Z=N.current;if(O.target!==Z||!O8.includes(O.key))return;O.preventDefault();const ue=_().filter(F=>!F.disabled).map(F=>F.ref.current);Hk.includes(O.key)&&ue.reverse(),tz(ue)}),onBlur:se(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(R.current),T.current="")}),onPointerMove:se(e.onPointerMove,wd(O=>{const H=O.target,V=M.current!==O.clientX;if(O.currentTarget.contains(H)&&V){const ee=O.clientX>M.current?"right":"left";C.current=ee,M.current=O.clientX}}))})})})})})})});Xk.displayName=un;var H8="MenuGroup",s0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(_e.div,{role:"group",...n,ref:t})});s0.displayName=H8;var Y8="MenuLabel",Jk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(_e.div,{...n,ref:t})});Jk.displayName=Y8;var mh="MenuItem",c_="menu.itemSelect",Pm=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=uu(mh,e.__scopeMenu),l=r0(mh,e.__scopeMenu),c=We(t,i),d=m.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const p=new CustomEvent(c_,{bubbles:!0,cancelable:!0});f.addEventListener(c_,y=>n==null?void 0:n(y),{once:!0}),Kx(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(e2,{...s,ref:c,disabled:r,onClick:se(e.onClick,u),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),d.current=!0},onPointerUp:se(e.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:se(e.onKeyDown,f=>{const p=l.searchRef.current!=="";r||p&&f.key===" "||Lv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pm.displayName=mh;var e2=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=r0(mh,r),l=Kk(r),c=m.useRef(null),d=We(t,c),[u,f]=m.useState(!1),[p,y]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&y((x.textContent??"").trim())},[i.children]),a.jsx(yd.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:a.jsx(qk,{asChild:!0,...l,focusable:!n,children:a.jsx(_e.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:se(e.onPointerMove,wd(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,wd(x=>o.onItemLeave(x))),onFocus:se(e.onFocus,()=>f(!0)),onBlur:se(e.onBlur,()=>f(!1))})})})}),K8="MenuCheckboxItem",t2=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(i2,{scope:e.__scopeMenu,checked:r,children:a.jsx(Pm,{role:"menuitemcheckbox","aria-checked":ph(r)?"mixed":r,...s,ref:t,"data-state":i0(r),onSelect:se(s.onSelect,()=>n==null?void 0:n(ph(r)?!0:!r),{checkForDefaultPrevented:!1})})})});t2.displayName=K8;var r2="MenuRadioGroup",[G8,Q8]=lo(r2,{value:void 0,onValueChange:()=>{}}),n2=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=rr(n);return a.jsx(G8,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(s0,{...s,ref:t})})});n2.displayName=r2;var s2="MenuRadioItem",a2=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=Q8(s2,e.__scopeMenu),i=r===s.value;return a.jsx(i2,{scope:e.__scopeMenu,checked:i,children:a.jsx(Pm,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":i0(i),onSelect:se(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});a2.displayName=s2;var a0="MenuItemIndicator",[i2,Z8]=lo(a0,{checked:!1}),o2=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Z8(a0,r);return a.jsx(_r,{present:n||ph(i.checked)||i.checked===!0,children:a.jsx(_e.span,{...s,ref:t,"data-state":i0(i.checked)})})});o2.displayName=a0;var X8="MenuSeparator",l2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});l2.displayName=X8;var J8="MenuArrow",c2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Tm(r);return a.jsx(sm,{...s,...n,ref:t})});c2.displayName=J8;var ez="MenuSub",[GH,d2]=lo(ez),Nc="MenuSubTrigger",u2=m.forwardRef((e,t)=>{const r=co(Nc,e.__scopeMenu),n=uu(Nc,e.__scopeMenu),s=d2(Nc,e.__scopeMenu),i=r0(Nc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(e0,{asChild:!0,...d,children:a.jsx(e2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":m2(r.open),...e,ref:Yh(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,wd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:se(e.onPointerLeave,wd(f=>{var y,x;u();const p=(y=r.content)==null?void 0:y.getBoundingClientRect();if(p){const b=(x=r.content)==null?void 0:x.dataset.side,w=b==="right",v=w?-5:5,h=p[w?"left":"right"],g=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:h,y:p.top},{x:g,y:p.top},{x:g,y:p.bottom},{x:h,y:p.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,f=>{var y;const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||A8[n.dir].includes(f.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),f.preventDefault())})})})});u2.displayName=Nc;var f2="MenuSubContent",h2=m.forwardRef((e,t)=>{const r=Qk(un,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=co(un,e.__scopeMenu),o=uu(un,e.__scopeMenu),l=d2(f2,e.__scopeMenu),c=m.useRef(null),d=We(t,c);return a.jsx(yd.Provider,{scope:e.__scopeMenu,children:a.jsx(_r,{present:n||i.open,children:a.jsx(yd.Slot,{scope:e.__scopeMenu,children:a.jsx(n0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:se(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:se(e.onKeyDown,u=>{var y;const f=u.currentTarget.contains(u.target),p=I8[o.dir].includes(u.key);f&&p&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),u.preventDefault())})})})})})});h2.displayName=f2;function m2(e){return e?"open":"closed"}function ph(e){return e==="indeterminate"}function i0(e){return ph(e)?"indeterminate":e?"checked":"unchecked"}function tz(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function rz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function nz(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=rz(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function sz(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function az(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return sz(r,t)}function wd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var iz=Gk,oz=e0,lz=Zk,cz=Xk,dz=s0,uz=Jk,fz=Pm,hz=t2,mz=n2,pz=a2,gz=o2,vz=l2,xz=c2,yz=u2,wz=h2,o0="DropdownMenu",[bz,QH]=tn(o0,[Yk]),jr=Yk(),[_z,p2]=bz(o0),g2=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=jr(t),d=m.useRef(null),[u=!1,f]=pn({prop:s,defaultProp:i,onChange:o});return a.jsx(_z,{scope:t,triggerId:Kr(),triggerRef:d,contentId:Kr(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:a.jsx(iz,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};g2.displayName=o0;var v2="DropdownMenuTrigger",x2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=p2(v2,r),o=jr(r);return a.jsx(oz,{asChild:!0,...o,children:a.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Yh(t,i.triggerRef),onPointerDown:se(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});x2.displayName=v2;var jz="DropdownMenuPortal",y2=e=>{const{__scopeDropdownMenu:t,...r}=e,n=jr(t);return a.jsx(lz,{...n,...r})};y2.displayName=jz;var w2="DropdownMenuContent",b2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=p2(w2,r),i=jr(r),o=m.useRef(!1);return a.jsx(cz,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b2.displayName=w2;var Nz="DropdownMenuGroup",Sz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(dz,{...s,...n,ref:t})});Sz.displayName=Nz;var Cz="DropdownMenuLabel",_2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(uz,{...s,...n,ref:t})});_2.displayName=Cz;var kz="DropdownMenuItem",j2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(fz,{...s,...n,ref:t})});j2.displayName=kz;var Ez="DropdownMenuCheckboxItem",N2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(hz,{...s,...n,ref:t})});N2.displayName=Ez;var Tz="DropdownMenuRadioGroup",Pz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(mz,{...s,...n,ref:t})});Pz.displayName=Tz;var Mz="DropdownMenuRadioItem",S2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(pz,{...s,...n,ref:t})});S2.displayName=Mz;var Dz="DropdownMenuItemIndicator",C2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(gz,{...s,...n,ref:t})});C2.displayName=Dz;var Rz="DropdownMenuSeparator",k2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(vz,{...s,...n,ref:t})});k2.displayName=Rz;var Oz="DropdownMenuArrow",Az=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(xz,{...s,...n,ref:t})});Az.displayName=Oz;var Iz="DropdownMenuSubTrigger",E2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(yz,{...s,...n,ref:t})});E2.displayName=Iz;var Lz="DropdownMenuSubContent",T2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=jr(r);return a.jsx(wz,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T2.displayName=Lz;var Fz=g2,$z=x2,Uz=y2,P2=b2,M2=_2,D2=j2,R2=N2,O2=S2,A2=C2,I2=k2,L2=E2,F2=T2;const $2=Fz,U2=$z,zz=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(L2,{ref:s,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(za,{className:"ml-auto h-4 w-4"})]}));zz.displayName=L2.displayName;const Bz=m.forwardRef(({className:e,...t},r)=>a.jsx(F2,{ref:r,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Bz.displayName=F2.displayName;const l0=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Uz,{children:a.jsx(P2,{ref:n,sideOffset:t,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));l0.displayName=P2.displayName;const Oi=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(D2,{ref:n,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Oi.displayName=D2.displayName;const Vz=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(R2,{ref:s,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(A2,{children:a.jsx(Zh,{className:"h-4 w-4"})})}),t]}));Vz.displayName=R2.displayName;const Wz=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(O2,{ref:n,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(A2,{children:a.jsx(aR,{className:"h-2 w-2 fill-current"})})}),t]}));Wz.displayName=O2.displayName;const qz=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(M2,{ref:n,className:G("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));qz.displayName=M2.displayName;const Fv=m.forwardRef(({className:e,...t},r)=>a.jsx(I2,{ref:r,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));Fv.displayName=I2.displayName;const gs=By,bd=Vy,Hz=Wy,z2=m.forwardRef(({className:e,...t},r)=>a.jsx(au,{ref:r,className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));z2.displayName=au.displayName;const In=m.forwardRef(({className:e,children:t,hideCloseButton:r=!1,...n},s)=>a.jsxs(Hz,{children:[a.jsx(z2,{}),a.jsxs(iu,{ref:s,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,!r&&a.jsxs(bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));In.displayName=iu.displayName;const Ln=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ln.displayName="DialogHeader";const Mm=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mm.displayName="DialogFooter";const Fn=m.forwardRef(({className:e,...t},r)=>a.jsx(ou,{ref:r,className:G("text-lg font-semibold leading-none tracking-tight",e),...t}));Fn.displayName=ou.displayName;const Ka=m.forwardRef(({className:e,...t},r)=>a.jsx(lu,{ref:r,className:G("text-sm text-muted-foreground",e),...t}));Ka.displayName=lu.displayName;var B2="AlertDialog",[Yz,ZH]=tn(B2,[ZC]),Zs=ZC(),V2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zs(t);return a.jsx(By,{...n,...r,modal:!0})};V2.displayName=B2;var Kz="AlertDialogTrigger",Gz=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zs(r);return a.jsx(Vy,{...s,...n,ref:t})});Gz.displayName=Kz;var Qz="AlertDialogPortal",W2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zs(t);return a.jsx(Wy,{...n,...r})};W2.displayName=Qz;var Zz="AlertDialogOverlay",q2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zs(r);return a.jsx(au,{...s,...n,ref:t})});q2.displayName=Zz;var Jo="AlertDialogContent",[Xz,Jz]=Yz(Jo),H2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Zs(r),o=m.useRef(null),l=We(t,o),c=m.useRef(null);return a.jsx(OU,{contentName:Jo,titleName:Y2,docsSlug:"alert-dialog",children:a.jsx(Xz,{scope:r,cancelRef:c,children:a.jsxs(iu,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:se(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(Yx,{children:n}),a.jsx(tB,{contentRef:o})]})})})});H2.displayName=Jo;var Y2="AlertDialogTitle",K2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zs(r);return a.jsx(ou,{...s,...n,ref:t})});K2.displayName=Y2;var G2="AlertDialogDescription",Q2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zs(r);return a.jsx(lu,{...s,...n,ref:t})});Q2.displayName=G2;var eB="AlertDialogAction",Z2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Zs(r);return a.jsx(bm,{...s,...n,ref:t})});Z2.displayName=eB;var X2="AlertDialogCancel",J2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Jz(X2,r),i=Zs(r),o=We(t,s);return a.jsx(bm,{...i,...n,ref:o})});J2.displayName=X2;var tB=({contentRef:e})=>{const t=`\`${Jo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jo}\` by passing a \`${G2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},rB=V2,nB=W2,eE=q2,tE=H2,rE=Z2,nE=J2,sE=K2,aE=Q2;const _d=rB,sB=nB,iE=m.forwardRef(({className:e,...t},r)=>a.jsx(eE,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iE.displayName=eE.displayName;const Sl=m.forwardRef(({className:e,...t},r)=>a.jsxs(sB,{children:[a.jsx(iE,{}),a.jsx(tE,{ref:r,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sl.displayName=tE.displayName;const Cl=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",e),...t});Cl.displayName="AlertDialogHeader";const kl=({className:e,...t})=>a.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kl.displayName="AlertDialogFooter";const El=m.forwardRef(({className:e,...t},r)=>a.jsx(sE,{ref:r,className:G("text-lg font-semibold",e),...t}));El.displayName=sE.displayName;const Tl=m.forwardRef(({className:e,...t},r)=>a.jsx(aE,{ref:r,className:G("text-sm text-muted-foreground",e),...t}));Tl.displayName=aE.displayName;const Pl=m.forwardRef(({className:e,...t},r)=>a.jsx(rE,{ref:r,className:G(xd(),e),...t}));Pl.displayName=rE.displayName;const Ml=m.forwardRef(({className:e,...t},r)=>a.jsx(nE,{ref:r,className:G(xd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ml.displayName=nE.displayName;var aB="Label",oE=m.forwardRef((e,t)=>a.jsx(_e.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oE.displayName=aB;var lE=oE;const iB=ro("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=m.forwardRef(({className:e,...t},r)=>a.jsx(lE,{ref:r,className:G(iB(),e),...t}));Q.displayName=lE.displayName;const oB=({open:e,onOpenChange:t,user:r})=>{var w,v,h;const{toast:n}=Qe(),s=si(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(((w=r.user_metadata)==null?void 0:w.full_name)||""),[f,p]=m.useState(((v=r.user_metadata)==null?void 0:v.avatar_url)||""),y=async()=>{o(!0);try{const{error:g}=await P.auth.updateUser({data:{full_name:d,avatar_url:f}});g?n({title:"Update Failed",description:g.message,variant:"destructive"}):(await P.from("profiles").upsert({id:r.id,full_name:d,avatar_url:f,email:r.email}),n({title:"Profile Updated",description:"Your profile has been successfully updated."}),t(!1))}catch{n({title:"Update Failed",description:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}},x=async g=>{var j;const _=(j=g.target.files)==null?void 0:j[0];if(_){o(!0);try{const k=_.name.split(".").pop(),E=`avatars/${`${r.id}.${k}`}`,{error:R}=await P.storage.from("class-media").upload(E,_,{upsert:!0});if(R)throw R;const{data:T}=P.storage.from("class-media").getPublicUrl(E);p(T.publicUrl),n({title:"Avatar Uploaded",description:"Your avatar has been uploaded successfully."})}catch{n({title:"Upload Failed",description:"Failed to upload avatar image.",variant:"destructive"})}finally{o(!1)}}},b=async()=>{o(!0);try{const{data:{session:g}}=await P.auth.getSession();if(!g)throw new Error("No active session");const _=await fetch("https://ergdgxmtxikhhoeznhvp.supabase.co/functions/v1/delete-account",{method:"POST",headers:{Authorization:`Bearer ${g.access_token}`,"Content-Type":"application/json"}}),j=await _.json();if(!_.ok)throw new Error(j.error||"Failed to delete account");n({title:"Account Deleted",description:"Your account has been successfully deleted."}),await P.auth.signOut(),s("/login")}catch(g){n({title:"Delete Failed",description:g instanceof Error?g.message:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1),c(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(_d,{open:l,onOpenChange:c,children:a.jsxs(Sl,{children:[a.jsxs(Cl,{children:[a.jsx(El,{children:"Are you absolutely sure?"}),a.jsx(Tl,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),a.jsxs(kl,{children:[a.jsx(Ml,{children:"Cancel"}),a.jsx(Pl,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Account"})]})]})}),a.jsx(gs,{open:e,onOpenChange:t,children:a.jsxs(In,{className:"sm:max-w-md",children:[a.jsxs(Ln,{children:[a.jsx(Fn,{children:"Profile Settings"}),a.jsx(Ka,{children:"Update your profile information and avatar."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs(jm,{className:"h-20 w-20",children:[a.jsx(Nm,{src:f,alt:"Profile"}),a.jsx(Sm,{className:"bg-primary text-primary-foreground text-lg",children:d.charAt(0).toUpperCase()||((h=r.email)==null?void 0:h.charAt(0).toUpperCase())})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:i}),a.jsxs(W,{variant:"outline",size:"sm",disabled:i,children:[a.jsx(BN,{className:"h-4 w-4 mr-2"}),"Change Avatar"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"fullName",children:"Full Name"}),a.jsx(ce,{id:"fullName",value:d,onChange:g=>u(g.target.value),placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ce,{id:"email",value:r.email||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"avatarUrl",children:"Avatar URL (optional)"}),a.jsx(ce,{id:"avatarUrl",value:f,onChange:g=>p(g.target.value),placeholder:"https://example.com/avatar.jpg"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(W,{variant:"destructive",onClick:()=>c(!0),disabled:i,children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Delete Account"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(W,{onClick:y,disabled:i,children:[a.jsx(ry,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})]})]})})]})},lB=({userRole:e,actualUserRole:t,availableRoles:r,onRoleChange:n})=>{var w,v,h;const s=si(),{toast:i}=Qe(),[o,l]=m.useState(null),[c,d]=m.useState(!0),[u,f]=m.useState(!1);m.useEffect(()=>{P.auth.getSession().then(({data:{session:_}})=>{l((_==null?void 0:_.user)??null),d(!1)});const{data:{subscription:g}}=P.auth.onAuthStateChange((_,j)=>{l((j==null?void 0:j.user)??null),d(!1)});return()=>g.unsubscribe()},[]);const p=async()=>{try{const{error:g}=await P.auth.signOut();g?i({title:"Logout Failed",description:g.message,variant:"destructive"}):(i({title:"Logged Out",description:"You have been successfully logged out."}),s("/login"))}catch{i({title:"Logout Failed",description:"An unexpected error occurred.",variant:"destructive"})}};if(c)return a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full animate-pulse"});if(!o)return a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>s("/login"),children:[a.jsx(dR,{className:"mr-2 h-4 w-4"}),"Login"]});const y={admin:{name:"Administrator",icon:Gd,color:"bg-red-500"},instructor:{name:"Instructor",icon:It,color:"bg-green-500"},teacher:{name:"Teacher",icon:ey,color:"bg-blue-500"},parent:{name:"Parent",icon:qN,color:"bg-pink-500"},student:{name:"Student",icon:bt,color:"bg-purple-500"}},x=y[e],b=((w=o.user_metadata)==null?void 0:w.full_name)||((v=o.email)==null?void 0:v.split("@")[0])||"User";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs($2,{children:[a.jsx(U2,{asChild:!0,children:a.jsx(W,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:a.jsxs(jm,{className:"h-10 w-10",children:[a.jsx(Nm,{src:(h=o.user_metadata)==null?void 0:h.avatar_url,alt:b}),a.jsx(Sm,{className:`${x.color} text-primary-foreground`,children:b.charAt(0).toUpperCase()})]})})}),a.jsxs(l0,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:a.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[a.jsx("p",{className:"font-medium",children:b}),a.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:o.email}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(x.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"capitalize",children:x.name}),t!==e&&a.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1 rounded",children:"(Acting as)"})]})]})}),a.jsx(Fv,{}),r.length>1&&a.jsxs(a.Fragment,{children:[r.map(g=>{const _=y[g].icon;return a.jsxs(Oi,{onClick:()=>n(g),className:e===g?"bg-muted":"",children:[a.jsx(_,{className:"mr-2 h-4 w-4"}),a.jsxs("span",{children:["Switch to ",y[g].name]})]},g)}),a.jsx(Fv,{})]}),a.jsxs(Oi,{onClick:()=>f(!0),children:[a.jsx(vR,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs(Oi,{onClick:p,children:[a.jsx(uR,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})}),a.jsx(oB,{open:u,onOpenChange:f,user:o})]})};function cB(){const{theme:e,setTheme:t}=rS(),r=()=>{const s=e||"light";t(s==="light"?"air":s==="air"?"dark":"light")},n=e||"light";return a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(W,{variant:"nav",size:"icon",className:"h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 relative overflow-hidden border border-input transition-none",onClick:r,children:[n==="light"&&a.jsx(yR,{className:"h-[1.2rem] w-[1.2rem] transition-all duration-300 ease-in-out"}),n==="air"&&a.jsx(iR,{className:"h-[1.2rem] w-[1.2rem] transition-all duration-300 ease-in-out"}),n==="dark"&&a.jsx(mR,{className:"h-[1.2rem] w-[1.2rem] transition-all duration-300 ease-in-out"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})})}const dB="/assets/logo-DhjXp6Lp.png";function uB({userRole:e,actualUserRole:t,availableRoles:r,onRoleChange:n,isMobile:s}){return a.jsx("header",{className:"bg-header text-header-foreground border-b-4 border-header-border shadow-lg flex-shrink-0 w-full z-50 relative ios-safe-area-header",children:a.jsx("div",{className:"mx-auto px-3 sm:px-4 lg:px-8 relative z-10",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[a.jsx("img",{src:dB,alt:"AI & Robotics Academy Logo",className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-14 lg:w-14 object-contain flex-shrink-0 rounded-lg"}),a.jsx("h1",{className:"text-base sm:text-lg lg:text-2xl font-bold text-header-foreground truncate",children:"AI & Robotics Academy Connect"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(cB,{}),a.jsx(lB,{userRole:e,actualUserRole:t,availableRoles:r,onRoleChange:n})]})]})})})}const fB=({children:e,activeTab:t})=>{const r=oi(),s=(i=>i.startsWith("products-")?"nav-products":i.startsWith("classes-")||i.startsWith("camps-")||i.startsWith("programs-")?"nav-classes":i.startsWith("schedules-")?"nav-schedules":i.startsWith("media-")||i.startsWith("materials-")||i.startsWith("content-")?"nav-content":i.startsWith("users-")?"nav-users":i==="schedule"?"nav-instructor-schedule":i==="updates"?"nav-instructor-updates":i==="materials"?"nav-instructor-materials":null)(t);return r||!s?a.jsx(a.Fragment,{children:e}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-0 right-0 top-0 h-1 rounded-full",style:{backgroundColor:`hsl(var(--${s}))`}}),a.jsx("div",{className:"pt-3",children:e})]})},hB=()=>{const[e,t]=m.useState({totalUsers:0,activeClasses:0,totalProducts:0,monthlyRevenue:0,loading:!0,error:null}),r=async()=>{try{t(h=>({...h,loading:!0,error:null}));const{data:n,error:s}=await P.from("organization_members").select("user_id");if(s)throw s;const i=n?new Set(n.map(h=>h.user_id)).size:0,{count:o,error:l}=await P.from("classes").select("*",{count:"exact",head:!0});if(l)throw l;const{count:c,error:d}=await P.from("products").select("*",{count:"exact",head:!0});if(d)throw d;const{count:u,error:f}=await P.from("woocommerce_products").select("*",{count:"exact",head:!0});if(f)throw f;const p=(c||0)+(u||0),y=new Date;y.setDate(1),y.setHours(0,0,0,0);const x=new Date;x.setMonth(x.getMonth()+1),x.setDate(0),x.setHours(23,59,59,999);const{data:b,error:w}=await P.from("orders").select("amount").gte("created_at",y.toISOString()).lte("created_at",x.toISOString()).eq("status","completed");if(w)throw w;const v=(b==null?void 0:b.reduce((h,g)=>h+(g.amount||0),0))||0;t({totalUsers:i||0,activeClasses:o||0,totalProducts:p,monthlyRevenue:v,loading:!1,error:null})}catch(n){console.error("Error fetching admin metrics:",n),t(s=>({...s,loading:!1,error:n instanceof Error?n.message:"Failed to fetch metrics"}))}};return m.useEffect(()=>{r();const n=P.channel("organization_members_changes").on("postgres_changes",{event:"*",schema:"public",table:"organization_members"},r).subscribe(),s=P.channel("classes_changes").on("postgres_changes",{event:"*",schema:"public",table:"classes"},r).subscribe(),i=P.channel("orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},r).subscribe(),o=P.channel("products_changes").on("postgres_changes",{event:"*",schema:"public",table:"products"},r).subscribe();return()=>{P.removeChannel(n),P.removeChannel(s),P.removeChannel(i),P.removeChannel(o)}},[]),{...e,refetch:r}},mB=()=>{const{totalUsers:e,activeClasses:t,totalProducts:r,monthlyRevenue:n,loading:s,error:i}=hB(),o=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l/100);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[a.jsxs(ne,{className:"border-b-4",style:{borderBottomColor:"hsl(var(--nav-products))"},children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Products"}),a.jsx(Kd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s?a.jsx(os,{className:"h-6 w-6 animate-spin"}):r}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Classes & programs"})]})]}),a.jsxs(ne,{className:"border-b-4",style:{borderBottomColor:"hsl(var(--nav-classes))"},children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Active Classes"}),a.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s?a.jsx(os,{className:"h-6 w-6 animate-spin"}):t}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total classes available"})]})]}),a.jsxs(ne,{className:"border-b-4",style:{borderBottomColor:"hsl(var(--nav-users))"},children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s?a.jsx(os,{className:"h-6 w-6 animate-spin"}):e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active platform users"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-2 py-4 border-t border-border",children:[a.jsx(Gd,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-foreground",children:s?a.jsx(os,{className:"h-5 w-5 animate-spin inline"}):o(n)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"}),i&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:"Failed to load data"})]})]})]})},pB=()=>a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Admin Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gd,{className:"h-4 w-4 sm:h-6 sm:w-6 text-destructive"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Platform Stats"})]})]}),a.jsx(mB,{})]}),gB=()=>{const[e,t]=m.useState({myClasses:0,totalStudents:0,todaysSessions:0,loading:!0,error:null}),r=async()=>{try{t(y=>({...y,loading:!0,error:null}));const{data:{user:n}}=await P.auth.getUser();if(!n)throw new Error("User not authenticated");const{count:s,error:i}=await P.from("classes").select("*",{count:"exact",head:!0}).eq("instructor_id",n.id);if(i)throw i;const{data:o,error:l}=await P.from("classes").select("id").eq("instructor_id",n.id);if(l)throw l;let c=0;if(o&&o.length>0){const y=o.map(w=>w.id),{count:x,error:b}=await P.from("class_enrollments").select("*",{count:"exact",head:!0}).in("class_id",y);if(b)throw b;c=x||0}const d=new Date,u=new Date(d.getFullYear(),d.getMonth(),d.getDate()),f=new Date(d.getFullYear(),d.getMonth(),d.getDate()+1);let p=0;if(o&&o.length>0){const y=o.map(w=>w.id),{count:x,error:b}=await P.from("class_schedules").select("*",{count:"exact",head:!0}).in("class_id",y).gte("start_time",u.toISOString()).lt("start_time",f.toISOString());if(b)throw b;p=x||0}t({myClasses:s||0,totalStudents:c,todaysSessions:p,loading:!1,error:null})}catch(n){console.error("Error fetching instructor metrics:",n),t(s=>({...s,loading:!1,error:n instanceof Error?n.message:"Failed to fetch metrics"}))}};return m.useEffect(()=>{r();const n=P.channel("instructor_classes_changes").on("postgres_changes",{event:"*",schema:"public",table:"classes"},r).subscribe(),s=P.channel("instructor_enrollments_changes").on("postgres_changes",{event:"*",schema:"public",table:"class_enrollments"},r).subscribe(),i=P.channel("instructor_schedules_changes").on("postgres_changes",{event:"*",schema:"public",table:"class_schedules"},r).subscribe();return()=>{P.removeChannel(n),P.removeChannel(s),P.removeChannel(i)}},[]),{...e,refetch:r}},vB=()=>{const{myClasses:e,totalStudents:t,todaysSessions:r,loading:n,error:s}=gB();return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[a.jsxs(ne,{className:"border-t-4 border-t-nav-instructor-schedule",children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"My Classes"}),a.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?a.jsx(os,{className:"h-6 w-6 animate-spin"}):e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active classes"})]})]}),a.jsxs(ne,{className:"border-t-4 border-t-nav-instructor-updates",children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Today's Sessions"}),a.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?a.jsx(os,{className:"h-6 w-6 animate-spin"}):r}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled for today"}),s&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:"Failed to load data"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-2 py-4 border-t border-border",children:[a.jsx(bt,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Total Students"}),a.jsx("p",{className:"text-2xl font-bold text-foreground",children:n?a.jsx(os,{className:"h-5 w-5 animate-spin inline"}):t}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all classes"})]})]})]})},xB=()=>a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Instructor Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Teaching Stats"})]})]}),a.jsx(vB,{})]}),yB=()=>{const[e,t]=m.useState({childrenEnrolled:0,activeClasses:0,upcomingEvents:0}),[r,n]=m.useState(!0),{toast:s}=Qe(),i=async()=>{try{n(!0);const{data:{user:o},error:l}=await P.auth.getUser();if(l||!o){console.warn("User not authenticated for parent metrics"),t({childrenEnrolled:0,activeClasses:0,upcomingEvents:0});return}t({childrenEnrolled:0,activeClasses:0,upcomingEvents:0})}catch(o){console.error("Error fetching parent metrics:",o),s({title:"Error",description:"Failed to load dashboard metrics",variant:"destructive"}),t({childrenEnrolled:0,activeClasses:0,upcomingEvents:0})}finally{n(!1)}};return m.useEffect(()=>{i();const o=P.channel("parent-metrics-enrollments").on("postgres_changes",{event:"*",schema:"public",table:"class_enrollments"},()=>i()).subscribe(),l=P.channel("parent-metrics-schedules").on("postgres_changes",{event:"*",schema:"public",table:"class_schedules"},()=>i()).subscribe(),c=P.channel("parent-metrics-classes").on("postgres_changes",{event:"*",schema:"public",table:"classes"},()=>i()).subscribe(),d=P.channel("parent-metrics-members").on("postgres_changes",{event:"*",schema:"public",table:"organization_members"},()=>i()).subscribe();return()=>{P.removeChannel(o),P.removeChannel(l),P.removeChannel(c),P.removeChannel(d)}},[]),{metrics:e,loading:r,refetch:i}},wB=()=>{const{metrics:e,loading:t}=yB();return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Children Enrolled"}),a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t?"...":e.childrenEnrolled}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active students"})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Active Classes"}),a.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t?"...":e.activeClasses}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total enrollments"})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Upcoming Events"}),a.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t?"...":e.upcomingEvents}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This week"})]})]})]})},bB=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Parent Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qN,{className:"h-6 w-6 text-destructive"}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Parent"})]})]}),a.jsx(wB,{})]}),cE=()=>{const[e,t]=m.useState({enrolledClasses:0,achievements:0,nextClass:null,assignments:[]}),[r,n]=m.useState(!0),{toast:s}=Qe(),i=async()=>{try{n(!0);const{data:{user:o},error:l}=await P.auth.getUser();if(l||!o){console.warn("User not authenticated for student dashboard"),t({enrolledClasses:0,achievements:0,nextClass:null,assignments:[]});return}const{data:c}=await P.from("class_enrollments").select("class_id").eq("student_id",o.id),d=0,{data:u}=await P.from("class_schedules").select(`
          start_time,
          end_time,
          classes!inner(
            name
          )
        `).gte("start_time",new Date().toISOString()).order("start_time",{ascending:!0}).limit(1),f=[];let p=null;if(u&&u.length>0){const y=u[0],x=new Date(y.start_time);p={className:y.classes.name,time:x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:x.toLocaleDateString()}}t({enrolledClasses:(c==null?void 0:c.length)||0,achievements:d,nextClass:p,assignments:f})}catch(o){console.error("Error fetching student dashboard:",o),s({title:"Error",description:"Failed to load dashboard data",variant:"destructive"}),t({enrolledClasses:0,achievements:0,nextClass:null,assignments:[]})}finally{n(!1)}};return m.useEffect(()=>{i();const o=P.channel("student-dashboard-enrollments").on("postgres_changes",{event:"*",schema:"public",table:"class_enrollments"},()=>i()).subscribe(),l=P.channel("student-dashboard-schedules").on("postgres_changes",{event:"*",schema:"public",table:"class_schedules"},()=>i()).subscribe(),c=P.channel("student-dashboard-classes").on("postgres_changes",{event:"*",schema:"public",table:"classes"},()=>i()).subscribe();return()=>{P.removeChannel(o),P.removeChannel(l),P.removeChannel(c)}},[]),{data:e,loading:r,refetch:i}},_B=()=>{var r,n;const{data:e,loading:t}=cE();return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Enrolled Classes"}),a.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t?"...":e.enrolledClasses}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active enrollments"})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Achievements"}),a.jsx(bc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t?"...":e.achievements}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Earned badges"})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:"Next Class"}),a.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ie,{children:[a.jsx("div",{className:"text-sm font-medium",children:t?"...":((r=e.nextClass)==null?void 0:r.className)||"No upcoming classes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:((n=e.nextClass)==null?void 0:n.time)||"Stay tuned"})]})]})]})},jB=()=>a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Student Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Student"})]})]}),a.jsx(_B,{})]}),d_=({userRole:e})=>{switch(e){case"admin":return a.jsx(pB,{});case"instructor":case"teacher":return a.jsx(xB,{});case"parent":return a.jsx(bB,{});case"student":return a.jsx(jB,{});default:return a.jsx("div",{children:"Invalid user role"})}},NB=({onExit:e,onSave:t,onDelete:r,saveLabel:n="Save Changes",deleteLabel:s="Delete",exitLabel:i="Exit to Overview",loading:o=!1,saveDisabled:l=!1,deleteDisabled:c=!1})=>a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-6",children:[a.jsx("div",{children:r&&a.jsxs(W,{variant:"destructive",onClick:r,disabled:c||o,children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),s]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{variant:"outline",onClick:e,disabled:o,children:[a.jsx(tR,{className:"h-4 w-4 mr-2"}),i]}),t&&a.jsxs(W,{onClick:t,disabled:l||o,children:[a.jsx(ry,{className:"h-4 w-4 mr-2"}),o?"Saving...":n]})]})]}),SB=({user:e,userRole:t,onNavigateToOverview:r})=>{var h,g,_;const{toast:n}=Qe(),s=si(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(((h=e.user_metadata)==null?void 0:h.full_name)||""),[f,p]=m.useState(((g=e.user_metadata)==null?void 0:g.avatar_url)||""),y=()=>({admin:{color:"text-destructive",label:"Administrator"},instructor:{color:"text-green-600",label:"Instructor"},teacher:{color:"text-green-600",label:"Teacher"},parent:{color:"text-pink-600",label:"Parent"},student:{color:"text-blue-600",label:"Student"}})[t]||{color:"text-muted-foreground",label:"User"},x=async()=>{o(!0);try{const{error:j}=await P.auth.updateUser({data:{full_name:d,avatar_url:f}});if(j)throw j;await P.from("profiles").upsert({id:e.id,full_name:d,avatar_url:f,email:e.email}),n({title:"Profile Updated",description:"Your profile has been successfully updated."})}catch(j){n({title:"Update Failed",description:j instanceof Error?j.message:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}},b=async j=>{var N;const k=(N=j.target.files)==null?void 0:N[0];if(k){o(!0);try{const E=k.name.split(".").pop(),T=`avatars/${`${e.id}.${E}`}`,{error:L}=await P.storage.from("class-media").upload(T,k,{upsert:!0});if(L)throw L;const{data:D}=P.storage.from("class-media").getPublicUrl(T);p(D.publicUrl),n({title:"Avatar Uploaded",description:"Your avatar has been uploaded successfully."})}catch{n({title:"Upload Failed",description:"Failed to upload avatar image.",variant:"destructive"})}finally{o(!1)}}},w=async()=>{o(!0);try{const{data:{session:j}}=await P.auth.getSession();if(!j)throw new Error("No active session");const k=await fetch("https://ergdgxmtxikhhoeznhvp.supabase.co/functions/v1/delete-account",{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"}}),N=await k.json();if(!k.ok)throw new Error(N.error||"Failed to delete account");n({title:"Account Deleted",description:"Your account has been successfully deleted."}),await P.auth.signOut(),s("/login")}catch(j){n({title:"Delete Failed",description:j instanceof Error?j.message:"An unexpected error occurred.",variant:"destructive"})}finally{o(!1),c(!1)}},v=y();return a.jsxs(a.Fragment,{children:[a.jsx(_d,{open:l,onOpenChange:c,children:a.jsxs(Sl,{children:[a.jsxs(Cl,{children:[a.jsx(El,{children:"Are you absolutely sure?"}),a.jsx(Tl,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),a.jsxs(kl,{children:[a.jsx(Ml,{children:"Cancel"}),a.jsx(Pl,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Account"})]})]})}),a.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Profile Settings"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_R,{className:`h-6 w-6 ${v.color}`}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:v.label})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{children:"Personal Information"}),a.jsx(vt,{children:"Update your profile information and avatar."})]}),a.jsxs(ie,{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs(jm,{className:"h-24 w-24",children:[a.jsx(Nm,{src:f,alt:"Profile"}),a.jsx(Sm,{className:"bg-primary text-primary-foreground text-2xl",children:d.charAt(0).toUpperCase()||((_=e.email)==null?void 0:_.charAt(0).toUpperCase())})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:i}),a.jsxs(W,{variant:"outline",size:"sm",disabled:i,children:[a.jsx(BN,{className:"h-4 w-4 mr-2"}),"Change Avatar"]})]})]}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"fullName",children:"Full Name"}),a.jsx(ce,{id:"fullName",value:d,onChange:j=>u(j.target.value),placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ce,{id:"email",value:e.email||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"avatarUrl",children:"Avatar URL (optional)"}),a.jsx(ce,{id:"avatarUrl",value:f,onChange:j=>p(j.target.value),placeholder:"https://example.com/avatar.jpg"})]})]}),a.jsx(NB,{onExit:()=>r==null?void 0:r(),onSave:x,onDelete:()=>c(!0),loading:i,deleteLabel:"Delete Account"})]})]})]})]})},CB=({userRole:e})=>{const[t,r]=m.useState(new Date),[n,s]=m.useState(null);K.useEffect(()=>{P.auth.getSession().then(({data:{session:p}})=>{s(p==null?void 0:p.user)})},[]);const{data:i=[]}=Zt({queryKey:["calendar-schedules",t.getMonth(),t.getFullYear(),n==null?void 0:n.id],queryFn:async()=>{const p=Wt(t),y=Ya(t);let x=P.from("class_schedules").select(`
          id,
          start_time,
          end_time,
          classes (
            name,
            location,
            level,
            instructor_id
          )
        `).gte("start_time",p.toISOString()).lte("start_time",y.toISOString());if(e==="instructor"&&n){const{data:v}=await P.from("classes").select("id").eq("instructor_id",n.id);v&&v.length>0&&(x=x.in("class_id",v.map(h=>h.id)))}else if(e==="teacher"&&n){const{data:v}=await P.from("classes").select("id").eq("instructor_id",n.id);v&&v.length>0&&(x=x.in("class_id",v.map(h=>h.id)))}const{data:b,error:w}=await x;if(w)throw w;return b||[]},enabled:!!n}),o=Wt(t),l=Ya(t),c=Ht(o,{weekStartsOn:0}),d=oo(l,{weekStartsOn:0}),u=My({start:c,end:d}),f=p=>i.filter(y=>lt(new Date(y.start_time),p));return a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-5 w-5"}),"Schedule Calendar"]}),a.jsx(vt,{children:me(t,"MMMM yyyy")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(Ly(t,1)),children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(xr(t,1)),children:a.jsx(za,{className:"h-4 w-4"})})]})]})}),a.jsxs(ie,{children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(p=>a.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:p},p))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:u.map(p=>{const y=f(p),x=p.getMonth()===t.getMonth(),b=lt(p,new Date);return a.jsxs("div",{className:`min-h-[80px] p-2 border rounded-lg ${x?"bg-card":"bg-muted/30"} ${b?"ring-2 ring-secondary":""}`,children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${x?"text-gray-900":"text-gray-400"}`,children:me(p,"d")}),a.jsxs("div",{className:"space-y-1",children:[y.slice(0,2).map(w=>a.jsxs("div",{className:"text-xs p-1 rounded bg-blue-100 text-blue-800 truncate",title:`${w.classes.name} - ${me(new Date(w.start_time),"HH:mm")}`,children:[me(new Date(w.start_time),"HH:mm")," ",w.classes.name]},w.id)),y.length>2&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",y.length-2," more"]})]})]},p.toISOString())})})]})]})};function uo(){const e=oi(),[t,r]=m.useState(!1);return m.useEffect(()=>{(()=>{const d=!!window.Capacitor,u=window.matchMedia("(display-mode: standalone)").matches,f=/WebView|wv|WKWebView/.test(navigator.userAgent);r(d||u||f)})()},[]),{isMobile:e,isCapacitorApp:t,getMobileTabConfig:c=>e?{showScrollingTabs:c>4,maxVisibleTabs:e?4:c}:{showScrollingTabs:!1,maxVisibleTabs:c},getMobileGridConfig:c=>{if(!e)return`grid-cols-${c}`;switch(c){case 4:return"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4";case 3:return"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3";case 2:return"grid-cols-1 sm:grid-cols-2";default:return"grid-cols-1"}},getMobileSpacing:()=>e?"space-y-3 sm:space-y-6":"space-y-6",getMobileGap:()=>e?"gap-3 sm:gap-4 lg:gap-6":"gap-6",getMobileTextSize:c=>e&&{"text-3xl":"text-xl sm:text-2xl lg:text-3xl","text-2xl":"text-lg sm:text-xl lg:text-2xl","text-xl":"text-base sm:text-lg lg:text-xl","text-lg":"text-sm sm:text-base lg:text-lg"}[c]||c}}function u_(e,t,r){const n=AC(),s=TB(e,r.timeZone,r.locale??n.locale);return"formatToParts"in s?kB(s,t):EB(s,t)}function kB(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function EB(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function TB(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function PB(e,t){const r=AB(t);return"formatToParts"in r?DB(r,e):RB(r,e)}const MB={year:0,month:1,day:2,hour:3,minute:4,second:5};function DB(e,t){try{const r=e.formatToParts(t),n=[];for(let s=0;s<r.length;s++){const i=MB[r[s].type];i!==void 0&&(n[i]=parseInt(r[s].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function RB(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const Bp={},f_=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),OB=f_==="06/25/2014, 00:00:00"||f_==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function AB(e){return Bp[e]||(Bp[e]=OB?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Bp[e]}function dE(e,t,r,n,s,i,o){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,s,i,o),l}const h_=36e5,IB=6e4,Vp={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function c0(e,t,r){if(!e)return 0;let n=Vp.timezoneZ.exec(e);if(n)return 0;let s,i;if(n=Vp.timezoneHH.exec(e),n)return s=parseInt(n[1],10),m_(s)?-(s*h_):NaN;if(n=Vp.timezoneHHMM.exec(e),n){s=parseInt(n[2],10);const o=parseInt(n[3],10);return m_(s,o)?(i=Math.abs(s)*h_+o*IB,n[1]==="+"?-i:i):NaN}if($B(e)){t=new Date(t||Date.now());const o=r?t:LB(t),l=$v(o,e);return-(r?l:FB(t,l,e))}return NaN}function LB(e){return dE(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function $v(e,t){const r=PB(e,t),n=dE(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let s=e.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,n-s}function FB(e,t,r){let s=e.getTime()-t;const i=$v(new Date(s),r);if(t===i)return t;s-=i-t;const o=$v(new Date(s),r);return i===o?i:Math.max(i,o)}function m_(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const p_={};function $B(e){if(p_[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),p_[e]=!0,!0}catch{return!1}}const UB=60*1e3,zB={X:function(e,t,r){const n=Wp(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return g_(n);case"XXXX":case"XX":return ko(n);case"XXXXX":case"XXX":default:return ko(n,":")}},x:function(e,t,r){const n=Wp(r.timeZone,e);switch(t){case"x":return g_(n);case"xxxx":case"xx":return ko(n);case"xxxxx":case"xxx":default:return ko(n,":")}},O:function(e,t,r){const n=Wp(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+BB(n,":");case"OOOO":default:return"GMT"+ko(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return u_("short",e,r);case"zzzz":default:return u_("long",e,r)}}};function Wp(e,t){const r=e?c0(e,t,!0)/UB:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function gh(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function ko(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=gh(Math.floor(n/60),2),i=gh(Math.floor(n%60),2);return r+s+t+i}function g_(e,t){return e%60===0?(e>0?"-":"+")+gh(Math.abs(e)/60,2):ko(e,t)}function BB(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+gh(i,2)}function v_(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const VB=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,qp=36e5,x_=6e4,WB=2,pr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:VB};function uE(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?WB:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=qB(e),{year:s,restDateString:i}=HB(n.date,r),o=YB(i,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const l=o.getTime();let c=0,d;if(n.time&&(c=KB(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(d=c0(n.timeZone||t.timeZone,new Date(l+c)),isNaN(d))return new Date(NaN)}else d=v_(new Date(l+c)),d=v_(new Date(l+c+d));return new Date(l+c+d)}else return new Date(NaN)}function qB(e){const t={};let r=pr.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=pr.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const s=pr.timeZone.exec(n);s?(t.time=n.replace(s[1],""),t.timeZone=s[1].trim()):t.time=n}return t}function HB(e,t){if(e){const r=pr.YYY[t],n=pr.YYYYY[t];let s=pr.YYYY.exec(e)||n.exec(e);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(s=pr.YY.exec(e)||r.exec(e),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function YB(e,t){if(t===null)return null;let r,n,s;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=pr.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,w_(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=pr.DDD.exec(e),i){r=new Date(0);const o=parseInt(i[1],10);return ZB(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(i=pr.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return w_(t,n,o)?(r.setUTCFullYear(t,n,o),r):new Date(NaN)}if(i=pr.Www.exec(e),i)return s=parseInt(i[1],10)-1,b_(s)?y_(t,s):new Date(NaN);if(i=pr.WwwD.exec(e),i){s=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return b_(s,o)?y_(t,s,o):new Date(NaN)}return null}function KB(e){let t,r,n=pr.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),Hp(t)?t%24*qp:NaN;if(n=pr.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),Hp(t,r)?t%24*qp+r*x_:NaN;if(n=pr.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const s=parseFloat(n[3].replace(",","."));return Hp(t,r,s)?t%24*qp+r*x_+s*1e3:NaN}return null}function y_(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=t*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const GB=[31,28,31,30,31,30,31,31,30,31,30,31],QB=[31,29,31,30,31,30,31,31,30,31,30,31];function fE(e){return e%400===0||e%4===0&&e%100!==0}function w_(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=fE(e);if(n&&r>QB[t]||!n&&r>GB[t])return!1}return!0}function ZB(e,t){if(t<1)return!1;const r=fE(e);return!(r&&t>366||!r&&t>365)}function b_(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function Hp(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const XB=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function JB(e,t,r={}){t=String(t);const n=t.match(XB);if(n){const s=uE(r.originalDate||e,r);t=n.reduce(function(i,o){if(o[0]==="'")return i;const l=i.indexOf(o),c=i[l-1]==="'",d=i.replace(o,"'"+zB[o[0]](s,o,r)+"'");return c?d.substring(0,l-1)+d.substring(l+1):d},t)}return me(e,t,r)}function e9(e,t,r){e=uE(e,r);const n=c0(t,e,!0),s=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function Wc(e,t,r,n){return n={...n,timeZone:t,originalDate:e},JB(e9(e,t,{timeZone:n.timeZone}),r,n)}const t9=({onNavigateToOverview:e})=>{const[t,r]=m.useState("weekly"),[n,s]=m.useState(new Date),[i,o]=m.useState(null),{isMobile:l,getMobileSpacing:c,getMobileGap:d}=uo(),{data:u=[],isLoading:f}=Zt({queryKey:["instructor-schedule",n,t],queryFn:async()=>{const{data:{user:v}}=await P.auth.getUser();if(!v)return[];const h=t==="daily"?Yi(n):Ht(n),g=t==="daily"?TC(n):oo(n),{data:_,error:j}=await P.from("class_schedules").select(`
          id,
          start_time,
          end_time,
          classes!inner (
            id,
            name,
            location,
            location_name,
            level,
            max_students,
            instructor_id
          )
        `).eq("classes.instructor_id",v.id).gte("start_time",h.toISOString()).lte("start_time",g.toISOString()).order("start_time");if(j)throw j;return _}}),{data:p=[]}=Zt({queryKey:["class-sessions",i==null?void 0:i.classes.id],queryFn:async()=>{if(!i)return[];const{data:v,error:h}=await P.from("class_sessions").select("*").eq("class_id",i.classes.id).order("session_number");if(h)throw h;return v},enabled:!!i}),y=v=>{if(t==="daily"){const h=new Date(n);h.setDate(n.getDate()+(v==="next"?1:-1)),s(h)}else s(v==="next"?La(n,1):A6(n,1))},x=v=>u.filter(h=>lt(new Date(h.start_time),v)),b=()=>{const v=x(n);return a.jsxs("div",{className:`space-y-4 ${c()}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:me(n,"EEEE, MMMM d, yyyy")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("prev"),children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("next"),children:a.jsx(za,{className:"h-4 w-4"})})]})]}),v.length===0?a.jsx(ne,{children:a.jsx(ie,{className:"py-8 text-center text-muted-foreground",children:"No classes scheduled for this day"})}):a.jsx("div",{className:`grid gap-4 ${d()}`,children:v.map(h=>a.jsx(r9,{schedule:h,onClick:()=>o(h),isMobile:l},h.id))})]})},w=()=>{const v=Ht(n),h=Array.from({length:7},(g,_)=>{const j=new Date(v);return j.setDate(v.getDate()+_),j});return a.jsxs("div",{className:`space-y-4 ${c()}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Week of ",me(v,"MMM d, yyyy")]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("prev"),children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>y("next"),children:a.jsx(za,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:`grid grid-cols-1 ${l?"sm:grid-cols-2 lg:grid-cols-7":"lg:grid-cols-7"} gap-3`,children:h.map(g=>{const _=x(g),j=lt(g,new Date);return a.jsxs(ne,{className:j?"ring-2 ring-primary":"",children:[a.jsxs(ke,{className:"pb-2 px-3 py-2",children:[a.jsx(Te,{className:"text-sm font-medium",children:me(g,l?"EEE":"EEEE")}),a.jsx(vt,{className:"text-xs",children:me(g,"MMM d")})]}),a.jsxs(ie,{className:"px-3 py-2 space-y-1",children:[_.map(k=>a.jsxs("div",{className:"p-2 bg-primary/10 rounded-sm cursor-pointer hover:bg-primary/20 transition-colors flex items-end justify-between gap-2",onClick:()=>o(k),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs font-medium truncate",children:k.classes.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:Wc(new Date(k.start_time),"UTC","h:mm a")})]}),a.jsx("div",{className:"text-xs text-muted-foreground text-right truncate flex-shrink-0 max-w-[40%]",children:k.classes.location_name||k.classes.location})]},k.id)),_.length===0&&a.jsx("div",{className:"text-xs text-muted-foreground py-2",children:"No classes"})]})]},g.toISOString())})})]})};return f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:`space-y-6 ${c()}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{variant:t==="daily"?"default":"outline",size:"sm",onClick:()=>r("daily"),children:[a.jsx(ze,{className:"h-4 w-4 mr-2"}),"Daily"]}),a.jsxs(W,{variant:t==="weekly"?"default":"outline",size:"sm",onClick:()=>r("weekly"),children:[a.jsx(ze,{className:"h-4 w-4 mr-2"}),"Weekly"]})]}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>s(new Date),children:"Today"})]}),t==="daily"?b():w(),a.jsx(gs,{open:!!i,onOpenChange:()=>o(null),children:a.jsxs(In,{className:"max-w-2xl",children:[a.jsxs(Ln,{children:[a.jsx(Fn,{className:"text-2xl",children:i==null?void 0:i.classes.name}),a.jsx(Ka,{children:me(new Date((i==null?void 0:i.start_time)||new Date),"EEEE, MMMM d, yyyy")})]}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{className:"pb-3",children:a.jsx(Te,{className:"text-base",children:"Class Information"})}),a.jsxs(ie,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center h-9 w-9 rounded-lg bg-primary/10 flex-shrink-0",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),a.jsxs("div",{className:"text-sm font-medium",children:[Wc(new Date(i.start_time),"UTC","h:mm a")," - ",Wc(new Date(i.end_time),"UTC","h:mm a")]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center h-9 w-9 rounded-lg bg-primary/10 flex-shrink-0 mt-0.5",children:a.jsx(Bi,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Location"}),a.jsxs("div",{className:"text-sm font-medium leading-snug",children:[i.classes.location_name&&a.jsx("div",{children:i.classes.location_name}),a.jsx("ul",{className:"text-muted-foreground text-xs mt-0.5 list-disc list-inside space-y-0.5",children:(()=>{const v=i.classes.location,h=i.classes.location_name||"",_=(h?v.replace(h+", ","").replace(h,""):v).split(",").map(N=>N.trim()),j=[];let k="";return _.forEach(N=>{N.toLowerCase().includes("portable")||N.toLowerCase().includes("room")?k=N:j.push(N)}),a.jsxs(a.Fragment,{children:[j.length>0&&a.jsx("li",{children:j.join(", ")}),k&&a.jsx("li",{children:k})]})})()})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center h-9 w-9 rounded-lg bg-primary/10 flex-shrink-0",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Capacity"}),a.jsxs("div",{className:"text-sm font-medium",children:["Max ",i.classes.max_students," students"]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(be,{variant:"secondary",className:"text-xs px-3 py-1",children:i.classes.level})})]})]}),p.length>0&&a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{className:"pb-3",children:a.jsxs(Te,{className:"text-base",children:["Class Sessions (",p.length,")"]})}),a.jsx(ie,{children:a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:p.map(v=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg border",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Session ",v.session_number]}),v.session_title&&a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:v.session_title})]}),a.jsx(be,{variant:v.status==="completed"?"default":"secondary",children:v.status})]},v.id))})})]})]})]})})]})},r9=({schedule:e,onClick:t,isMobile:r})=>a.jsxs(ne,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:t,children:[a.jsx(ke,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Te,{className:"text-base",children:e.classes.name}),a.jsx(vt,{className:"text-sm",children:e.classes.location_name||e.classes.location})]}),a.jsx(be,{variant:"secondary",children:e.classes.level})]})}),a.jsx(ie,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm",children:[Wc(new Date(e.start_time),"UTC","h:mm a")," -",Wc(new Date(e.end_time),"UTC","h:mm a")]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm",children:["Max ",e.classes.max_students]})]})]})})]}),n9=({userRole:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Schedule"}),e==="instructor"||e==="teacher"?a.jsx(t9,{}):a.jsx(CB,{userRole:e})]});var d0="Tabs",[s9,XH]=tn(d0,[Em]),hE=Em(),[a9,u0]=s9(d0),mE=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Cm(l),[f,p]=pn({prop:n,onChange:s,defaultProp:i});return a.jsx(a9,{scope:r,baseId:Kr(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:a.jsx(_e.div,{dir:u,"data-orientation":o,...d,ref:t})})});mE.displayName=d0;var pE="TabsList",gE=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=u0(pE,r),o=hE(r);return a.jsx(Wk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});gE.displayName=pE;var vE="TabsTrigger",xE=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=u0(vE,r),l=hE(r),c=bE(o.baseId,n),d=_E(o.baseId,n),u=n===o.value;return a.jsx(qk,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(_e.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(n)})})})});xE.displayName=vE;var yE="TabsContent",wE=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=u0(yE,r),c=bE(l.baseId,n),d=_E(l.baseId,n),u=n===l.value,f=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(_r,{present:s||u,children:({present:p})=>a.jsx(_e.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});wE.displayName=yE;function bE(e,t){return`${e}-trigger-${t}`}function _E(e,t){return`${e}-content-${t}`}var i9=mE,jE=gE,NE=xE,SE=wE;const Gl=i9,fo=m.forwardRef(({className:e,...t},r)=>a.jsx(jE,{ref:r,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fo.displayName=jE.displayName;const Gt=m.forwardRef(({className:e,...t},r)=>a.jsx(NE,{ref:r,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gt.displayName=NE.displayName;const Qr=m.forwardRef(({className:e,...t},r)=>a.jsx(SE,{ref:r,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qr.displayName=SE.displayName;const o9=({onNavigateToOverview:e})=>{const[t,r]=m.useState("30d"),{data:n,isLoading:s}=Zt({queryKey:["admin-analytics",t],queryFn:async()=>{const o=t==="7d"?7:t==="30d"?30:90,l=Vc(new Date,o),{count:c}=await P.from("profiles").select("*",{count:"exact",head:!0}),{count:d}=await P.from("classes").select("*",{count:"exact",head:!0}),{data:u}=await P.from("class_enrollments").select("enrolled_at").gte("enrolled_at",l.toISOString()),{data:f}=await P.from("camp_enrollments").select("enrolled_at").gte("enrolled_at",l.toISOString()),p=((u==null?void 0:u.length)||0)+((f==null?void 0:f.length)||0),{data:y}=await P.from("orders").select("amount, created_at").eq("status","completed").gte("created_at",l.toISOString()),x=(y==null?void 0:y.reduce((N,E)=>N+(E.amount||0),0))||0,b=Wt(new Date),{data:w}=await P.from("orders").select("amount").eq("status","completed").gte("created_at",b.toISOString()),v=(w==null?void 0:w.reduce((N,E)=>N+(E.amount||0),0))||0,h={};u==null||u.forEach(N=>{const E=me(new Date(N.enrolled_at),"yyyy-MM-dd");h[E]=(h[E]||0)+1}),f==null||f.forEach(N=>{const E=me(new Date(N.enrolled_at),"yyyy-MM-dd");h[E]=(h[E]||0)+1});const g=Array.from({length:Math.min(o,14)},(N,E)=>{const R=me(Vc(new Date,o-E),"yyyy-MM-dd");return{date:R,count:h[R]||0}}),{data:_}=await P.from("class_enrollments").select("class_id, classes(name)").gte("enrolled_at",l.toISOString()),j={};_==null||_.forEach(N=>{var R;const E=((R=N.classes)==null?void 0:R.name)||"Unknown";j[E]||(j[E]={name:E,count:0}),j[E].count++});const k=Object.values(j).sort((N,E)=>E.count-N.count).slice(0,5).map(N=>({name:N.name,enrollments:N.count}));return{totalUsers:c||0,activeClasses:d||0,totalEnrollments:p,totalRevenue:x,recentEnrollments:g,popularClasses:k,revenueByMonth:v}}}),i=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o/100);return s?a.jsx(ne,{children:a.jsx(ie,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(os,{className:"h-8 w-8 animate-spin"})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Xx,{className:"h-6 w-6"}),"Analytics & Reporting"]}),a.jsx("p",{className:"text-muted-foreground",children:"Real-time platform metrics and insights"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("select",{value:t,onChange:o=>r(o.target.value),className:"px-3 py-1 border rounded-md text-sm",children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"})]})})]}),a.jsxs(Gl,{defaultValue:"overview",className:"w-full",children:[a.jsxs(fo,{className:"grid w-full grid-cols-3",children:[a.jsx(Gt,{value:"overview",children:"Overview"}),a.jsx(Gt,{value:"enrollments",children:"Enrollments"}),a.jsx(Gt,{value:"revenue",children:"Revenue"})]}),a.jsxs(Qr,{value:"overview",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(ne,{children:a.jsxs(ie,{className:"p-3 sm:p-4 text-center",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:n==null?void 0:n.totalUsers}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Users"})]})}),a.jsx(ne,{children:a.jsxs(ie,{className:"p-3 sm:p-4 text-center",children:[a.jsx(It,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:n==null?void 0:n.activeClasses}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Active Classes"})]})}),a.jsx(ne,{children:a.jsxs(ie,{className:"p-3 sm:p-4 text-center",children:[a.jsx(ud,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:n==null?void 0:n.totalEnrollments}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Enrollments"}),a.jsx(be,{variant:"outline",className:"mt-1 text-[10px] sm:text-xs",children:t})]})}),a.jsx(ne,{children:a.jsxs(ie,{className:"p-3 sm:p-4 text-center",children:[a.jsx(WN,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:i((n==null?void 0:n.totalRevenue)||0)}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Revenue"}),a.jsx(be,{variant:"outline",className:"mt-1 text-[10px] sm:text-xs",children:t})]})})]}),a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{children:"Most Popular Classes"}),a.jsx(vt,{children:"Classes with the highest enrollment in selected period"})]}),a.jsx(ie,{children:n!=null&&n.popularClasses&&n.popularClasses.length>0?a.jsx("div",{className:"space-y-3",children:n.popularClasses.map((o,l)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium",children:l+1}),a.jsx("span",{className:"font-medium",children:o.name})]}),a.jsxs(be,{variant:"secondary",children:[o.enrollments," enrollments"]})]},o.name))}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No enrollment data available for the selected period"})})]})]}),a.jsxs(Qr,{value:"enrollments",className:"space-y-4 sm:space-y-6",children:[a.jsxs(ne,{children:[a.jsxs(ke,{className:"p-3 sm:p-6",children:[a.jsx(Te,{className:"text-base sm:text-lg",children:"Enrollment Trends"}),a.jsx(vt,{className:"text-xs sm:text-sm",children:"Daily enrollments over the selected period"})]}),a.jsx(ie,{className:"p-3 sm:p-6 pt-0",children:n!=null&&n.recentEnrollments&&n.recentEnrollments.length>0?a.jsx("div",{className:"space-y-2",children:n.recentEnrollments.map(o=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:me(new Date(o.date),"MMM d")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-32 bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(o.count/20*100,100)}%`}})}),a.jsx("span",{className:"text-sm font-medium w-8",children:o.count})]})]},o.date))}):a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No enrollment data available"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(ne,{children:a.jsx(ie,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:n==null?void 0:n.totalEnrollments}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Total Enrollments"}),a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["in ",t]})]})})}),a.jsx(ne,{children:a.jsx(ie,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:n!=null&&n.recentEnrollments?Math.round(n.recentEnrollments.reduce((o,l)=>o+l.count,0)/n.recentEnrollments.length):0}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Avg Daily Enrollments"}),a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["in ",t]})]})})})]})]}),a.jsxs(Qr,{value:"revenue",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs(ne,{children:[a.jsxs(ke,{className:"p-3 sm:p-6",children:[a.jsx(Te,{className:"text-base sm:text-lg",children:"Total Revenue"}),a.jsx(vt,{className:"text-xs sm:text-sm",children:"Revenue in selected period"})]}),a.jsx(ie,{className:"p-3 sm:p-6 pt-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl sm:text-4xl font-bold text-primary",children:i((n==null?void 0:n.totalRevenue)||0)}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:["From completed orders in ",t]})]})})]}),a.jsxs(ne,{children:[a.jsxs(ke,{className:"p-3 sm:p-6",children:[a.jsx(Te,{className:"text-base sm:text-lg",children:"Monthly Revenue"}),a.jsx(vt,{className:"text-xs sm:text-sm",children:"Current month earnings"})]}),a.jsx(ie,{className:"p-3 sm:p-6 pt-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl sm:text-4xl font-bold text-primary",children:i((n==null?void 0:n.revenueByMonth)||0)}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:me(new Date,"MMMM yyyy")})]})})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{children:"Revenue Insights"}),a.jsx(vt,{children:"Payment and order statistics"})]}),a.jsx(ie,{children:a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Average Order Value"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n!=null&&n.totalEnrollments&&n.totalEnrollments>0?i(Math.round((n.totalRevenue||0)/n.totalEnrollments)):"$0.00"})]})]})})})})]})]})]})]})},ws=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ws.displayName="Textarea";function __(e,[t,r]){return Math.min(r,Math.max(t,e))}function f0(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var l9=[" ","Enter","ArrowUp","ArrowDown"],c9=[" ","Enter"],fu="Select",[Dm,Rm,d9]=Kh(fu),[Ql,JH]=tn(fu,[d9,ri]),Om=ri(),[u9,li]=Ql(fu),[f9,h9]=Ql(fu),CE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:y,form:x}=e,b=Om(t),[w,v]=m.useState(null),[h,g]=m.useState(null),[_,j]=m.useState(!1),k=Cm(d),[N=!1,E]=pn({prop:n,defaultProp:s,onChange:i}),[R,T]=pn({prop:o,defaultProp:l,onChange:c}),L=m.useRef(null),D=w?x||!!w.closest("form"):!0,[C,M]=m.useState(new Set),$=Array.from(C).map(B=>B.props.value).join(";");return a.jsx(rm,{...b,children:a.jsxs(u9,{required:y,scope:t,trigger:w,onTriggerChange:v,valueNode:h,onValueNodeChange:g,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Kr(),value:R,onValueChange:T,open:N,onOpenChange:E,dir:k,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(Dm.Provider,{scope:t,children:a.jsx(f9,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{M(U=>new Set(U).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{M(U=>{const S=new Set(U);return S.delete(B),S})},[]),children:r})}),D?a.jsxs(ZE,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:B=>T(B.target.value),disabled:p,form:x,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(C)]},$):null]})})};CE.displayName=fu;var kE="SelectTrigger",EE=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Om(r),o=li(kE,r),l=o.disabled||n,c=We(t,o.onTriggerChange),d=Rm(r),u=m.useRef("touch"),[f,p,y]=XE(b=>{const w=d().filter(g=>!g.disabled),v=w.find(g=>g.value===o.value),h=JE(w,b,v);h!==void 0&&o.onValueChange(h.value)}),x=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(Zd,{asChild:!0,...i,children:a.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QE(o.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,b=>{b.currentTarget.focus(),u.current!=="mouse"&&x(b)}),onPointerDown:se(s.onPointerDown,b=>{u.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:se(s.onKeyDown,b=>{const w=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(w&&b.key===" ")&&l9.includes(b.key)&&(x(),b.preventDefault())})})})});EE.displayName=kE;var TE="SelectValue",PE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=li(TE,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=We(t,c.onValueNodeChange);return qt(()=>{d(u)},[d,u]),a.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:QE(c.value)?a.jsx(a.Fragment,{children:o}):i})});PE.displayName=TE;var m9="SelectIcon",ME=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(_e.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});ME.displayName=m9;var p9="SelectPortal",DE=e=>a.jsx($l,{asChild:!0,...e});DE.displayName=p9;var Gi="SelectContent",RE=m.forwardRef((e,t)=>{const r=li(Gi,e.__scopeSelect),[n,s]=m.useState();if(qt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?eo.createPortal(a.jsx(OE,{scope:e.__scopeSelect,children:a.jsx(Dm.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(AE,{...e,ref:t})});RE.displayName=Gi;var wn=10,[OE,ci]=Ql(Gi),g9="SelectContentImpl",AE=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:b,avoidCollisions:w,...v}=e,h=li(Gi,r),[g,_]=m.useState(null),[j,k]=m.useState(null),N=We(t,F=>_(F)),[E,R]=m.useState(null),[T,L]=m.useState(null),D=Rm(r),[C,M]=m.useState(!1),$=m.useRef(!1);m.useEffect(()=>{if(g)return wm(g)},[g]),xm();const B=m.useCallback(F=>{const[Y,...X]=D().map(Oe=>Oe.ref.current),[le]=X.slice(-1),we=document.activeElement;for(const Oe of F)if(Oe===we||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Y&&j&&(j.scrollTop=0),Oe===le&&j&&(j.scrollTop=j.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==we))return},[D,j]),U=m.useCallback(()=>B([E,g]),[B,E,g]);m.useEffect(()=>{C&&U()},[C,U]);const{onOpenChange:S,triggerPointerDownPosRef:O}=h;m.useEffect(()=>{if(g){let F={x:0,y:0};const Y=le=>{var we,Oe;F={x:Math.abs(Math.round(le.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Oe=O.current)==null?void 0:Oe.y)??0))}},X=le=>{F.x<=10&&F.y<=10?le.preventDefault():g.contains(le.target)||S(!1),document.removeEventListener("pointermove",Y),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",X,{capture:!0})}}},[g,S,O]),m.useEffect(()=>{const F=()=>S(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[S]);const[H,V]=XE(F=>{const Y=D().filter(we=>!we.disabled),X=Y.find(we=>we.ref.current===document.activeElement),le=JE(Y,F,X);le&&setTimeout(()=>le.ref.current.focus())}),ee=m.useCallback((F,Y,X)=>{const le=!$.current&&!X;(h.value!==void 0&&h.value===Y||le)&&(R(F),le&&($.current=!0))},[h.value]),je=m.useCallback(()=>g==null?void 0:g.focus(),[g]),Z=m.useCallback((F,Y,X)=>{const le=!$.current&&!X;(h.value!==void 0&&h.value===Y||le)&&L(F)},[h.value]),Ne=n==="popper"?Uv:IE,ue=Ne===Uv?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:b,avoidCollisions:w}:{};return a.jsx(OE,{scope:r,content:g,viewport:j,onViewportChange:k,itemRefCallback:ee,selectedItem:E,onItemLeave:je,itemTextRefCallback:Z,focusSelectedItem:U,selectedItemText:T,position:n,isPositioned:C,searchRef:H,children:a.jsx(su,{as:vr,allowPinchZoom:!0,children:a.jsx(nu,{asChild:!0,trapped:h.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:se(s,F=>{var Y;(Y=h.trigger)==null||Y.focus({preventScroll:!0}),F.preventDefault()}),children:a.jsx(to,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Ne,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:F=>F.preventDefault(),...v,...ue,onPlaced:()=>M(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:se(v.onKeyDown,F=>{const Y=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Y&&F.key.length===1&&V(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let le=D().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(F.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const we=F.target,Oe=le.indexOf(we);le=le.slice(Oe+1)}setTimeout(()=>B(le)),F.preventDefault()}})})})})})})});AE.displayName=g9;var v9="SelectItemAlignedPosition",IE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=li(Gi,r),o=ci(Gi,r),[l,c]=m.useState(null),[d,u]=m.useState(null),f=We(t,N=>u(N)),p=Rm(r),y=m.useRef(!1),x=m.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:v,focusSelectedItem:h}=o,g=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&b&&w&&v){const N=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const we=T.left-E.left,Oe=R.left-we,Dt=N.left-Oe,st=N.width+Dt,rn=Math.max(st,E.width),Xt=window.innerWidth-wn,vn=__(Oe,[wn,Math.max(wn,Xt-rn)]);l.style.minWidth=st+"px",l.style.left=vn+"px"}else{const we=E.right-T.right,Oe=window.innerWidth-R.right-we,Dt=window.innerWidth-N.right-Oe,st=N.width+Dt,rn=Math.max(st,E.width),Xt=window.innerWidth-wn,vn=__(Oe,[wn,Math.max(wn,Xt-rn)]);l.style.minWidth=st+"px",l.style.right=vn+"px"}const L=p(),D=window.innerHeight-wn*2,C=b.scrollHeight,M=window.getComputedStyle(d),$=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),U=parseInt(M.borderBottomWidth,10),S=parseInt(M.paddingBottom,10),O=$+B+C+S+U,H=Math.min(w.offsetHeight*5,O),V=window.getComputedStyle(b),ee=parseInt(V.paddingTop,10),je=parseInt(V.paddingBottom,10),Z=N.top+N.height/2-wn,Ne=D-Z,ue=w.offsetHeight/2,F=w.offsetTop+ue,Y=$+B+F,X=O-Y;if(Y<=Z){const we=L.length>0&&w===L[L.length-1].ref.current;l.style.bottom="0px";const Oe=d.clientHeight-b.offsetTop-b.offsetHeight,Dt=Math.max(Ne,ue+(we?je:0)+Oe+U),st=Y+Dt;l.style.height=st+"px"}else{const we=L.length>0&&w===L[0].ref.current;l.style.top="0px";const Dt=Math.max(Z,$+b.offsetTop+(we?ee:0)+ue)+X;l.style.height=Dt+"px",b.scrollTop=Y-Z+b.offsetTop}l.style.margin=`${wn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,l,d,b,w,v,i.dir,n]);qt(()=>g(),[g]);const[_,j]=m.useState();qt(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const k=m.useCallback(N=>{N&&x.current===!0&&(g(),h==null||h(),x.current=!1)},[g,h]);return a.jsx(y9,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});IE.displayName=v9;var x9="SelectPopperPosition",Uv=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=wn,...i}=e,o=Om(r);return a.jsx(nm,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uv.displayName=x9;var[y9,h0]=Ql(Gi,{}),zv="SelectViewport",LE=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=ci(zv,r),o=h0(zv,r),l=We(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Dm.Slot,{scope:r,children:a.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(c.current-u.scrollTop);if(y>0){const x=window.innerHeight-wn*2,b=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(b,w);if(v<x){const h=v+y,g=Math.min(x,h),_=h-g;f.style.height=g+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});LE.displayName=zv;var FE="SelectGroup",[w9,b9]=Ql(FE),_9=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Kr();return a.jsx(w9,{scope:r,id:s,children:a.jsx(_e.div,{role:"group","aria-labelledby":s,...n,ref:t})})});_9.displayName=FE;var $E="SelectLabel",UE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=b9($E,r);return a.jsx(_e.div,{id:s.id,...n,ref:t})});UE.displayName=$E;var vh="SelectItem",[j9,zE]=Ql(vh),BE=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=li(vh,r),c=ci(vh,r),d=l.value===n,[u,f]=m.useState(i??""),[p,y]=m.useState(!1),x=We(t,h=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,h,n,s)}),b=Kr(),w=m.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(j9,{scope:r,value:n,disabled:s,textId:b,isSelected:d,onItemTextChange:m.useCallback(h=>{f(g=>g||((h==null?void 0:h.textContent)??"").trim())},[]),children:a.jsx(Dm.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(_e.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:se(o.onFocus,()=>y(!0)),onBlur:se(o.onBlur,()=>y(!1)),onClick:se(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:se(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:se(o.onPointerDown,h=>{w.current=h.pointerType}),onPointerMove:se(o.onPointerMove,h=>{var g;w.current=h.pointerType,s?(g=c.onItemLeave)==null||g.call(c):w.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,h=>{var g;h.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:se(o.onKeyDown,h=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&h.key===" "||(c9.includes(h.key)&&v(),h.key===" "&&h.preventDefault())})})})})});BE.displayName=vh;var Sc="SelectItemText",VE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=li(Sc,r),l=ci(Sc,r),c=zE(Sc,r),d=h9(Sc,r),[u,f]=m.useState(null),p=We(t,v=>f(v),c.onItemTextChange,v=>{var h;return(h=l.itemTextRefCallback)==null?void 0:h.call(l,v,c.value,c.disabled)}),y=u==null?void 0:u.textContent,x=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=d;return qt(()=>(b(x),()=>w(x)),[b,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(_e.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eo.createPortal(i.children,o.valueNode):null]})});VE.displayName=Sc;var WE="SelectItemIndicator",qE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zE(WE,r).isSelected?a.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});qE.displayName=WE;var Bv="SelectScrollUpButton",HE=m.forwardRef((e,t)=>{const r=ci(Bv,e.__scopeSelect),n=h0(Bv,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return qt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(KE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HE.displayName=Bv;var Vv="SelectScrollDownButton",YE=m.forwardRef((e,t)=>{const r=ci(Vv,e.__scopeSelect),n=h0(Vv,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return qt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(KE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YE.displayName=Vv;var KE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=ci("SelectScrollButton",r),o=m.useRef(null),l=Rm(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),qt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(_e.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:se(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),N9="SelectSeparator",GE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});GE.displayName=N9;var Wv="SelectArrow",S9=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Om(r),i=li(Wv,r),o=ci(Wv,r);return i.open&&o.position==="popper"?a.jsx(sm,{...s,...n,ref:t}):null});S9.displayName=Wv;function QE(e){return e===""||e===void 0}var ZE=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),i=We(t,s),o=f0(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(Hd,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});ZE.displayName="BubbleSelect";function XE(e){const t=rr(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function JE(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=C9(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function C9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k9=CE,eT=EE,E9=PE,T9=ME,P9=DE,tT=RE,M9=LE,rT=UE,nT=BE,D9=VE,R9=qE,sT=HE,aT=YE,iT=GE;const at=k9,it=E9,tt=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(eT,{ref:n,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(T9,{asChild:!0,children:a.jsx(Yd,{className:"h-4 w-4 opacity-50"})})]}));tt.displayName=eT.displayName;const oT=m.forwardRef(({className:e,...t},r)=>a.jsx(sT,{ref:r,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(sR,{className:"h-4 w-4"})}));oT.displayName=sT.displayName;const lT=m.forwardRef(({className:e,...t},r)=>a.jsx(aT,{ref:r,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Yd,{className:"h-4 w-4"})}));lT.displayName=aT.displayName;const rt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(P9,{children:a.jsxs(tT,{ref:s,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(oT,{}),a.jsx(M9,{className:G("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(lT,{})]})}));rt.displayName=tT.displayName;const O9=m.forwardRef(({className:e,...t},r)=>a.jsx(rT,{ref:r,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));O9.displayName=rT.displayName;const pe=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(nT,{ref:n,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(R9,{children:a.jsx(Zh,{className:"h-4 w-4"})})}),a.jsx(D9,{children:t})]}));pe.displayName=nT.displayName;const A9=m.forwardRef(({className:e,...t},r)=>a.jsx(iT,{ref:r,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));A9.displayName=iT.displayName;var hu=e=>e.type==="checkbox",Ni=e=>e instanceof Date,mr=e=>e==null;const cT=e=>typeof e=="object";var Lt=e=>!mr(e)&&!Array.isArray(e)&&cT(e)&&!Ni(e),dT=e=>Lt(e)&&e.target?hu(e.target)?e.target.checked:e.target.value:e,I9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,uT=(e,t)=>e.has(I9(t)),L9=e=>{const t=e.constructor&&e.constructor.prototype;return Lt(t)&&t.hasOwnProperty("isPrototypeOf")},m0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(m0&&(e instanceof Blob||e instanceof FileList))&&(r||Lt(e)))if(t=r?[]:{},!r&&!L9(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Sr(e[n]));else return e;return t}var Am=e=>Array.isArray(e)?e.filter(Boolean):[],Pt=e=>e===void 0,ae=(e,t,r)=>{if(!t||!Lt(e))return r;const n=Am(t.split(/[,[\].]+?/)).reduce((s,i)=>mr(s)?s:s[i],e);return Pt(n)||n===e?Pt(e[t])?r:e[t]:n},an=e=>typeof e=="boolean",p0=e=>/^\w*$/.test(e),fT=e=>Am(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,r)=>{let n=-1;const s=p0(t)?[t]:fT(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const d=e[l];c=Lt(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const xh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},En={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hT=K.createContext(null),Im=()=>K.useContext(hT),F9=e=>{const{children:t,...r}=e;return K.createElement(hT.Provider,{value:r},t)};var mT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==En.all&&(t._proxyFormState[o]=!n||En.all),r&&(r[o]=!0),e[o]}});return s},Er=e=>Lt(e)&&!Object.keys(e).length,pT=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Er(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||En.all))},qc=e=>Array.isArray(e)?e:[e],gT=(e,t,r)=>!e||!t||e===t||qc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function g0(e){const t=K.useRef(e);t.current=e,K.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function $9(e){const t=Im(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=K.useState(r._formState),c=K.useRef(!0),d=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=K.useRef(s);return u.current=s,g0({disabled:n,next:f=>c.current&&gT(u.current,f.name,i)&&pT(f,d.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),K.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),mT(o,r,d.current,!1)}var cs=e=>typeof e=="string",vT=(e,t,r,n,s)=>cs(e)?(n&&t.watch.add(e),ae(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ae(r,i))):(n&&(t.watchAll=!0),r);function U9(e){const t=Im(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=K.useRef(n);l.current=n,g0({disabled:i,subject:r._subjects.values,next:u=>{gT(l.current,u.name,o)&&d(Sr(vT(l.current,r._names,u.values||r._formValues,!1,s)))}});const[c,d]=K.useState(r._getWatch(n,s));return K.useEffect(()=>r._removeUnmounted()),c}function z9(e){const t=Im(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=uT(s._names.array,r),l=U9({control:s,name:r,defaultValue:ae(s._formValues,r,ae(s._defaultValues,r,e.defaultValue)),exact:!0}),c=$9({control:s,name:r,exact:!0}),d=K.useRef(s.register(r,{...e.rules,value:l,...an(e.disabled)?{disabled:e.disabled}:{}}));return K.useEffect(()=>{const u=s._options.shouldUnregister||i,f=(p,y)=>{const x=ae(s._fields,p);x&&x._f&&(x._f.mount=y)};if(f(r,!0),u){const p=Sr(ae(s._options.defaultValues,r));Xe(s._defaultValues,r,p),Pt(ae(s._formValues,r))&&Xe(s._formValues,r,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(r):f(r,!1)}},[r,s,o,i]),K.useEffect(()=>{ae(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:ae(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...an(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:K.useCallback(u=>d.current.onChange({target:{value:dT(u),name:r},type:xh.CHANGE}),[r]),onBlur:K.useCallback(()=>d.current.onBlur({target:{value:ae(s._formValues,r),name:r},type:xh.BLUR}),[r,s]),ref:K.useCallback(u=>{const f=ae(s._fields,r);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(c.validatingFields,r)},error:{enumerable:!0,get:()=>ae(c.errors,r)}})}}const B9=e=>e.render(z9(e));var xT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},j_=e=>({isOnSubmit:!e||e===En.onSubmit,isOnBlur:e===En.onBlur,isOnChange:e===En.onChange,isOnAll:e===En.all,isOnTouch:e===En.onTouched}),N_=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Hc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ae(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Hc(l,t))break}else if(Lt(l)&&Hc(l,t))break}}};var V9=(e,t,r)=>{const n=qc(ae(e,r));return Xe(n,"root",t[r]),Xe(e,r,n),e},v0=e=>e.type==="file",As=e=>typeof e=="function",yh=e=>{if(!m0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Nf=e=>cs(e),x0=e=>e.type==="radio",wh=e=>e instanceof RegExp;const S_={value:!1,isValid:!1},C_={value:!0,isValid:!0};var yT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?C_:{value:e[0].value,isValid:!0}:C_:S_}return S_};const k_={isValid:!1,value:null};var wT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,k_):k_;function E_(e,t,r="validate"){if(Nf(e)||Array.isArray(e)&&e.every(Nf)||an(e)&&!e)return{type:r,message:Nf(e)?e:"",ref:t}}var So=e=>Lt(e)&&!wh(e)?e:{value:e,message:""},T_=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:p,validate:y,name:x,valueAsNumber:b,mount:w,disabled:v}=e._f,h=ae(t,x);if(!w||v)return{};const g=o?o[0]:i,_=D=>{n&&g.reportValidity&&(g.setCustomValidity(an(D)?"":D||""),g.reportValidity())},j={},k=x0(i),N=hu(i),E=k||N,R=(b||v0(i))&&Pt(i.value)&&Pt(h)||yh(i)&&i.value===""||h===""||Array.isArray(h)&&!h.length,T=xT.bind(null,x,r,j),L=(D,C,M,$=_s.maxLength,B=_s.minLength)=>{const U=D?C:M;j[x]={type:D?$:B,message:U,ref:i,...T(D?$:B,U)}};if(s?!Array.isArray(h)||!h.length:l&&(!E&&(R||mr(h))||an(h)&&!h||N&&!yT(o).isValid||k&&!wT(o).isValid)){const{value:D,message:C}=Nf(l)?{value:!!l,message:l}:So(l);if(D&&(j[x]={type:_s.required,message:C,ref:g,...T(_s.required,C)},!r))return _(C),j}if(!R&&(!mr(u)||!mr(f))){let D,C;const M=So(f),$=So(u);if(!mr(h)&&!isNaN(h)){const B=i.valueAsNumber||h&&+h;mr(M.value)||(D=B>M.value),mr($.value)||(C=B<$.value)}else{const B=i.valueAsDate||new Date(h),U=H=>new Date(new Date().toDateString()+" "+H),S=i.type=="time",O=i.type=="week";cs(M.value)&&h&&(D=S?U(h)>U(M.value):O?h>M.value:B>new Date(M.value)),cs($.value)&&h&&(C=S?U(h)<U($.value):O?h<$.value:B<new Date($.value))}if((D||C)&&(L(!!D,M.message,$.message,_s.max,_s.min),!r))return _(j[x].message),j}if((c||d)&&!R&&(cs(h)||s&&Array.isArray(h))){const D=So(c),C=So(d),M=!mr(D.value)&&h.length>+D.value,$=!mr(C.value)&&h.length<+C.value;if((M||$)&&(L(M,D.message,C.message),!r))return _(j[x].message),j}if(p&&!R&&cs(h)){const{value:D,message:C}=So(p);if(wh(D)&&!h.match(D)&&(j[x]={type:_s.pattern,message:C,ref:i,...T(_s.pattern,C)},!r))return _(C),j}if(y){if(As(y)){const D=await y(h,t),C=E_(D,g);if(C&&(j[x]={...C,...T(_s.validate,C.message)},!r))return _(C.message),j}else if(Lt(y)){let D={};for(const C in y){if(!Er(D)&&!r)break;const M=E_(await y[C](h,t),g,C);M&&(D={...M,...T(C,M.message)},_(M.message),r&&(j[x]=D))}if(!Er(D)&&(j[x]={ref:g,...D},!r))return j}}return _(!0),j};function W9(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pt(e)?n++:e[t[n++]];return e}function q9(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Ut(e,t){const r=Array.isArray(t)?t:p0(t)?[t]:fT(t),n=r.length===1?e:W9(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Lt(n)&&Er(n)||Array.isArray(n)&&q9(n))&&Ut(e,r.slice(0,-1)),e}var Yp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},qv=e=>mr(e)||!cT(e);function ha(e,t){if(qv(e)||qv(t))return e===t;if(Ni(e)&&Ni(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ni(i)&&Ni(o)||Lt(i)&&Lt(o)||Array.isArray(i)&&Array.isArray(o)?!ha(i,o):i!==o)return!1}}return!0}var bT=e=>e.type==="select-multiple",H9=e=>x0(e)||hu(e),Kp=e=>yh(e)&&e.isConnected,_T=e=>{for(const t in e)if(As(e[t]))return!0;return!1};function bh(e,t={}){const r=Array.isArray(e);if(Lt(e)||r)for(const n in e)Array.isArray(e[n])||Lt(e[n])&&!_T(e[n])?(t[n]=Array.isArray(e[n])?[]:{},bh(e[n],t[n])):mr(e[n])||(t[n]=!0);return t}function jT(e,t,r){const n=Array.isArray(e);if(Lt(e)||n)for(const s in e)Array.isArray(e[s])||Lt(e[s])&&!_T(e[s])?Pt(t)||qv(r[s])?r[s]=Array.isArray(e[s])?bh(e[s],[]):{...bh(e[s])}:jT(e[s],mr(t)?{}:t[s],r[s]):r[s]=!ha(e[s],t[s]);return r}var mc=(e,t)=>jT(e,t,bh(t)),NT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pt(e)?e:t?e===""?NaN:e&&+e:r&&cs(e)?new Date(e):n?n(e):e;function Gp(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return v0(t)?t.files:x0(t)?wT(e.refs).value:bT(t)?[...t.selectedOptions].map(({value:r})=>r):hu(t)?yT(e.refs).value:NT(Pt(t.value)?e.ref.value:t.value,e)}var Y9=(e,t,r,n)=>{const s={};for(const i of e){const o=ae(t,i);o&&Xe(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},pc=e=>Pt(e)?e:wh(e)?e.source:Lt(e)?wh(e.value)?e.value.source:e.value:e;const P_="AsyncFunction";var K9=e=>(!e||!e.validate)&&!!(As(e.validate)&&e.validate.constructor.name===P_||Lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===P_)),G9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function M_(e,t,r){const n=ae(e,r);if(n||p0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=ae(t,i),l=ae(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var Q9=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Z9=(e,t)=>!Am(ae(e,t)).length&&Ut(e,t);const X9={mode:En.onSubmit,reValidateMode:En.onChange,shouldFocusError:!0};function J9(e={}){let t={...X9,...e},r={submitCount:0,isDirty:!1,isLoading:As(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Lt(t.defaultValues)||Lt(t.values)?Sr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Sr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Yp(),array:Yp(),state:Yp()},p=j_(t.mode),y=j_(t.reValidateMode),x=t.criteriaMode===En.all,b=A=>z=>{clearTimeout(d),d=setTimeout(A,z)},w=async A=>{if(!e.disabled&&(u.isValid||A)){const z=t.resolver?Er((await E()).errors):await T(n,!0);z!==r.isValid&&f.state.next({isValid:z})}},v=(A,z)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((A||Array.from(l.mount)).forEach(q=>{q&&(z?Xe(r.validatingFields,q,z):Ut(r.validatingFields,q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},h=(A,z=[],q,fe,oe=!0,re=!0)=>{if(fe&&q&&!e.disabled){if(o.action=!0,re&&Array.isArray(ae(n,A))){const Ee=q(ae(n,A),fe.argA,fe.argB);oe&&Xe(n,A,Ee)}if(re&&Array.isArray(ae(r.errors,A))){const Ee=q(ae(r.errors,A),fe.argA,fe.argB);oe&&Xe(r.errors,A,Ee),Z9(r.errors,A)}if(u.touchedFields&&re&&Array.isArray(ae(r.touchedFields,A))){const Ee=q(ae(r.touchedFields,A),fe.argA,fe.argB);oe&&Xe(r.touchedFields,A,Ee)}u.dirtyFields&&(r.dirtyFields=mc(s,i)),f.state.next({name:A,isDirty:D(A,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xe(i,A,z)},g=(A,z)=>{Xe(r.errors,A,z),f.state.next({errors:r.errors})},_=A=>{r.errors=A,f.state.next({errors:r.errors,isValid:!1})},j=(A,z,q,fe)=>{const oe=ae(n,A);if(oe){const re=ae(i,A,Pt(q)?ae(s,A):q);Pt(re)||fe&&fe.defaultChecked||z?Xe(i,A,z?re:Gp(oe._f)):$(A,re),o.mount&&w()}},k=(A,z,q,fe,oe)=>{let re=!1,Ee=!1;const Le={name:A};if(!e.disabled){const kt=!!(ae(n,A)&&ae(n,A)._f&&ae(n,A)._f.disabled);if(!q||fe){u.isDirty&&(Ee=r.isDirty,r.isDirty=Le.isDirty=D(),re=Ee!==Le.isDirty);const ht=kt||ha(ae(s,A),z);Ee=!!(!kt&&ae(r.dirtyFields,A)),ht||kt?Ut(r.dirtyFields,A):Xe(r.dirtyFields,A,!0),Le.dirtyFields=r.dirtyFields,re=re||u.dirtyFields&&Ee!==!ht}if(q){const ht=ae(r.touchedFields,A);ht||(Xe(r.touchedFields,A,q),Le.touchedFields=r.touchedFields,re=re||u.touchedFields&&ht!==q)}re&&oe&&f.state.next(Le)}return re?Le:{}},N=(A,z,q,fe)=>{const oe=ae(r.errors,A),re=u.isValid&&an(z)&&r.isValid!==z;if(e.delayError&&q?(c=b(()=>g(A,q)),c(e.delayError)):(clearTimeout(d),c=null,q?Xe(r.errors,A,q):Ut(r.errors,A)),(q?!ha(oe,q):oe)||!Er(fe)||re){const Ee={...fe,...re&&an(z)?{isValid:z}:{},errors:r.errors,name:A};r={...r,...Ee},f.state.next(Ee)}},E=async A=>{v(A,!0);const z=await t.resolver(i,t.context,Y9(A||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(A),z},R=async A=>{const{errors:z}=await E(A);if(A)for(const q of A){const fe=ae(z,q);fe?Xe(r.errors,q,fe):Ut(r.errors,q)}else r.errors=z;return z},T=async(A,z,q={valid:!0})=>{for(const fe in A){const oe=A[fe];if(oe){const{_f:re,...Ee}=oe;if(re){const Le=l.array.has(re.name),kt=oe._f&&K9(oe._f);kt&&u.validatingFields&&v([fe],!0);const ht=await T_(oe,i,x,t.shouldUseNativeValidation&&!z,Le);if(kt&&u.validatingFields&&v([fe]),ht[re.name]&&(q.valid=!1,z))break;!z&&(ae(ht,re.name)?Le?V9(r.errors,ht,re.name):Xe(r.errors,re.name,ht[re.name]):Ut(r.errors,re.name))}!Er(Ee)&&await T(Ee,z,q)}}return q.valid},L=()=>{for(const A of l.unMount){const z=ae(n,A);z&&(z._f.refs?z._f.refs.every(q=>!Kp(q)):!Kp(z._f.ref))&&ue(A)}l.unMount=new Set},D=(A,z)=>!e.disabled&&(A&&z&&Xe(i,A,z),!ha(V(),s)),C=(A,z,q)=>vT(A,l,{...o.mount?i:Pt(z)?s:cs(A)?{[A]:z}:z},q,z),M=A=>Am(ae(o.mount?i:s,A,e.shouldUnregister?ae(s,A,[]):[])),$=(A,z,q={})=>{const fe=ae(n,A);let oe=z;if(fe){const re=fe._f;re&&(!re.disabled&&Xe(i,A,NT(z,re)),oe=yh(re.ref)&&mr(z)?"":z,bT(re.ref)?[...re.ref.options].forEach(Ee=>Ee.selected=oe.includes(Ee.value)):re.refs?hu(re.ref)?re.refs.length>1?re.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(oe)?!!oe.find(Le=>Le===Ee.value):oe===Ee.value)):re.refs[0]&&(re.refs[0].checked=!!oe):re.refs.forEach(Ee=>Ee.checked=Ee.value===oe):v0(re.ref)?re.ref.value="":(re.ref.value=oe,re.ref.type||f.values.next({name:A,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&k(A,oe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&H(A)},B=(A,z,q)=>{for(const fe in z){const oe=z[fe],re=`${A}.${fe}`,Ee=ae(n,re);(l.array.has(A)||Lt(oe)||Ee&&!Ee._f)&&!Ni(oe)?B(re,oe,q):$(re,oe,q)}},U=(A,z,q={})=>{const fe=ae(n,A),oe=l.array.has(A),re=Sr(z);Xe(i,A,re),oe?(f.array.next({name:A,values:{...i}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&f.state.next({name:A,dirtyFields:mc(s,i),isDirty:D(A,re)})):fe&&!fe._f&&!mr(re)?B(A,re,q):$(A,re,q),N_(A,l)&&f.state.next({...r}),f.values.next({name:o.mount?A:void 0,values:{...i}})},S=async A=>{o.mount=!0;const z=A.target;let q=z.name,fe=!0;const oe=ae(n,q),re=()=>z.type?Gp(oe._f):dT(A),Ee=Le=>{fe=Number.isNaN(Le)||Ni(Le)&&isNaN(Le.getTime())||ha(Le,ae(i,q,Le))};if(oe){let Le,kt;const ht=re(),Bn=A.type===xh.BLUR||A.type===xh.FOCUS_OUT,Xs=!G9(oe._f)&&!t.resolver&&!ae(r.errors,q)&&!oe._f.deps||Q9(Bn,ae(r.touchedFields,q),r.isSubmitted,y,p),ho=N_(q,l,Bn);Xe(i,q,ht),Bn?(oe._f.onBlur&&oe._f.onBlur(A),c&&c(0)):oe._f.onChange&&oe._f.onChange(A);const Zl=k(q,ht,Bn,!1),wu=!Er(Zl)||ho;if(!Bn&&f.values.next({name:q,type:A.type,values:{...i}}),Xs)return u.isValid&&(e.mode==="onBlur"?Bn&&w():w()),wu&&f.state.next({name:q,...ho?{}:Zl});if(!Bn&&ho&&f.state.next({...r}),t.resolver){const{errors:Xl}=await E([q]);if(Ee(ht),fe){const zm=M_(r.errors,n,q),mo=M_(Xl,n,zm.name||q);Le=mo.error,q=mo.name,kt=Er(Xl)}}else v([q],!0),Le=(await T_(oe,i,x,t.shouldUseNativeValidation))[q],v([q]),Ee(ht),fe&&(Le?kt=!1:u.isValid&&(kt=await T(n,!0)));fe&&(oe._f.deps&&H(oe._f.deps),N(q,kt,Le,Zl))}},O=(A,z)=>{if(ae(r.errors,z)&&A.focus)return A.focus(),1},H=async(A,z={})=>{let q,fe;const oe=qc(A);if(t.resolver){const re=await R(Pt(A)?A:oe);q=Er(re),fe=A?!oe.some(Ee=>ae(re,Ee)):q}else A?(fe=(await Promise.all(oe.map(async re=>{const Ee=ae(n,re);return await T(Ee&&Ee._f?{[re]:Ee}:Ee)}))).every(Boolean),!(!fe&&!r.isValid)&&w()):fe=q=await T(n);return f.state.next({...!cs(A)||u.isValid&&q!==r.isValid?{}:{name:A},...t.resolver||!A?{isValid:q}:{},errors:r.errors}),z.shouldFocus&&!fe&&Hc(n,O,A?oe:l.mount),fe},V=A=>{const z={...o.mount?i:s};return Pt(A)?z:cs(A)?ae(z,A):A.map(q=>ae(z,q))},ee=(A,z)=>({invalid:!!ae((z||r).errors,A),isDirty:!!ae((z||r).dirtyFields,A),error:ae((z||r).errors,A),isValidating:!!ae(r.validatingFields,A),isTouched:!!ae((z||r).touchedFields,A)}),je=A=>{A&&qc(A).forEach(z=>Ut(r.errors,z)),f.state.next({errors:A?r.errors:{}})},Z=(A,z,q)=>{const fe=(ae(n,A,{_f:{}})._f||{}).ref,oe=ae(r.errors,A)||{},{ref:re,message:Ee,type:Le,...kt}=oe;Xe(r.errors,A,{...kt,...z,ref:fe}),f.state.next({name:A,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&fe&&fe.focus&&fe.focus()},Ne=(A,z)=>As(A)?f.values.subscribe({next:q=>A(C(void 0,z),q)}):C(A,z,!0),ue=(A,z={})=>{for(const q of A?qc(A):l.mount)l.mount.delete(q),l.array.delete(q),z.keepValue||(Ut(n,q),Ut(i,q)),!z.keepError&&Ut(r.errors,q),!z.keepDirty&&Ut(r.dirtyFields,q),!z.keepTouched&&Ut(r.touchedFields,q),!z.keepIsValidating&&Ut(r.validatingFields,q),!t.shouldUnregister&&!z.keepDefaultValue&&Ut(s,q);f.values.next({values:{...i}}),f.state.next({...r,...z.keepDirty?{isDirty:D()}:{}}),!z.keepIsValid&&w()},F=({disabled:A,name:z,field:q,fields:fe,value:oe})=>{if(an(A)&&o.mount||A){const re=A?void 0:Pt(oe)?Gp(q?q._f:ae(fe,z)._f):oe;Xe(i,z,re),k(z,re,!1,!1,!0)}},Y=(A,z={})=>{let q=ae(n,A);const fe=an(z.disabled)||an(e.disabled);return Xe(n,A,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:A}},name:A,mount:!0,...z}}),l.mount.add(A),q?F({field:q,disabled:an(z.disabled)?z.disabled:e.disabled,name:A,value:z.value}):j(A,!0,z.value),{...fe?{disabled:z.disabled||e.disabled}:{},...t.progressive?{required:!!z.required,min:pc(z.min),max:pc(z.max),minLength:pc(z.minLength),maxLength:pc(z.maxLength),pattern:pc(z.pattern)}:{},name:A,onChange:S,onBlur:S,ref:oe=>{if(oe){Y(A,z),q=ae(n,A);const re=Pt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,Ee=H9(re),Le=q._f.refs||[];if(Ee?Le.find(kt=>kt===re):re===q._f.ref)return;Xe(n,A,{_f:{...q._f,...Ee?{refs:[...Le.filter(Kp),re,...Array.isArray(ae(s,A))?[{}]:[]],ref:{type:re.type,name:A}}:{ref:re}}}),j(A,!1,void 0,re)}else q=ae(n,A,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(uT(l.array,A)&&o.action)&&l.unMount.add(A)}}},X=()=>t.shouldFocusError&&Hc(n,O,l.mount),le=A=>{an(A)&&(f.state.next({disabled:A}),Hc(n,(z,q)=>{const fe=ae(n,q);fe&&(z.disabled=fe._f.disabled||A,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(oe=>{oe.disabled=fe._f.disabled||A}))},0,!1))},we=(A,z)=>async q=>{let fe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let oe=Sr(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:Ee}=await E();r.errors=re,oe=Ee}else await T(n);if(Ut(r.errors,"root"),Er(r.errors)){f.state.next({errors:{}});try{await A(oe,q)}catch(re){fe=re}}else z&&await z({...r.errors},q),X(),setTimeout(X);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},Oe=(A,z={})=>{ae(n,A)&&(Pt(z.defaultValue)?U(A,Sr(ae(s,A))):(U(A,z.defaultValue),Xe(s,A,Sr(z.defaultValue))),z.keepTouched||Ut(r.touchedFields,A),z.keepDirty||(Ut(r.dirtyFields,A),r.isDirty=z.defaultValue?D(A,Sr(ae(s,A))):D()),z.keepError||(Ut(r.errors,A),u.isValid&&w()),f.state.next({...r}))},Dt=(A,z={})=>{const q=A?Sr(A):s,fe=Sr(q),oe=Er(A),re=oe?s:fe;if(z.keepDefaultValues||(s=q),!z.keepValues){if(z.keepDirtyValues){const Ee=new Set([...l.mount,...Object.keys(mc(s,i))]);for(const Le of Array.from(Ee))ae(r.dirtyFields,Le)?Xe(re,Le,ae(i,Le)):U(Le,ae(re,Le))}else{if(m0&&Pt(A))for(const Ee of l.mount){const Le=ae(n,Ee);if(Le&&Le._f){const kt=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(yh(kt)){const ht=kt.closest("form");if(ht){ht.reset();break}}}}n={}}i=e.shouldUnregister?z.keepDefaultValues?Sr(s):{}:Sr(re),f.array.next({values:{...re}}),f.values.next({values:{...re}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!ha(A,s)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:z.keepDirtyValues?z.keepDefaultValues&&i?mc(s,i):r.dirtyFields:z.keepDefaultValues&&A?mc(s,A):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(A,z)=>Dt(As(A)?A(i):A,z);return{control:{register:Y,unregister:ue,getFieldState:ee,handleSubmit:we,setError:Z,_executeSchema:E,_getWatch:C,_getDirty:D,_updateValid:w,_removeUnmounted:L,_updateFieldArray:h,_updateDisabledField:F,_getFieldArray:M,_reset:Dt,_resetDefaultValues:()=>As(t.defaultValues)&&t.defaultValues().then(A=>{st(A,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:A=>{r={...r,...A}},_disableForm:le,_subjects:f,_proxyFormState:u,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(A){o=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return r},set _formState(A){r=A},get _options(){return t},set _options(A){t={...t,...A}}},trigger:H,register:Y,handleSubmit:we,watch:Ne,setValue:U,getValues:V,reset:st,resetField:Oe,clearErrors:je,unregister:ue,setError:Z,setFocus:(A,z={})=>{const q=ae(n,A),fe=q&&q._f;if(fe){const oe=fe.refs?fe.refs[0]:fe.ref;oe.focus&&(oe.focus(),z.shouldSelect&&oe.select())}},getFieldState:ee}}function e7(e={}){const t=K.useRef(),r=K.useRef(),[n,s]=K.useState({isDirty:!1,isValidating:!1,isLoading:As(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:As(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...J9(e),formState:n});const i=t.current.control;return i._options=e,g0({subject:i._subjects.state,next:o=>{pT(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),K.useEffect(()=>{e.values&&!ha(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),K.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),K.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),K.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),K.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=mT(n,i),t.current}const t7=F9,ST=m.createContext({}),js=({...e})=>a.jsx(ST.Provider,{value:{name:e.name},children:a.jsx(B9,{...e})}),Lm=()=>{const e=m.useContext(ST),t=m.useContext(CT),{getFieldState:r,formState:n}=Im(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},CT=m.createContext({}),Hn=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return a.jsx(CT.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:G("space-y-2",e),...t})})});Hn.displayName="FormItem";const Yn=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Lm();return a.jsx(Q,{ref:r,className:G(n&&"text-destructive",e),htmlFor:s,...t})});Yn.displayName="FormLabel";const Kn=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Lm();return a.jsx(vr,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Kn.displayName="FormControl";const r7=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Lm();return a.jsx("p",{ref:r,id:n,className:G("text-sm text-muted-foreground",e),...t})});r7.displayName="FormDescription";const ks=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=Lm(),o=s?String(s==null?void 0:s.message):t;return o?a.jsx("p",{ref:n,id:i,className:G("text-sm font-medium text-destructive",e),...r,children:o}):null});ks.displayName="FormMessage";var y0="Checkbox",[n7,eY]=tn(y0),[s7,a7]=n7(y0),kT=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,y]=m.useState(null),x=We(t,_=>y(_)),b=m.useRef(!1),w=p?u||!!p.closest("form"):!0,[v=!1,h]=pn({prop:s,defaultProp:i,onChange:d}),g=m.useRef(v);return m.useEffect(()=>{const _=p==null?void 0:p.form;if(_){const j=()=>h(g.current);return _.addEventListener("reset",j),()=>_.removeEventListener("reset",j)}},[p,h]),a.jsxs(s7,{scope:r,state:v,disabled:l,children:[a.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Fa(v)?"mixed":v,"aria-required":o,"data-state":PT(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:se(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:se(e.onClick,_=>{h(j=>Fa(j)?!0:!j),w&&(b.current=_.isPropagationStopped(),b.current||_.stopPropagation())})}),w&&a.jsx(i7,{control:p,bubbles:!b.current,name:n,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Fa(i)?!1:i})]})});kT.displayName=y0;var ET="CheckboxIndicator",TT=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=a7(ET,r);return a.jsx(_r,{present:n||Fa(i.state)||i.state===!0,children:a.jsx(_e.span,{"data-state":PT(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});TT.displayName=ET;var i7=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=m.useRef(null),l=f0(r),c=fy(t);m.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&y){const x=new Event("click",{bubbles:n});u.indeterminate=Fa(r),y.call(u,Fa(r)?!1:r),u.dispatchEvent(x)}},[l,r,n]);const d=m.useRef(Fa(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fa(e){return e==="indeterminate"}function PT(e){return Fa(e)?"indeterminate":e?"checked":"unchecked"}var MT=kT,o7=TT;const Ks=m.forwardRef(({className:e,...t},r)=>a.jsx(MT,{ref:r,className:G("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(o7,{className:G("flex items-center justify-center text-current"),children:a.jsx(Zh,{className:"h-4 w-4"})})}));Ks.displayName=MT.displayName;const D_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},DT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?D_(n.ref,r,e):n.refs&&n.refs.forEach(s=>D_(s,r,e))}},l7=(e,t)=>{t.shouldUseNativeValidation&&DT(e,t);const r={};for(const n in e){const s=ae(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(c7(t.names||Object.keys(e),n)){const o=Object.assign({},ae(r,n));Xe(o,"root",i),Xe(r,n,o)}else Xe(r,n,i)}return r},c7=(e,t)=>e.some(r=>r.startsWith(t+"."));var d7=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=xT(o,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r},u7=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&DT({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:l7(d7(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ke;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ke||(Ke={}));var Hv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Hv||(Hv={}));const xe=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ma=e=>{switch(typeof e){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return isNaN(e)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(e)?xe.array:e===null?xe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?xe.promise:typeof Map<"u"&&e instanceof Map?xe.map:typeof Set<"u"&&e instanceof Set?xe.set:typeof Date<"u"&&e instanceof Date?xe.date:xe.object;default:return xe.unknown}},te=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),f7=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(t){if(!(t instanceof Zr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=e=>new Zr(e);const Dl=(e,t)=>{let r;switch(e.code){case te.invalid_type:e.received===xe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ke.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ke.joinValues(e.keys,", ")}`;break;case te.invalid_union:r="Invalid input";break;case te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ke.joinValues(e.options)}`;break;case te.invalid_enum_value:r=`Invalid enum value. Expected ${Ke.joinValues(e.options)}, received '${e.received}'`;break;case te.invalid_arguments:r="Invalid function arguments";break;case te.invalid_return_type:r="Invalid function return type";break;case te.invalid_date:r="Invalid date";break;case te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ke.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case te.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case te.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case te.custom:r="Invalid input";break;case te.invalid_intersection_types:r="Intersection results could not be merged";break;case te.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case te.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ke.assertNever(e)}return{message:r}};let RT=Dl;function h7(e){RT=e}function _h(){return RT}const jh=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},m7=[];function he(e,t){const r=_h(),n=jh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Dl?void 0:Dl].filter(s=>!!s)});e.common.issues.push(n)}class dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Re;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return dr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Re;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Re=Object.freeze({status:"aborted"}),Bo=e=>({status:"dirty",value:e}),yr=e=>({status:"valid",value:e}),Yv=e=>e.status==="aborted",Kv=e=>e.status==="dirty",jd=e=>e.status==="valid",Nd=e=>typeof Promise<"u"&&e instanceof Promise;function Nh(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function OT(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Se||(Se={}));var Cc,kc;class vs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const R_=(e,t)=>{if(jd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(e.common.issues);return this._error=r,this._error}}};function Ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Be{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ma(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dr,ctx:{common:t.parent.common,data:t.data,parsedType:ma(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Nd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ma(t)},i=this._parseSync({data:t,path:s.path,parent:s});return R_(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ma(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Nd(s)?s:Promise.resolve(s));return R_(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:te.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new $n({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ms.create(this,this._def)}nullable(){return Xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this,this._def)}promise(){return Ol.create(this,this._def)}or(t){return Ed.create([this,t],this._def)}and(t){return Td.create(this,t,this._def)}transform(t){return new $n({...Ie(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Od({...Ie(this._def),innerType:this,defaultValue:r,typeName:Me.ZodDefault})}brand(){return new w0({typeName:Me.ZodBranded,type:this,...Ie(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ad({...Ie(this._def),innerType:this,catchValue:r,typeName:Me.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return mu.create(this,t)}readonly(){return Id.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p7=/^c[^\s-]{8,}$/i,g7=/^[0-9a-z]+$/,v7=/^[0-9A-HJKMNP-TV-Z]{26}$/,x7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y7=/^[a-z0-9_-]{21}$/i,w7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,b7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qp;const j7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,S7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C7=new RegExp(`^${AT}$`);function IT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function k7(e){return new RegExp(`^${IT(e)}$`)}function LT(e){let t=`${AT}T${IT(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function E7(e,t){return!!((t==="v4"||!t)&&j7.test(e)||(t==="v6"||!t)&&N7.test(e))}class Tn extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==xe.string){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:xe.string,received:i.parsedType}),Re}const n=new dr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?he(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")b7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"email",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Qp||(Qp=new RegExp(_7,"u")),Qp.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"emoji",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")x7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"uuid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")y7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")p7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")g7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")v7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ulid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),he(s,{validation:"url",code:te.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"regex",code:te.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?LT(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?C7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?k7(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?w7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"duration",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?E7(t.data,i.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ip",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?S7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64",code:te.invalid_string,message:i.message}),n.dirty()):Ke.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:te.invalid_string,...Se.errToObj(n)})}_addCheck(t){return new Tn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Se.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Se.errToObj(r)})}nonempty(t){return this.min(1,Se.errToObj(t))}trim(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Tn.create=e=>{var t;return new Tn({checks:[],typeName:Me.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};function T7(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ga extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==xe.number){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:xe.number,received:i.parsedType}),Re}let n;const s=new dr;for(const i of this._def.checks)i.kind==="int"?Ke.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?T7(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_finite,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Ga({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Ga({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ke.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ga.create=e=>new Ga({checks:[],typeName:Me.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Qa extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==xe.bigint){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:xe.bigint,received:i.parsedType}),Re}let n;const s=new dr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Qa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Qa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Qa.create=e=>{var t;return new Qa({checks:[],typeName:Me.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};class Sd extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==xe.boolean){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.boolean,received:n.parsedType}),Re}return yr(t.data)}}Sd.create=e=>new Sd({typeName:Me.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Qi extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==xe.date){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:xe.date,received:i.parsedType}),Re}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_date}),Re}const n=new dr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ke.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qi({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Qi.create=e=>new Qi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Me.ZodDate,...Ie(e)});class Sh extends Be{_parse(t){if(this._getType(t)!==xe.symbol){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.symbol,received:n.parsedType}),Re}return yr(t.data)}}Sh.create=e=>new Sh({typeName:Me.ZodSymbol,...Ie(e)});class Cd extends Be{_parse(t){if(this._getType(t)!==xe.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.undefined,received:n.parsedType}),Re}return yr(t.data)}}Cd.create=e=>new Cd({typeName:Me.ZodUndefined,...Ie(e)});class kd extends Be{_parse(t){if(this._getType(t)!==xe.null){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.null,received:n.parsedType}),Re}return yr(t.data)}}kd.create=e=>new kd({typeName:Me.ZodNull,...Ie(e)});class Rl extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return yr(t.data)}}Rl.create=e=>new Rl({typeName:Me.ZodAny,...Ie(e)});class Ai extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yr(t.data)}}Ai.create=e=>new Ai({typeName:Me.ZodUnknown,...Ie(e)});class Gs extends Be{_parse(t){const r=this._getOrReturnCtx(t);return he(r,{code:te.invalid_type,expected:xe.never,received:r.parsedType}),Re}}Gs.create=e=>new Gs({typeName:Me.ZodNever,...Ie(e)});class Ch extends Be{_parse(t){if(this._getType(t)!==xe.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.void,received:n.parsedType}),Re}return yr(t.data)}}Ch.create=e=>new Ch({typeName:Me.ZodVoid,...Ie(e)});class Dn extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==xe.array)return he(r,{code:te.invalid_type,expected:xe.array,received:r.parsedType}),Re;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(he(r,{code:o?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(he(r,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(he(r,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new vs(r,o,r.path,l)))).then(o=>dr.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new vs(r,o,r.path,l)));return dr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Dn({...this._def,minLength:{value:t,message:Se.toString(r)}})}max(t,r){return new Dn({...this._def,maxLength:{value:t,message:Se.toString(r)}})}length(t,r){return new Dn({...this._def,exactLength:{value:t,message:Se.toString(r)}})}nonempty(t){return this.min(1,t)}}Dn.create=(e,t)=>new Dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Ie(t)});function Eo(e){if(e instanceof _t){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ms.create(Eo(n))}return new _t({...e._def,shape:()=>t})}else return e instanceof Dn?new Dn({...e._def,type:Eo(e.element)}):e instanceof ms?ms.create(Eo(e.unwrap())):e instanceof Xa?Xa.create(Eo(e.unwrap())):e instanceof xs?xs.create(e.items.map(t=>Eo(t))):e}class _t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ke.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==xe.object){const d=this._getOrReturnCtx(t);return he(d,{code:te.invalid_type,expected:xe.object,received:d.parsedType}),Re}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vs(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Gs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(he(s,{code:te.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vs(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,p=await u.value;d.push({key:f,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>dr.mergeObjectSync(n,d)):dr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Se.errToObj,new _t({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Se.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(t){return new _t({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _t({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new _t({...this._def,catchall:t})}pick(t){const r={};return Ke.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new _t({...this._def,shape:()=>r})}omit(t){const r={};return Ke.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new _t({...this._def,shape:()=>r})}deepPartial(){return Eo(this)}partial(t){const r={};return Ke.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new _t({...this._def,shape:()=>r})}required(t){const r={};return Ke.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ms;)i=i._def.innerType;r[n]=i}}),new _t({...this._def,shape:()=>r})}keyof(){return FT(Ke.objectKeys(this.shape))}}_t.create=(e,t)=>new _t({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:Me.ZodObject,...Ie(t)});_t.strictCreate=(e,t)=>new _t({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:Me.ZodObject,...Ie(t)});_t.lazycreate=(e,t)=>new _t({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:Me.ZodObject,...Ie(t)});class Ed extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Zr(l.ctx.common.issues));return he(r,{code:te.invalid_union,unionErrors:o}),Re}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Zr(c));return he(r,{code:te.invalid_union,unionErrors:l}),Re}}get options(){return this._def.options}}Ed.create=(e,t)=>new Ed({options:e,typeName:Me.ZodUnion,...Ie(t)});const Es=e=>e instanceof Md?Es(e.schema):e instanceof $n?Es(e.innerType()):e instanceof Dd?[e.value]:e instanceof Za?e.options:e instanceof Rd?Ke.objectValues(e.enum):e instanceof Od?Es(e._def.innerType):e instanceof Cd?[void 0]:e instanceof kd?[null]:e instanceof ms?[void 0,...Es(e.unwrap())]:e instanceof Xa?[null,...Es(e.unwrap())]:e instanceof w0||e instanceof Id?Es(e.unwrap()):e instanceof Ad?Es(e._def.innerType):[];class Fm extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.object)return he(r,{code:te.invalid_type,expected:xe.object,received:r.parsedType}),Re;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(he(r,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=Es(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Fm({typeName:Me.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ie(n)})}}function Gv(e,t){const r=ma(e),n=ma(t);if(e===t)return{valid:!0,data:e};if(r===xe.object&&n===xe.object){const s=Ke.objectKeys(t),i=Ke.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Gv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===xe.array&&n===xe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Gv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===xe.date&&n===xe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Td extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Yv(i)||Yv(o))return Re;const l=Gv(i.value,o.value);return l.valid?((Kv(i)||Kv(o))&&r.dirty(),{status:r.value,value:l.data}):(he(n,{code:te.invalid_intersection_types}),Re)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Td.create=(e,t,r)=>new Td({left:e,right:t,typeName:Me.ZodIntersection,...Ie(r)});class xs extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.array)return he(n,{code:te.invalid_type,expected:xe.array,received:n.parsedType}),Re;if(n.data.length<this._def.items.length)return he(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new vs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>dr.mergeArray(r,o)):dr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new xs({...this._def,rest:t})}}xs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xs({items:e,typeName:Me.ZodTuple,rest:null,...Ie(t)})};class Pd extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.object)return he(n,{code:te.invalid_type,expected:xe.object,received:n.parsedType}),Re;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new vs(n,l,n.path,l)),value:o._parse(new vs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?dr.mergeObjectAsync(r,s):dr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new Pd({keyType:t,valueType:r,typeName:Me.ZodRecord,...Ie(n)}):new Pd({keyType:Tn.create(),valueType:t,typeName:Me.ZodRecord,...Ie(r)})}}class kh extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.map)return he(n,{code:te.invalid_type,expected:xe.map,received:n.parsedType}),Re;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new vs(n,l,n.path,[d,"key"])),value:i._parse(new vs(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Re;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Re;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}kh.create=(e,t,r)=>new kh({valueType:t,keyType:e,typeName:Me.ZodMap,...Ie(r)});class Zi extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.set)return he(n,{code:te.invalid_type,expected:xe.set,received:n.parsedType}),Re;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(he(n,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(he(n,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Re;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new vs(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Zi({...this._def,minSize:{value:t,message:Se.toString(r)}})}max(t,r){return new Zi({...this._def,maxSize:{value:t,message:Se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Zi.create=(e,t)=>new Zi({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...Ie(t)});class el extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.function)return he(r,{code:te.invalid_type,expected:xe.function,received:r.parsedType}),Re;function n(l,c){return jh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_h(),Dl].filter(d=>!!d),issueData:{code:te.invalid_arguments,argumentsError:c}})}function s(l,c){return jh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_h(),Dl].filter(d=>!!d),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ol){const l=this;return yr(async function(...c){const d=new Zr([]),u=await l._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(n(c,y)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(y=>{throw d.addIssue(s(f,y)),d})})}else{const l=this;return yr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Zr([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new Zr([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new el({...this._def,args:xs.create(t).rest(Ai.create())})}returns(t){return new el({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new el({args:t||xs.create([]).rest(Ai.create()),returns:r||Ai.create(),typeName:Me.ZodFunction,...Ie(n)})}}class Md extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Md.create=(e,t)=>new Md({getter:e,typeName:Me.ZodLazy,...Ie(t)});class Dd extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return he(r,{received:r.data,code:te.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:t.data}}get value(){return this._def.value}}Dd.create=(e,t)=>new Dd({value:e,typeName:Me.ZodLiteral,...Ie(t)});function FT(e,t){return new Za({values:e,typeName:Me.ZodEnum,...Ie(t)})}class Za extends Be{constructor(){super(...arguments),Cc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{expected:Ke.joinValues(n),received:r.parsedType,code:te.invalid_type}),Re}if(Nh(this,Cc)||OT(this,Cc,new Set(this._def.values)),!Nh(this,Cc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{received:r.data,code:te.invalid_enum_value,options:n}),Re}return yr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Za.create(t,{...this._def,...r})}exclude(t,r=this._def){return Za.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Cc=new WeakMap;Za.create=FT;class Rd extends Be{constructor(){super(...arguments),kc.set(this,void 0)}_parse(t){const r=Ke.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==xe.string&&n.parsedType!==xe.number){const s=Ke.objectValues(r);return he(n,{expected:Ke.joinValues(s),received:n.parsedType,code:te.invalid_type}),Re}if(Nh(this,kc)||OT(this,kc,new Set(Ke.getValidEnumValues(this._def.values))),!Nh(this,kc).has(t.data)){const s=Ke.objectValues(r);return he(n,{received:n.data,code:te.invalid_enum_value,options:s}),Re}return yr(t.data)}get enum(){return this._def.values}}kc=new WeakMap;Rd.create=(e,t)=>new Rd({values:e,typeName:Me.ZodNativeEnum,...Ie(t)});class Ol extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.promise&&r.common.async===!1)return he(r,{code:te.invalid_type,expected:xe.promise,received:r.parsedType}),Re;const n=r.parsedType===xe.promise?r.data:Promise.resolve(r.data);return yr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ol.create=(e,t)=>new Ol({type:e,typeName:Me.ZodPromise,...Ie(t)});class $n extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{he(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Re;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Re:c.status==="dirty"||r.value==="dirty"?Bo(c.value):c});{if(r.value==="aborted")return Re;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Re:l.status==="dirty"||r.value==="dirty"?Bo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Re:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Re:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jd(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>jd(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Ke.assertNever(s)}}$n.create=(e,t,r)=>new $n({schema:e,typeName:Me.ZodEffects,effect:t,...Ie(r)});$n.createWithPreprocess=(e,t,r)=>new $n({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...Ie(r)});class ms extends Be{_parse(t){return this._getType(t)===xe.undefined?yr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ms.create=(e,t)=>new ms({innerType:e,typeName:Me.ZodOptional,...Ie(t)});class Xa extends Be{_parse(t){return this._getType(t)===xe.null?yr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xa.create=(e,t)=>new Xa({innerType:e,typeName:Me.ZodNullable,...Ie(t)});class Od extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===xe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Od.create=(e,t)=>new Od({innerType:e,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ie(t)});class Ad extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Nd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ad.create=(e,t)=>new Ad({innerType:e,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ie(t)});class Eh extends Be{_parse(t){if(this._getType(t)!==xe.nan){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:xe.nan,received:n.parsedType}),Re}return{status:"valid",value:t.data}}}Eh.create=e=>new Eh({typeName:Me.ZodNaN,...Ie(e)});const P7=Symbol("zod_brand");class w0 extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class mu extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Re:i.status==="dirty"?(r.dirty(),Bo(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Re:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new mu({in:t,out:r,typeName:Me.ZodPipeline})}}class Id extends Be{_parse(t){const r=this._def.innerType._parse(t),n=s=>(jd(s)&&(s.value=Object.freeze(s.value)),s);return Nd(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Id.create=(e,t)=>new Id({innerType:e,typeName:Me.ZodReadonly,...Ie(t)});function $T(e,t={},r){return e?Rl.create().superRefine((n,s)=>{var i,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:c})}}):Rl.create()}const M7={object:_t.lazycreate};var Me;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Me||(Me={}));const D7=(e,t={message:`Input not instance of ${e.name}`})=>$T(r=>r instanceof e,t),Qn=Tn.create,UT=Ga.create,R7=Eh.create,O7=Qa.create,b0=Sd.create,A7=Qi.create,I7=Sh.create,L7=Cd.create,F7=kd.create,$7=Rl.create,U7=Ai.create,z7=Gs.create,B7=Ch.create,V7=Dn.create,zT=_t.create,W7=_t.strictCreate,q7=Ed.create,H7=Fm.create,Y7=Td.create,K7=xs.create,G7=Pd.create,Q7=kh.create,Z7=Zi.create,X7=el.create,J7=Md.create,eV=Dd.create,tV=Za.create,rV=Rd.create,nV=Ol.create,O_=$n.create,sV=ms.create,aV=Xa.create,iV=$n.createWithPreprocess,oV=mu.create,lV=()=>Qn().optional(),cV=()=>UT().optional(),dV=()=>b0().optional(),uV={string:e=>Tn.create({...e,coerce:!0}),number:e=>Ga.create({...e,coerce:!0}),boolean:e=>Sd.create({...e,coerce:!0}),bigint:e=>Qa.create({...e,coerce:!0}),date:e=>Qi.create({...e,coerce:!0})},fV=Re;var Ve=Object.freeze({__proto__:null,defaultErrorMap:Dl,setErrorMap:h7,getErrorMap:_h,makeIssue:jh,EMPTY_PATH:m7,addIssueToContext:he,ParseStatus:dr,INVALID:Re,DIRTY:Bo,OK:yr,isAborted:Yv,isDirty:Kv,isValid:jd,isAsync:Nd,get util(){return Ke},get objectUtil(){return Hv},ZodParsedType:xe,getParsedType:ma,ZodType:Be,datetimeRegex:LT,ZodString:Tn,ZodNumber:Ga,ZodBigInt:Qa,ZodBoolean:Sd,ZodDate:Qi,ZodSymbol:Sh,ZodUndefined:Cd,ZodNull:kd,ZodAny:Rl,ZodUnknown:Ai,ZodNever:Gs,ZodVoid:Ch,ZodArray:Dn,ZodObject:_t,ZodUnion:Ed,ZodDiscriminatedUnion:Fm,ZodIntersection:Td,ZodTuple:xs,ZodRecord:Pd,ZodMap:kh,ZodSet:Zi,ZodFunction:el,ZodLazy:Md,ZodLiteral:Dd,ZodEnum:Za,ZodNativeEnum:Rd,ZodPromise:Ol,ZodEffects:$n,ZodTransformer:$n,ZodOptional:ms,ZodNullable:Xa,ZodDefault:Od,ZodCatch:Ad,ZodNaN:Eh,BRAND:P7,ZodBranded:w0,ZodPipeline:mu,ZodReadonly:Id,custom:$T,Schema:Be,ZodSchema:Be,late:M7,get ZodFirstPartyTypeKind(){return Me},coerce:uV,any:$7,array:V7,bigint:O7,boolean:b0,date:A7,discriminatedUnion:H7,effect:O_,enum:tV,function:X7,instanceof:D7,intersection:Y7,lazy:J7,literal:eV,map:Q7,nan:R7,nativeEnum:rV,never:z7,null:F7,nullable:aV,number:UT,object:zT,oboolean:dV,onumber:cV,optional:sV,ostring:lV,pipeline:oV,preprocess:iV,promise:nV,record:G7,set:Z7,strictObject:W7,string:Qn,symbol:I7,transformer:O_,tuple:K7,undefined:L7,union:q7,unknown:U7,void:B7,NEVER:fV,ZodIssueCode:te,quotelessJson:f7,ZodError:Zr});const hV=zT({name:Qn().min(1,"Name is required"),description:Qn().optional(),type:Qn().min(1,"Type is required"),price:Qn().optional(),age_group:Qn().min(1,"Age group is required"),level:Qn().min(1,"Level is required"),max_participants:Qn().optional(),duration_weeks:Qn().optional(),available_for_purchase:b0().default(!1)}),mV=({onNavigateToOverview:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),{toast:d}=Qe(),u=e7({resolver:u7(hV),defaultValues:{name:"",description:"",type:"class",price:"",age_group:"",level:"",max_participants:"15",duration_weeks:"",available_for_purchase:!1}}),f=async()=>{try{const{data:g,error:_}=await P.from("products").select("*").order("created_at",{ascending:!1});if(_)throw _;r(g||[])}catch(g){console.error("Error fetching products:",g),d({title:"Error",description:"Failed to fetch products",variant:"destructive"})}finally{s(!1)}};m.useEffect(()=>{f()},[]);const p=async g=>{try{const _={name:g.name,description:g.description||null,type:g.type,price:g.price?parseFloat(g.price):null,age_group:g.age_group,level:g.level,max_participants:g.max_participants?parseInt(g.max_participants):null,duration_weeks:g.duration_weeks?parseInt(g.duration_weeks):null,available_for_purchase:g.available_for_purchase};if(l){const{error:j}=await P.from("products").update(_).eq("id",l.id);if(j)throw j;d({title:"Success",description:"Product updated successfully"})}else{const{error:j}=await P.from("products").insert([_]);if(j)throw j;d({title:"Success",description:"Product created successfully"})}o(!1),c(null),u.reset(),f()}catch(_){console.error("Error saving product:",_),d({title:"Error",description:"Failed to save product",variant:"destructive"})}},y=g=>{var _,j,k;c(g),u.reset({name:g.name,description:g.description||"",type:g.type,price:((_=g.price)==null?void 0:_.toString())||"",age_group:g.age_group,level:g.level,max_participants:((j=g.max_participants)==null?void 0:j.toString())||"",duration_weeks:((k=g.duration_weeks)==null?void 0:k.toString())||"",available_for_purchase:g.available_for_purchase}),o(!0)},x=async g=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:_}=await P.from("products").delete().eq("id",g);if(_)throw _;d({title:"Success",description:"Product deleted successfully"}),f()}catch(_){console.error("Error deleting product:",_),d({title:"Error",description:"Failed to delete product",variant:"destructive"})}},b=async(g,_)=>{try{const{error:j}=await P.from("products").update({is_active:!_}).eq("id",g);if(j)throw j;d({title:"Success",description:`Product ${_?"deactivated":"activated"} successfully`}),f()}catch(j){console.error("Error updating product status:",j),d({title:"Error",description:"Failed to update product status",variant:"destructive"})}},w=g=>g?g.replace(/<[^>]*>/g,"").trim():"",v=(g,_=150)=>{if(!g)return"";const j=w(g);return j.length>_?j.substring(0,_)+"...":j},h=g=>{if(!g)return[];const _=w(g),j=_.split(/\n|•|-|\*/).map(k=>k.trim()).filter(Boolean);return j.length>1?j:[_]};return n?a.jsx("div",{className:"flex justify-center items-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end",children:a.jsxs(gs,{open:i,onOpenChange:o,children:[a.jsx(bd,{asChild:!0,children:a.jsxs(W,{onClick:()=>{c(null),u.reset()},size:"sm",className:"flex-shrink-0",children:[a.jsx(Ls,{className:"h-4 w-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Product"})]})}),a.jsxs(In,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Ln,{children:[a.jsx(Fn,{children:l?"Edit Product":"Create New Product"}),a.jsx(Ka,{children:l?"Update product details":"Add a new class, camp, or program"})]}),a.jsx(t7,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(p),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(js,{control:u.control,name:"name",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Name"}),a.jsx(Kn,{children:a.jsx(ce,{placeholder:"Product name",...g})}),a.jsx(ks,{})]})}),a.jsx(js,{control:u.control,name:"type",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Type"}),a.jsxs(at,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Kn,{children:a.jsx(tt,{children:a.jsx(it,{placeholder:"Select type"})})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"class",children:"Class"}),a.jsx(pe,{value:"summer_camp",children:"Summer Camp"}),a.jsx(pe,{value:"workshop",children:"Workshop"}),a.jsx(pe,{value:"program",children:"Program"})]})]}),a.jsx(ks,{})]})})]}),a.jsx(js,{control:u.control,name:"description",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Description"}),a.jsx(Kn,{children:a.jsx(ws,{placeholder:"Product description",...g})}),a.jsx(ks,{})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(js,{control:u.control,name:"age_group",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Age Group"}),a.jsx(Kn,{children:a.jsx(ce,{placeholder:"e.g., 8-12",...g})}),a.jsx(ks,{})]})}),a.jsx(js,{control:u.control,name:"level",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Level"}),a.jsxs(at,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Kn,{children:a.jsx(tt,{children:a.jsx(it,{placeholder:"Select level"})})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"beginner",children:"Beginner"}),a.jsx(pe,{value:"intermediate",children:"Intermediate"}),a.jsx(pe,{value:"advanced",children:"Advanced"})]})]}),a.jsx(ks,{})]})}),a.jsx(js,{control:u.control,name:"price",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Price ($)"}),a.jsx(Kn,{children:a.jsx(ce,{placeholder:"0.00",type:"number",step:"0.01",...g})}),a.jsx(ks,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(js,{control:u.control,name:"max_participants",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Max Participants"}),a.jsx(Kn,{children:a.jsx(ce,{placeholder:"15",type:"number",...g})}),a.jsx(ks,{})]})}),a.jsx(js,{control:u.control,name:"duration_weeks",render:({field:g})=>a.jsxs(Hn,{children:[a.jsx(Yn,{children:"Duration (weeks)"}),a.jsx(Kn,{children:a.jsx(ce,{placeholder:"8",type:"number",...g})}),a.jsx(ks,{})]})})]}),a.jsx(js,{control:u.control,name:"available_for_purchase",render:({field:g})=>a.jsxs(Hn,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Kn,{children:a.jsx(Ks,{checked:g.value,onCheckedChange:g.onChange})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsx(Yn,{children:"Available for Parent Purchase"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow parents to purchase this product"})]})]})}),a.jsx(Mm,{children:a.jsx(W,{type:"submit",children:l?"Update Product":"Create Product"})})]})})]})]})}),a.jsx("div",{children:t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Kd,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Products Found"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first product to get started with managing your programs."}),a.jsxs(W,{onClick:()=>{c(null),u.reset(),o(!0)},children:[a.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Create First Product"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>{var _;return a.jsxs(ne,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-200 h-[420px] flex flex-col",children:[a.jsx(ke,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Te,{className:"text-lg line-clamp-2 mb-2",children:g.name}),a.jsxs("div",{className:"flex gap-2 flex-wrap mb-2",children:[a.jsx(be,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Inactive"}),a.jsx(be,{variant:"outline",className:"capitalize",children:g.type}),g.available_for_purchase&&a.jsx(be,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:"For Sale"})]})]}),a.jsxs($2,{children:[a.jsx(U2,{asChild:!0,children:a.jsx(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(lR,{className:"h-4 w-4"})})}),a.jsxs(l0,{align:"end",children:[a.jsxs(Oi,{onClick:()=>y(g),children:[a.jsx(eh,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsx(Oi,{onClick:()=>b(g.id,g.is_active),children:g.is_active?"Deactivate":"Activate"}),a.jsxs(Oi,{onClick:()=>x(g.id),className:"text-destructive",children:[a.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),a.jsxs(ie,{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[g.description?a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:(()=>{const j=h(g.description);return j.length>1?a.jsxs("div",{className:"space-y-1",children:[j.slice(0,3).map((k,N)=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/60 mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-xs leading-relaxed",children:k})]},N)),j.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground/80 italic",children:["+",j.length-3," more features..."]})]}):a.jsx("p",{className:"text-xs leading-relaxed",children:v(g.description)})})()}),w(g.description).length>150&&a.jsxs(gs,{children:[a.jsx(bd,{asChild:!0,children:a.jsxs(W,{variant:"link",className:"p-0 h-auto text-primary text-xs",children:[a.jsx(gn,{className:"h-3 w-3 mr-1"}),"View Full Details"]})}),a.jsxs(In,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Ln,{children:[a.jsx(Fn,{className:"text-xl",children:g.name}),a.jsx(Ka,{children:a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(be,{variant:"outline",className:"capitalize",children:g.type}),a.jsx(be,{variant:"secondary",children:g.level}),a.jsxs(be,{variant:"outline",children:["Age: ",g.age_group]}),g.price&&a.jsxs(be,{variant:"outline",className:"text-primary",children:["$",g.price]})]})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Program Overview"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground space-y-3",children:((_=g.description)==null?void 0:_.replace(/<[^>]*>/g,""))||"No description available"}),(g.max_participants||g.duration_weeks)&&a.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2 text-foreground",children:"Program Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[g.duration_weeks&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{children:[g.duration_weeks," weeks duration"]})]}),g.max_participants&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{children:["Max ",g.max_participants," students"]})]})]})]})]})]})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground mb-4 italic",children:"No description available"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Age: ",g.age_group]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(be,{variant:"outline",className:"text-xs",children:g.level})}),g.price&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WN,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"font-semibold text-primary",children:["$",g.price]})]}),g.max_participants&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Max: ",g.max_participants]})]}),g.duration_weeks&&a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",g.duration_weeks," weeks"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(g.id,g.is_active),className:"flex-1",children:g.is_active?"Deactivate":"Activate"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>y(g),className:"flex-1",children:[a.jsx(eh,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})]},g.id)})})})]})};class pV{async syncProducts(t){try{console.log("Starting WooCommerce sync with config:",{storeUrl:t.storeUrl});const{data:r,error:n}=await P.functions.invoke("sync-woocommerce",{body:{config:t}});if(n)throw console.error("Supabase function error:",n),new Error(n.message||"Failed to invoke sync function");return console.log("Sync function response:",r),r}catch(r){throw console.error("Sync error:",r),r}}async getLocalProducts(t={}){let r=P.from("woocommerce_products").select("*").order("name");t.search&&(r=r.or(`name.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t.status&&t.status!=="all"&&(r=r.eq("status",t.status)),t.stock_status&&t.stock_status!=="all"&&(r=r.eq("stock_status",t.stock_status)),t.limit&&(r=r.limit(t.limit)),t.offset&&(r=r.range(t.offset,t.offset+(t.limit||10)-1));const{data:n,error:s}=await r;if(s)throw new Error(`Failed to fetch products: ${s.message}`);return n||[]}async getSyncLogs(t=10){const{data:r,error:n}=await P.from("woocommerce_sync_log").select("*").order("created_at",{ascending:!1}).limit(t);if(n)throw new Error(`Failed to fetch sync logs: ${n.message}`);return r||[]}async getProductCount(){const{count:t,error:r}=await P.from("woocommerce_products").select("*",{count:"exact",head:!0});if(r)throw new Error(`Failed to get product count: ${r.message}`);return t||0}}const Sf=new pV,BT=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:G("w-full caption-bottom text-sm",e),...t})}));BT.displayName="Table";const VT=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:G("[&_tr]:border-b",e),...t}));VT.displayName="TableHeader";const WT=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:G("[&_tr:last-child]:border-0",e),...t}));WT.displayName="TableBody";const gV=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:G("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));gV.displayName="TableFooter";const Qv=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:G("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Qv.displayName="TableRow";const vi=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:G("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vi.displayName="TableHead";const xi=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:G("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xi.displayName="TableCell";const vV=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:G("mt-4 text-sm text-muted-foreground",e),...t}));vV.displayName="TableCaption";const qT=({onNavigateToOverview:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState("all"),[f,p]=m.useState("all"),[y,x]=m.useState(new Set),[b,w]=m.useState({}),[v,h]=m.useState([]),{toast:g}=Qe(),_=oi(),j=async()=>{try{o(!0);const C=await Sf.getLocalProducts({limit:100});r(C),s(C);const M=new Set;C.forEach($=>{$.categories&&Array.isArray($.categories)&&$.categories.forEach(B=>{B.name&&M.add(B.name)})}),h(Array.from(M))}catch(C){console.error("Error fetching WooCommerce products:",C),g({title:"Error",description:"Failed to fetch WooCommerce products",variant:"destructive"})}finally{o(!1)}},k=async C=>{try{const{data:M,error:$}=await P.from("products").select("available_for_purchase").eq("name",C).eq("type","woocommerce_product").maybeSingle();return $&&$.code!=="PGRST116"?(console.error("Error checking product availability:",$),!1):(M==null?void 0:M.available_for_purchase)||!1}catch(M){return console.error("Error checking product availability:",M),!1}},N=async()=>{const C={};for(const M of n)C[M.id]=await k(M.name);w(C)},E=()=>{let C=t;l&&(C=C.filter(M=>M.name.toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(C=C.filter(M=>M.status===d)),f!=="all"&&(C=C.filter(M=>M.categories&&Array.isArray(M.categories)?M.categories.some($=>$.name===f):!1)),s(C)};m.useEffect(()=>{j()},[]),m.useEffect(()=>{E()},[l,d,f,t]),m.useEffect(()=>{n.length>0&&N()},[n]);const R=async(C,M)=>{x($=>new Set($.add(C)));try{const $=t.find(O=>O.id===C);if(!$)return;const B=!M,{data:U,error:S}=await P.from("products").select("id").eq("name",$.name).eq("type","woocommerce_product").maybeSingle();if(S&&S.code!=="PGRST116")throw S;if(U){const{error:O}=await P.from("products").update({available_for_purchase:B,price:$.price,description:$.description||$.short_description,updated_at:new Date().toISOString()}).eq("id",U.id);if(O)throw O}else{const{error:O}=await P.from("products").insert({name:$.name,description:$.description||$.short_description,type:"woocommerce_product",price:$.price,age_group:"All Ages",level:"All Levels",available_for_purchase:B,is_active:!0,created_by:null});if(O)throw O}w(O=>({...O,[C]:B})),g({title:"Success",description:`Product ${B?"enabled":"disabled"} for parent purchase`})}catch($){console.error("Error updating product availability:",$),g({title:"Error",description:"Failed to update product availability",variant:"destructive"})}finally{x($=>{const B=new Set($);return B.delete(C),B})}},T=C=>C?C.replace(/<[^>]*>/g,"").trim():"",L=C=>C.images&&Array.isArray(C.images)&&C.images.length>0?C.images[0].src||C.images[0].url:null,D=C=>C.categories&&Array.isArray(C.categories)?C.categories.map(M=>M.name).join(", "):"No categories";return i?a.jsx("div",{className:"flex justify-center items-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage which WooCommerce products are available for parent purchase"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap",children:[a.jsx("div",{className:"flex-1 min-w-full sm:min-w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(gR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(ce,{placeholder:"Search by product name...",value:l,onChange:C=>c(C.target.value),className:"pl-10"})]})}),a.jsxs(at,{value:d,onValueChange:u,children:[a.jsx(tt,{className:"w-full sm:w-48",children:a.jsx(it,{placeholder:"Filter by status"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Status"}),a.jsx(pe,{value:"publish",children:"Published"}),a.jsx(pe,{value:"draft",children:"Draft"}),a.jsx(pe,{value:"private",children:"Private"})]})]}),a.jsxs(at,{value:f,onValueChange:p,children:[a.jsx(tt,{className:"w-full sm:w-48",children:a.jsx(it,{placeholder:"Filter by category"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Categories"}),v.map(C=>a.jsx(pe,{value:C,children:C},C))]})]})]}),a.jsx("div",{children:n.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:t.length===0?"No WooCommerce products found. Sync your store first.":"No products match your current filters."})}):_?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(C=>a.jsx(ne,{className:"overflow-hidden",children:a.jsx(ie,{className:"p-3",children:a.jsxs("div",{className:"flex gap-3",children:[L(C)&&a.jsx("img",{src:L(C),alt:C.name,className:"w-20 h-20 object-cover rounded border flex-shrink-0",onError:M=>{M.target.style.display="none"}}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm truncate",children:C.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm font-semibold",children:C.price?`$${C.price}`:"Free"}),a.jsx(be,{variant:C.status==="publish"?"default":"secondary",className:"text-xs",children:C.status})]})]}),(C.short_description||C.description)&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:T(C.short_description||C.description||"")}),a.jsx("div",{className:"flex flex-wrap gap-1",children:C.categories&&Array.isArray(C.categories)&&C.categories.slice(0,2).map((M,$)=>a.jsx(be,{variant:"outline",className:"text-xs",children:M.name},$))}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{checked:b[C.id]||!1,disabled:y.has(C.id),onCheckedChange:()=>R(C.id,b[C.id])}),a.jsx("span",{className:"text-xs",children:b[C.id]?a.jsx("span",{className:"text-green-600",children:"Available"}):a.jsx("span",{className:"text-muted-foreground",children:"Hidden"})})]}),a.jsx(W,{variant:"outline",size:"sm",disabled:y.has(C.id),onClick:()=>R(C.id,b[C.id]),className:"h-8 px-3",children:y.has(C.id)?a.jsx("span",{className:"text-xs",children:"..."}):b[C.id]?a.jsx(Fs,{className:"h-3 w-3"}):a.jsx(Zh,{className:"h-3 w-3"})})]})]})]})})},C.id))}):a.jsxs(BT,{children:[a.jsx(VT,{children:a.jsxs(Qv,{children:[a.jsx(vi,{children:"Product"}),a.jsx(vi,{children:"Price"}),a.jsx(vi,{children:"Status"}),a.jsx(vi,{children:"Categories"}),a.jsx(vi,{children:"Available for Purchase"}),a.jsx(vi,{children:"Actions"})]})}),a.jsx(WT,{children:n.map(C=>a.jsxs(Qv,{children:[a.jsx(xi,{children:a.jsxs("div",{className:"flex items-start gap-3",children:[L(C)&&a.jsx("img",{src:L(C),alt:C.name,className:"w-16 h-16 object-cover rounded border",onError:M=>{M.target.style.display="none"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm",children:C.name}),(C.short_description||C.description)&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[T(C.short_description||C.description||"").substring(0,120),T(C.short_description||C.description||"").length>120&&"..."]})]})]})}),a.jsx(xi,{children:a.jsxs("div",{className:"text-sm",children:[C.price?`$${C.price}`:"Free",C.sale_price&&C.regular_price&&a.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["$",C.regular_price]})]})}),a.jsx(xi,{children:a.jsx(be,{variant:C.status==="publish"?"default":"secondary",children:C.status})}),a.jsx(xi,{children:a.jsx("div",{className:"text-xs text-gray-600",children:D(C)})}),a.jsx(xi,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{checked:b[C.id]||!1,disabled:y.has(C.id),onCheckedChange:()=>R(C.id,b[C.id])}),a.jsx("span",{className:"text-sm",children:b[C.id]?a.jsx("span",{className:"text-green-600",children:"Available to Parents"}):a.jsx("span",{className:"text-gray-500",children:"Not Available"})})]})}),a.jsx(xi,{children:a.jsx(W,{variant:"outline",size:"sm",disabled:y.has(C.id),onClick:()=>R(C.id,b[C.id]),children:y.has(C.id)?"Updating...":b[C.id]?"Disable":"Enable"})})]},C.id))})]})})]})};class xV{constructor(){ge(this,"isDevelopment",!1)}sanitizeLogData(t){if(!t||typeof t!="object")return t;const r=["password","token","secret","key","authorization","credential","session","cookie","email","phone"],n={...t},s=i=>{if(Array.isArray(i))return i.map(o=>s(o));if(i&&typeof i=="object"){const o={...i};return Object.keys(o).forEach(l=>{const c=l.toLowerCase();r.some(d=>c.includes(d))?o[l]="[REDACTED]":typeof o[l]=="object"&&(o[l]=s(o[l]))}),o}return i};return s(n)}log(t,r,n){const s={level:t,message:r,data:this.isDevelopment?this.sanitizeLogData(n):void 0,timestamp:new Date().toISOString()};this.isDevelopment&&console[t==="debug"?"log":t](`[${s.timestamp}] ${t.toUpperCase()}: ${r}`,s.data||"")}debug(t,r){this.log("debug",t,r)}info(t,r){this.log("info",t,r)}warn(t,r){this.log("warn",t,r)}error(t,r){this.log("error",t,r)}logSecurityEvent(t,r){this.warn(`SECURITY EVENT: ${t}`,this.sanitizeLogData(r))}logAuthEvent(t,r,n){this.info(`AUTH EVENT: ${t}`,{userId:r||"[anonymous]",...this.sanitizeLogData(n)})}logApiCall(t,r,n,s){this.info(`API CALL: ${r} ${t}`,{success:n,...this.sanitizeLogData(s)})}}const rf=new xV,yV=({onNavigateToOverview:e})=>{const[t,r]=m.useState({storeUrl:"",consumerKey:"",consumerSecret:""}),[n,s]=m.useState(!1),[i,o]=m.useState([]),[l,c]=m.useState(0),{toast:d}=Qe();m.useEffect(()=>{rf.warn("WooCommerce integration requires secure credential configuration via Supabase edge functions"),u(),f()},[]);const u=async()=>{try{const w=await Sf.getSyncLogs(5);o(w)}catch(w){rf.error("Error fetching sync logs",{error:w instanceof Error?w.message:"Unknown error"})}},f=async()=>{try{const w=await Sf.getProductCount();c(w)}catch(w){rf.error("Error fetching product count",{error:w instanceof Error?w.message:"Unknown error"})}},p=(w,v)=>{const h={...t,[w]:v};r(h)},y=async()=>{if(!t.storeUrl||!t.consumerKey||!t.consumerSecret){d({title:"Configuration Required",description:"Please fill in all WooCommerce configuration fields",variant:"destructive"});return}s(!0);try{const w=await Sf.syncProducts(t);w.success?(d({title:"Sync Successful",description:w.message}),u(),f()):d({title:"Sync Failed",description:w.message,variant:"destructive"})}catch(w){rf.error("WooCommerce sync failed",{error:w instanceof Error?w.message:"Unknown error"}),d({title:"Sync Failed",description:w instanceof Error?w.message:"Unknown error occurred",variant:"destructive"})}finally{s(!1)}},x=w=>new Date(w).toLocaleString(),b=w=>{switch(w){case"completed":return a.jsx(Mr,{className:"h-4 w-4 text-green-500"});case"running":return a.jsx(Hr,{className:"h-4 w-4 text-blue-500"});case"completed_with_errors":return a.jsx(Zf,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Zf,{className:"h-4 w-4 text-red-500"})}};return a.jsx("div",{className:"space-y-6",children:a.jsxs(Gl,{defaultValue:"products",className:"w-full",children:[a.jsxs(fo,{className:"grid w-full grid-cols-1 sm:grid-cols-3 gap-1",children:[a.jsx(Gt,{value:"products",className:"text-xs sm:text-sm",children:"Manage Products"}),a.jsx(Gt,{value:"logs",className:"text-xs sm:text-sm",children:"Sync History"}),a.jsx(Gt,{value:"configuration",className:"text-xs sm:text-sm",children:"Configuration"})]}),a.jsx(Qr,{value:"products",className:"mt-6",children:a.jsx(qT,{})}),a.jsx(Qr,{value:"logs",className:"space-y-4",children:a.jsx("div",{className:"space-y-3",children:i.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No sync history available"}):i.map(w=>a.jsx(ne,{children:a.jsxs(ie,{className:"pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[b(w.status),a.jsx("span",{className:"font-medium capitalize",children:w.status.replace("_"," ")})]}),a.jsx(be,{variant:"outline",children:x(w.sync_started_at)})]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsxs("p",{children:["Products synced: ",w.products_synced||0]}),a.jsxs("p",{children:["Errors: ",w.errors_count||0]}),w.sync_completed_at&&a.jsxs("p",{children:["Completed: ",x(w.sync_completed_at)]})]}),w.error_details&&a.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:[a.jsx("p",{className:"font-medium",children:"Errors:"}),a.jsx("pre",{className:"whitespace-pre-wrap text-xs",children:JSON.stringify(w.error_details,null,2)})]})]})},w.id))})}),a.jsxs(Qr,{value:"configuration",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"storeUrl",children:"Store URL"}),a.jsx(ce,{id:"storeUrl",placeholder:"https://yourstore.com",value:t.storeUrl,onChange:w=>p("storeUrl",w.target.value)})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"consumerKey",children:"Consumer Key"}),a.jsx(ce,{id:"consumerKey",placeholder:"ck_xxxxxxxxxxxxx",value:t.consumerKey,onChange:w=>p("consumerKey",w.target.value)})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"consumerSecret",children:"Consumer Secret"}),a.jsx(ce,{id:"consumerSecret",type:"password",placeholder:"cs_xxxxxxxxxxxxx",value:t.consumerSecret,onChange:w=>p("consumerSecret",w.target.value)})]})]}),a.jsx(Kl,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Products synced: ",a.jsx("span",{className:"font-semibold",children:l})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",i[0]?x(i[0].sync_started_at):"Never"]})]}),a.jsx(W,{onClick:y,disabled:n,children:n?"Syncing...":"Sync Products"})]})]})]})})},wV=({onNavigateToOverview:e})=>a.jsx(o9,{onNavigateToOverview:e}),bV=({onNavigateToOverview:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kd,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Product Management"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage internal products, classes, and camps"}),a.jsx(mV,{onNavigateToOverview:e})]}),_V=({onNavigateToOverview:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kn,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"WooCommerce Integration"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure and sync with your WooCommerce store"}),a.jsx(yV,{onNavigateToOverview:e})]}),jV=({onNavigateToOverview:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kn,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"WooCommerce Products"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage synced WooCommerce products"}),a.jsx(qT,{onNavigateToOverview:e})]});function NV({programs:e,onProgramClick:t}){const[r,n]=m.useState(new Date),{isMobile:s}=uo(),i=Ht(r,{weekStartsOn:0}),o=Array.from({length:7},(f,p)=>yt(i,p)),l=f=>e.filter(p=>{if(p.program_type==="camp"){const y=new Date(p.start_date),x=new Date(p.end_date);return f>=y&&f<=x}return p.class_schedules&&p.class_schedules.length>0?p.class_schedules.some(y=>{const x=new Date(y.start_time);return lt(f,x)}):!1}),c=()=>{n(yt(r,-7))},d=()=>{n(yt(r,7))},u=()=>{n(new Date)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{variant:"outline",size:"icon",onClick:c,children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:s?"sm":"default",onClick:u,children:"Today"}),a.jsx(W,{variant:"outline",size:"icon",onClick:d,children:a.jsx(za,{className:"h-4 w-4"})})]}),a.jsxs("span",{className:"text-sm sm:text-base font-medium",children:[me(i,"MMM d")," - ",me(yt(i,6),"MMM d, yyyy")]})]}),s?a.jsx("div",{className:"space-y-3",children:o.map(f=>{const p=l(f),y=lt(f,new Date);return a.jsxs(ne,{className:`p-4 ${y?"border-primary":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:me(f,"EEEE")}),a.jsx("div",{className:`text-lg font-semibold ${y?"text-primary":""}`,children:me(f,"MMM d")})]}),y&&a.jsx(be,{variant:"default",children:"Today"})]}),p.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No programs"}):a.jsx("div",{className:"space-y-2",children:p.map(x=>a.jsx(ne,{className:"p-3 bg-muted/50 cursor-pointer hover:bg-muted transition-colors",onClick:()=>t==null?void 0:t(x,f),children:a.jsxs("div",{className:"flex items-start gap-3",children:[x.program_type==="class"?a.jsx(It,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}):a.jsx(Aa,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm truncate",children:x.name}),a.jsx(be,{variant:"outline",className:"text-xs",children:x.level})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Bi,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:x.location})]}),x.class_schedules&&x.class_schedules.length>0&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[a.jsx(Hr,{className:"h-3 w-3"}),a.jsxs("span",{children:[me(new Date(x.class_schedules[0].start_time),"h:mm a")," -",me(new Date(x.class_schedules[0].end_time),"h:mm a")]})]})]})]})},x.id))})]},f.toString())})}):a.jsx("div",{className:"grid grid-cols-7 gap-2",children:o.map(f=>{const p=l(f),y=lt(f,new Date);return a.jsxs(ne,{className:`p-3 ${y?"border-primary":""}`,children:[a.jsxs("div",{className:"text-center mb-2",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:me(f,"EEE")}),a.jsx("div",{className:`text-lg font-semibold ${y?"text-primary":""}`,children:me(f,"d")})]}),a.jsx("div",{className:"space-y-2",children:p.map(x=>a.jsxs(ne,{className:"p-2 bg-muted/50 cursor-pointer hover:bg-muted transition-colors",onClick:()=>t==null?void 0:t(x,f),children:[a.jsx("div",{className:"flex md:flex lg:hidden items-center justify-center p-1",children:x.program_type==="class"?a.jsx(It,{className:"h-4 w-4 text-blue-500"}):a.jsx(Aa,{className:"h-4 w-4 text-green-500"})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsxs("div",{className:"flex items-start gap-1 mb-1",children:[x.program_type==="class"?a.jsx(It,{className:"h-3 w-3 text-blue-500 flex-shrink-0 mt-0.5"}):a.jsx(Aa,{className:"h-3 w-3 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-xs font-medium break-words",children:x.name})]}),a.jsx("div",{className:"text-xs text-muted-foreground break-words",children:x.location_name||x.location})]})]},x.id))})]},f.toString())})})]})}function SV({programs:e,onProgramClick:t}){const[r,n]=m.useState(new Date),s=Wt(r),i=Ya(r),o=Ht(s,{weekStartsOn:0}),l=oo(i,{weekStartsOn:0}),c=My({start:o,end:l}),d=f=>e.filter(p=>{const y=p.program_type==="class"?p.class_schedules:p.camp_schedules;if(!y||y.length===0){if(p.program_type==="camp"&&p.start_date&&p.end_date){const x=new Date(p.start_date),b=new Date(p.end_date);return f>=x&&f<=b}return!1}return y.some(x=>{const b=new Date(x.start_time);return lt(b,f)})}),u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:me(r,"MMMM yyyy")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"icon",onClick:()=>n(Ly(r,1)),children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>n(new Date),children:"Today"}),a.jsx(W,{variant:"outline",size:"icon",onClick:()=>n(xr(r,1)),children:a.jsx(za,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-7 bg-muted",children:u.map(f=>a.jsx("div",{className:"p-2 text-center text-sm font-medium border-r last:border-r-0",children:f},f))}),a.jsx("div",{className:"grid grid-cols-7",children:c.map((f,p)=>{const y=d(f),x=ru(f,r),b=lt(f,new Date);return a.jsxs("div",{className:`min-h-[120px] border-r border-b last:border-r-0 p-1 sm:p-2 overflow-hidden ${x?"":"bg-muted/30"} ${b?"bg-primary/5":""}`,children:[a.jsx("div",{className:`text-sm font-medium mb-1 sm:mb-2 ${x?"":"text-muted-foreground"} ${b?"text-primary font-bold":""}`,children:me(f,"d")}),a.jsx("div",{className:"space-y-1 overflow-y-auto overflow-x-hidden max-h-[90px]",children:y.map(w=>{var h,g;const v=w.program_type==="class"?(h=w.class_schedules)==null?void 0:h.find(_=>lt(new Date(_.start_time),f)):(g=w.camp_schedules)==null?void 0:g.find(_=>lt(new Date(_.start_time),f));return a.jsxs("div",{className:"text-xs p-1 sm:p-1.5 rounded cursor-pointer hover:shadow-md transition-shadow w-full",style:{backgroundColor:w.program_type==="class"?"hsl(var(--primary) / 0.1)":"hsl(var(--secondary) / 0.1)",borderLeft:`3px solid ${w.program_type==="class"?"hsl(var(--primary))":"hsl(var(--secondary))"}`},onClick:()=>t(w,f),children:[a.jsxs("div",{className:"md:hidden flex items-center justify-between gap-1 min-w-0",children:[w.program_type==="class"?a.jsx(It,{className:"h-3 w-3 flex-shrink-0"}):a.jsx(Aa,{className:"h-3 w-3 flex-shrink-0"}),v&&a.jsx("div",{className:"text-muted-foreground text-[10px] whitespace-nowrap",children:me(new Date(v.start_time),"h:mm a")})]}),a.jsx("div",{className:"hidden md:flex lg:hidden items-center justify-center p-1",children:w.program_type==="class"?a.jsx(It,{className:"h-4 w-4"}):a.jsx(Aa,{className:"h-4 w-4"})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsxs("div",{className:"flex items-start gap-1 mb-0.5",children:[w.program_type==="class"?a.jsx(It,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}):a.jsx(Aa,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"font-medium break-words",children:w.name})]}),a.jsx("div",{className:"text-muted-foreground break-words",children:w.location_name||w.location}),v&&a.jsx("div",{className:"text-muted-foreground",children:me(new Date(v.start_time),"h:mm a")})]})]},w.id)})})]},p)})})]})]})}var _0="Switch",[CV,tY]=tn(_0),[kV,EV]=CV(_0),HT=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,y]=m.useState(null),x=We(t,g=>y(g)),b=m.useRef(!1),w=p?u||!!p.closest("form"):!0,[v=!1,h]=pn({prop:s,defaultProp:i,onChange:d});return a.jsxs(kV,{scope:r,checked:v,disabled:l,children:[a.jsx(_e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":GT(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:se(e.onClick,g=>{h(_=>!_),w&&(b.current=g.isPropagationStopped(),b.current||g.stopPropagation())})}),w&&a.jsx(TV,{control:p,bubbles:!b.current,name:n,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});HT.displayName=_0;var YT="SwitchThumb",KT=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=EV(YT,r);return a.jsx(_e.span,{"data-state":GT(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});KT.displayName=YT;var TV=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=m.useRef(null),o=f0(r),l=fy(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const p=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(p)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GT(e){return e?"checked":"unchecked"}var QT=HT,PV=KT;const j0=m.forwardRef(({className:e,...t},r)=>a.jsx(QT,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(PV,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));j0.displayName=QT.displayName;function MV({program:e,open:t,onOpenChange:r,onUpdate:n,userRole:s,selectedDate:i}){const[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[p,y]=m.useState([]),[x,b]=m.useState([]),[w,v]=m.useState(0),[h,g]=m.useState(!1),[_,j]=m.useState([]),[k,N]=m.useState(""),[E,R]=m.useState([]),[T,L]=m.useState(""),{toast:D}=Qe(),[C,M]=m.useState({name:"",description:"",location_name:"",location:"",level:"",age_group:"",max_participants:0,start_date:"",end_date:"",instructor_id:"",price:0,is_active:!0});m.useEffect(()=>{s==="admin"&&t&&S()},[s,t]),m.useEffect(()=>{e&&t&&(B(),e.program_type==="class"&&(U(),$()))},[e,t]);const $=async()=>{var X;if(!e||e.program_type!=="class")return;const{data:F,error:Y}=await P.from("class_instructors").select("instructor_id, is_primary").eq("class_id",e.id);if(Y)console.error("Error fetching class instructors:",Y),e.instructor_id&&(j([e.instructor_id]),N(e.instructor_id));else if(F&&F.length>0){const le=F.map(Oe=>Oe.instructor_id),we=((X=F.find(Oe=>Oe.is_primary))==null?void 0:X.instructor_id)||le[0];j(le),N(we)}else e.instructor_id&&(j([e.instructor_id]),N(e.instructor_id))},B=async()=>{if(!e)return;const F=e.program_type==="class"?"class_schedules":"camp_schedules",Y=e.program_type==="class"?"class_id":"camp_id",{data:X,error:le}=await P.from(F).select("*").eq(Y,e.id).order("start_time");le?(console.error("Error fetching schedules:",le),b([])):b(X||[])},U=async()=>{if(!e)return;const{count:F,error:Y}=await P.from("class_delivery_materials").select("*",{count:"exact",head:!0}).eq("class_id",e.id);Y?(console.error("Error fetching materials count:",Y),v(0)):v(F||0)};m.useEffect(()=>{if(e&&t){console.debug("[ProgramDetailsDialog] useEffect init formData",{program_location:e==null?void 0:e.location,program_location_name:e==null?void 0:e.location_name});const F=Y=>{if(!Y)return"";try{return new Date(Y).toISOString().split("T")[0]}catch{return""}};M({name:e.name||"",description:e.description||"",location_name:e.location_name||"",location:e.location||"",level:e.level||"",age_group:e.age_group||"",max_participants:e.max_participants||e.max_students||0,start_date:F(e.start_date),end_date:F(e.end_date),instructor_id:e.instructor_id||"",price:e.price||0,is_active:e.is_active!==void 0?e.is_active:!0}),l(!1),R([..._]),L(k)}},[e,t]);const S=async()=>{var F;try{console.group("[ProgramDetailsDialog] fetchInstructors");const{data:Y,error:X}=await P.from("user_roles").select("user_id, role, is_active").in("role",["instructor","teacher"]).eq("is_active",!0);X&&console.warn("user_roles query error, will try fallback:",X),console.log("user_roles result:",{count:(Y==null?void 0:Y.length)??0,sample:Y==null?void 0:Y.slice(0,5)});let le=(Y||[]).map(st=>st.user_id).filter(Boolean);if(!le.length){console.warn("No instructors from user_roles; deriving from classes/camps as fallback");const[{data:st,error:rn},{data:Xt,error:vn}]=await Promise.all([P.from("classes").select("instructor_id").not("instructor_id","is",null),P.from("camps").select("instructor_id").not("instructor_id","is",null)]);rn&&console.warn("classes instructor_id fetch error:",rn),vn&&console.warn("camps instructor_id fetch error:",vn);const A=[...(st==null?void 0:st.map(z=>z.instructor_id))||[],...(Xt==null?void 0:Xt.map(z=>z.instructor_id))||[]].filter(Boolean);le=Array.from(new Set(A)),console.log("Derived instructor userIds from programs:",le)}if(!le.length){console.warn("No instructor userIds found"),y([]),console.groupEnd();return}const{data:we,error:Oe}=await P.functions.invoke("get-user-profiles",{body:{userIds:le}});if(Oe)throw Oe;console.log("profiles response:",we);const Dt=((we==null?void 0:we.profiles)||[]).map(st=>({user_id:st.id,profiles:{full_name:st.display_name||st.full_name||st.email,email:st.email}}));console.log("formatted instructors:",Dt),y(Dt),console.groupEnd()}catch(Y){console.error("Error fetching instructors:",Y),D({title:"Error loading instructors",description:"Could not load instructor list. Please try again.",variant:"destructive"}),(F=console.groupEnd)==null||F.call(console)}},O=s==="admin"||s==="instructor",H=()=>{const F={id:`temp-${Date.now()}`,start_time:"",end_time:"",isNew:!0};b([...x,F])},V=(F,Y,X)=>{const le=[...x];le[F]={...le[F],[Y]:X},b(le)},ee=async F=>{const Y=x[F];if(!Y.isNew){const le=e.program_type==="class"?"class_schedules":"camp_schedules",{error:we}=await P.from(le).delete().eq("id",Y.id);if(we){D({title:"Error",description:"Failed to delete schedule",variant:"destructive"});return}}const X=x.filter((le,we)=>we!==F);b(X)},je=async()=>{if(!e)return;const F=e.program_type==="class"?"class_schedules":"camp_schedules",Y=e.program_type==="class"?"class_id":"camp_id";for(const X of x){if(!X.start_time||!X.end_time)continue;const le={[Y]:e.id,start_time:X.start_time,end_time:X.end_time};if(X.isNew){const{error:we}=await P.from(F).insert([le]);if(we)throw we}else{const{error:we}=await P.from(F).update(le).eq("id",X.id);if(we)throw we}}},Z=async()=>{try{const F=e.program_type==="class"?"classes":"camps",Y={name:C.name,description:C.description,location_name:C.location_name,location:C.location,level:C.level,age_group:C.age_group,instructor_id:T||E[0]||C.instructor_id,is_active:C.is_active};e.program_type==="class"?Y.max_students=C.max_participants:Y.max_participants=C.max_participants,e.program_type==="camp"&&(Y.start_date=C.start_date,Y.end_date=C.end_date,Y.price=C.price);const{error:X}=await P.from(F).update(Y).eq("id",e.id);if(X)throw X;if(e.program_type==="class"&&E.length>0){await P.from("class_instructors").delete().eq("class_id",e.id);const le=E.map(Oe=>({class_id:e.id,instructor_id:Oe,is_primary:Oe===T})),{error:we}=await P.from("class_instructors").insert(le);if(we)throw we}await je(),await B(),e.program_type==="class"&&await $(),j([...E]),N(T),D({title:"Program updated"}),l(!1)}catch(F){console.error("Error updating program:",F),D({title:"Update failed",description:F.message,variant:"destructive"})}},Ne=async()=>{var F,Y;try{const X=p.find(we=>we.user_id===C.instructor_id),{error:le}=await P.from("notification_queue").insert({user_id:C.instructor_id,notification_type:"program_assignment",title:`New ${e.program_type} Assignment`,message:`You have been assigned to ${e.program_type}: ${C.name}`,scheduled_for:new Date().toISOString(),metadata:{program_id:e.id,program_type:e.program_type,program_name:C.name}});if(le)throw le;D({title:"Notification Sent",description:`Instructor ${((F=X==null?void 0:X.profiles)==null?void 0:F.full_name)||((Y=X==null?void 0:X.profiles)==null?void 0:Y.email)} has been notified`})}catch(X){D({title:"Notification Error",description:X.message,variant:"destructive"})}finally{f(!1),r(!1)}},ue=async()=>{try{d(!0);const F=e.program_type==="class"?"classes":"camps",{error:Y}=await P.from(F).delete().eq("id",e.id);if(Y)throw Y;D({title:"Success",description:`${e.program_type==="class"?"Class":"Camp"} deleted successfully`}),n(),r(!1)}catch(F){D({title:"Error",description:F.message,variant:"destructive"})}finally{d(!1)}};return e?a.jsxs(gs,{open:t,onOpenChange:r,children:[a.jsxs(In,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Ln,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.program_type==="class"?a.jsx(It,{className:"h-6 w-6 text-blue-500"}):a.jsx(Aa,{className:"h-6 w-6 text-green-500"}),a.jsxs(Fn,{children:[o?"Edit":""," ",e.name]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(be,{variant:e.program_type==="class"?"default":"secondary",children:e.program_type}),a.jsx(be,{variant:"outline",children:e.level}),a.jsx(be,{variant:"outline",children:e.age_group})]})]}),a.jsx("div",{className:"space-y-4",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"name",children:"Name"}),a.jsx(ce,{id:"name",value:C.name,onChange:F=>M({...C,name:F.target.value})})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"description",children:"Description"}),a.jsx(ws,{id:"description",value:C.description,onChange:F=>M({...C,description:F.target.value}),rows:3})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"location_name",children:"Location Name"}),a.jsx(ce,{id:"location_name",value:C.location_name,onChange:F=>M({...C,location_name:F.target.value}),placeholder:"Christa McAuliffe Elementary"})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"location",children:"Location Address"}),a.jsx(ce,{id:"location",value:C.location,onChange:F=>M({...C,location:F.target.value}),placeholder:"23823 NE 22nd St, Sammamish, WA 98074"})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"max_participants",children:"Max Participants"}),a.jsx(ce,{id:"max_participants",type:"number",value:C.max_participants,onChange:F=>M({...C,max_participants:parseInt(F.target.value)})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"level",children:"Level"}),a.jsxs(at,{value:C.level,onValueChange:F=>M({...C,level:F}),children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"beginner",children:"Beginner"}),a.jsx(pe,{value:"intermediate",children:"Intermediate"}),a.jsx(pe,{value:"advanced",children:"Advanced"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"age_group",children:"Age Group"}),a.jsx(ce,{id:"age_group",value:C.age_group,onChange:F=>M({...C,age_group:F.target.value})})]})]}),s==="admin"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Q,{children:"Instructors"}),e.program_type==="class"?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2 p-3 border rounded-lg min-h-[60px]",children:E.length>0?E.map(F=>{var X,le;const Y=p.find(we=>we.user_id===F);return a.jsxs(be,{variant:"secondary",className:"gap-2",children:[((X=Y==null?void 0:Y.profiles)==null?void 0:X.full_name)||((le=Y==null?void 0:Y.profiles)==null?void 0:le.email),F===T&&a.jsx("span",{className:"text-xs",children:"(Primary)"}),a.jsx("button",{type:"button",onClick:()=>{const we=E.filter(Oe=>Oe!==F);R(we),T===F&&we.length>0&&L(we[0])},className:"ml-1 hover:text-destructive",children:"×"})]},F)}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"No Instructors."})}),a.jsxs(at,{value:"",onValueChange:F=>{if(!E.includes(F)){const Y=[...E,F];R(Y),T||L(F)}},children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Add instructor..."})}),a.jsx(rt,{className:"z-50 bg-background",children:p.filter(F=>!E.includes(F.user_id)).map(F=>{var Y,X;return a.jsx(pe,{value:F.user_id,children:((Y=F.profiles)==null?void 0:Y.full_name)||((X=F.profiles)==null?void 0:X.email)},F.user_id)})})]}),E.length>1&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs text-muted-foreground",children:"Primary Instructor"}),a.jsxs(at,{value:T,onValueChange:L,children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsx(rt,{className:"z-50 bg-background",children:E.map(F=>{var X,le;const Y=p.find(we=>we.user_id===F);return a.jsx(pe,{value:F,children:((X=Y==null?void 0:Y.profiles)==null?void 0:X.full_name)||((le=Y==null?void 0:Y.profiles)==null?void 0:le.email)},F)})})]})]})]}):a.jsxs(at,{value:C.instructor_id,onValueChange:F=>{M({...C,instructor_id:F})},children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select instructor"})}),a.jsx(rt,{className:"z-50 bg-background",children:p.map(F=>{var Y,X;return a.jsx(pe,{value:F.user_id,children:((Y=F.profiles)==null?void 0:Y.full_name)||((X=F.profiles)==null?void 0:X.email)},F.user_id)})})]})]}),e.program_type==="camp"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"start_date",children:"Start Date"}),a.jsx(ce,{id:"start_date",type:"date",value:C.start_date,onChange:F=>M({...C,start_date:F.target.value})})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"end_date",children:"End Date"}),a.jsx(ce,{id:"end_date",type:"date",value:C.end_date,onChange:F=>M({...C,end_date:F.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"price",children:"Price ($)"}),a.jsx(ce,{id:"price",type:"number",min:"0",step:"0.01",value:C.price,onChange:F=>M({...C,price:parseFloat(F.target.value)||0})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"is_active",children:"Active Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:C.is_active?"This program is active":"This program is inactive"})]}),a.jsx(j0,{id:"is_active",checked:C.is_active,onCheckedChange:F=>M({...C,is_active:F})})]})]}),a.jsxs(Qy,{open:h,onOpenChange:g,className:"space-y-2 mt-4",children:[a.jsx(Zy,{asChild:!0,children:a.jsxs(W,{variant:"outline",className:"w-full justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4"}),"Schedule Sessions (",x.length,")"]}),a.jsx(Yd,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})}),a.jsxs(Xy,{className:"space-y-3 pt-2",children:[x.map((F,Y)=>a.jsxs("div",{className:"flex gap-2 items-end p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Start Date & Time"}),a.jsx(ce,{type:"datetime-local",value:F.start_time?new Date(F.start_time).toISOString().slice(0,16):"",onChange:X=>V(Y,"start_time",X.target.value?new Date(X.target.value).toISOString():"")})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"End Date & Time"}),a.jsx(ce,{type:"datetime-local",value:F.end_time?new Date(F.end_time).toISOString().slice(0,16):"",onChange:X=>V(Y,"end_time",X.target.value?new Date(X.target.value).toISOString():"")})]}),a.jsx(W,{variant:"ghost",size:"icon",onClick:()=>ee(Y),className:"text-destructive hover:text-destructive",children:a.jsx(Yr,{className:"h-4 w-4"})})]},F.id)),a.jsxs(W,{variant:"outline",size:"sm",onClick:H,className:"w-full",children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Session"]})]})]}),e.program_type==="class"&&a.jsx("div",{className:"p-4 border rounded-lg bg-muted/50",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Delivery Materials (",w,")"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage lesson plans, presentations, and other materials separately"})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx(W,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:"Manage Materials"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Coming Soon"})]})]})})]}):a.jsxs(a.Fragment,{children:[e.description&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:(()=>{const F=((e==null?void 0:e.location_name)||C.location_name||"").toString().trim(),Y=((e==null?void 0:e.location)||C.location||"").toString().trim();return!F&&!Y?a.jsx("span",{className:"text-muted-foreground",children:"No location"}):F||Y})()})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium",children:"Instructor(s):"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.program_type==="class"&&_.length>0?_.map(F=>{var X,le;const Y=p.find(we=>we.user_id===F);return a.jsxs(be,{variant:"outline",className:"text-xs",children:[((X=Y==null?void 0:Y.profiles)==null?void 0:X.full_name)||((le=Y==null?void 0:Y.profiles)==null?void 0:le.email),F===k&&" (Primary)"]},F)}):e.program_type==="class"?a.jsx("span",{className:"text-sm text-muted-foreground",children:"No Instructors."}):a.jsx("span",{className:"text-sm",children:e.profiles?e.profiles.full_name||e.profiles.email:"No Instructors."})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["Max: ",e.max_participants||e.max_students]})]}),e.program_type==="camp"&&e.start_date&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[me(new Date(e.start_date),"MMM d")," - ",me(new Date(e.end_date),"MMM d, yyyy")]})]}),e.program_type==="camp"&&e.price&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"font-semibold",children:["Price: $",parseFloat(e.price).toFixed(2)]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(be,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})})]}),e.class_schedules&&e.class_schedules.length>0&&(()=>{const F=i?new Date(i):new Date;F.setHours(0,0,0,0);const Y=e.class_schedules.filter(X=>{const le=new Date(X.start_time);return le.setHours(0,0,0,0),le>=F});return Y.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Class Schedule"}),a.jsx("div",{className:"space-y-1 text-sm max-h-[200px] overflow-y-auto pr-2",children:Y.map(X=>a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(ze,{className:"h-3 w-3 flex-shrink-0"}),a.jsxs("span",{children:[me(new Date(X.start_time),"EEE, MMM d, yyyy")," • ",me(new Date(X.start_time),"h:mm a")," - ",me(new Date(X.end_time),"h:mm a")]})]},X.id))})]})})(),e.camp_schedules&&e.camp_schedules.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Camp Schedule"}),a.jsx("div",{className:"space-y-1 text-sm",children:e.camp_schedules.map(F=>a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(ze,{className:"h-3 w-3"}),a.jsxs("span",{children:[me(new Date(F.start_time),"EEE, MMM d")," • ",me(new Date(F.start_time),"h:mm a")," - ",me(new Date(F.end_time),"h:mm a")]})]},F.id))})]}),e.program_type==="class"&&a.jsx("div",{className:"p-4 border rounded-lg bg-muted/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm font-medium",children:["Delivery Materials (",w,")"]})]}),a.jsx(W,{variant:"outline",size:"sm",disabled:w===0,onClick:()=>{sessionStorage.setItem("selected_class_id",e.id),window.location.href="/#content"},children:"View Materials"})]})})]})}),O&&a.jsx(Mm,{className:"gap-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsxs(W,{onClick:Z,children:[a.jsx(ry,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(W,{variant:"destructive",onClick:ue,disabled:c,children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Delete"]}),a.jsx(W,{onClick:()=>l(!0),children:"Edit"})]})})]}),a.jsx(_d,{open:u,onOpenChange:f,children:a.jsxs(Sl,{children:[a.jsxs(Cl,{children:[a.jsx(El,{children:"Notify Instructor?"}),a.jsxs(Tl,{children:["Would you like to send a notification to the newly assigned instructor about this ",e.program_type,"?"]})]}),a.jsxs(kl,{children:[a.jsx(Ml,{onClick:()=>{f(!1),r(!1)},children:"Skip"}),a.jsxs(Pl,{onClick:Ne,children:[a.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Send Notification"]})]})]})})]}):null}function DV({userRole:e,refreshTrigger:t}){const[r,n]=m.useState("weekly"),[s,i]=m.useState("all"),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,f]=m.useState("all"),[p,y]=m.useState(null),[x,b]=m.useState(null),[w,v]=m.useState(!1),[h,g]=m.useState(!0),{toast:_}=Qe(),{isMobile:j}=uo();m.useEffect(()=>{k(),N()},[e,s,u,t]);const k=async()=>{try{g(!0);let R=[],T=[];if(s==="all"||s==="class"){let L=P.from("classes").select(`
            *,
            class_schedules (*)
          `);if(e==="instructor"||e==="teacher"){const{data:{user:M}}=await P.auth.getUser();L=L.eq("instructor_id",M==null?void 0:M.id)}else if(e==="parent"){const{data:{user:M}}=await P.auth.getUser(),{data:$}=await P.from("family_relationships").select("child_id").eq("parent_id",M==null?void 0:M.id);if($&&$.length>0){const B=$.map(S=>S.child_id),{data:U}=await P.from("class_enrollments").select("class_id").in("student_id",B);if(U&&U.length>0){const S=U.map(O=>O.class_id);L=L.in("id",S)}else L=L.limit(0)}else L=L.limit(0)}u!=="all"&&(L=L.eq("instructor_id",u));const{data:D,error:C}=await L;if(C)throw C;if(D&&D.length>0){const M=[...new Set(D.map(U=>U.instructor_id).filter(Boolean))],{data:$}=await P.from("profiles").select("id, full_name, email").in("id",M),B=new Map(($==null?void 0:$.map(U=>[U.id,U]))||[]);R=D.map(U=>({...U,program_type:"class",profiles:B.get(U.instructor_id)}))}}if(s==="all"||s==="camp"){let L=P.from("camps").select(`
            *,
            camp_schedules (*)
          `);if(e==="instructor"||e==="teacher"){const{data:{user:M}}=await P.auth.getUser();L=L.eq("instructor_id",M==null?void 0:M.id)}else if(e==="parent"){const{data:{user:M}}=await P.auth.getUser(),{data:$}=await P.from("family_relationships").select("child_id").eq("parent_id",M==null?void 0:M.id);if($&&$.length>0){const B=$.map(S=>S.child_id),{data:U}=await P.from("camp_enrollments").select("camp_id").in("student_id",B);if(U&&U.length>0){const S=U.map(O=>O.camp_id);L=L.in("id",S)}else L=L.limit(0)}else L=L.limit(0)}u!=="all"&&(L=L.eq("instructor_id",u));const{data:D,error:C}=await L;if(C)throw C;if(D&&D.length>0){const M=[...new Set(D.map(U=>U.instructor_id).filter(Boolean))],{data:$}=await P.from("profiles").select("id, full_name, email").in("id",M),B=new Map(($==null?void 0:$.map(U=>[U.id,U]))||[]);T=D.map(U=>({...U,program_type:"camp",profiles:B.get(U.instructor_id)}))}}l([...R,...T])}catch(R){_({title:"Error loading programs",description:R.message,variant:"destructive"})}finally{g(!1)}},N=async()=>{var R;try{console.group("[ProgramCalendarView] fetchInstructors");const{data:T,error:L}=await P.from("user_roles").select("user_id, role, is_active").in("role",["instructor","teacher"]).eq("is_active",!0);L&&console.warn("user_roles query error, will try fallback:",L),console.log("user_roles result:",{count:(T==null?void 0:T.length)??0,sample:T==null?void 0:T.slice(0,5)});let D=(T||[]).map(B=>B.user_id).filter(Boolean);if(!D.length){console.warn("No instructors from user_roles; deriving from classes/camps as fallback");const[{data:B,error:U},{data:S,error:O}]=await Promise.all([P.from("classes").select("instructor_id").not("instructor_id","is",null),P.from("camps").select("instructor_id").not("instructor_id","is",null)]);U&&console.warn("classes instructor_id fetch error:",U),O&&console.warn("camps instructor_id fetch error:",O);const H=[...(B==null?void 0:B.map(V=>V.instructor_id))||[],...(S==null?void 0:S.map(V=>V.instructor_id))||[]].filter(Boolean);D=Array.from(new Set(H)),console.log("Derived instructor userIds from programs:",D)}if(!D.length){console.warn("No instructor userIds found"),d([]),console.groupEnd();return}const{data:C,error:M}=await P.functions.invoke("get-user-profiles",{body:{userIds:D}});if(M)throw M;console.log("profiles response:",C);const $=((C==null?void 0:C.profiles)||[]).map(B=>({user_id:B.id,profiles:{full_name:B.display_name||B.full_name||B.email,email:B.email}}));console.log("formatted instructors:",$),d($),console.groupEnd()}catch(T){console.error("Error fetching instructors:",T),_({title:"Error loading instructors",description:"Could not load instructor list. Please try again.",variant:"destructive"}),(R=console.groupEnd)==null||R.call(console)}},E=()=>a.jsxs("div",{className:"space-y-4 p-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Program Type"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(W,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>i("all"),children:"All"}),a.jsxs(W,{variant:s==="class"?"default":"outline",size:"sm",onClick:()=>i("class"),className:"gap-2",children:[a.jsx(It,{className:"h-4 w-4"}),"Classes"]}),a.jsxs(W,{variant:s==="camp"?"default":"outline",size:"sm",onClick:()=>i("camp"),className:"gap-2",children:[a.jsx(Aa,{className:"h-4 w-4"}),"Camps"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Instructor"}),a.jsxs(at,{value:u,onOpenChange:R=>console.log("[ProgramCalendarView] Instructor filter open:",R),onValueChange:R=>{console.log("[ProgramCalendarView] Instructor filter selected:",R),f(R)},children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select instructor"})}),a.jsxs(rt,{className:"z-50 bg-background",children:[a.jsx(pe,{value:"all",children:"All Instructors"}),c.map(R=>{var T,L;return a.jsx(pe,{value:R.user_id,children:((T=R.profiles)==null?void 0:T.full_name)||((L=R.profiles)==null?void 0:L.email)},R.user_id)})]})]})]})]});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[a.jsxs(W,{variant:r==="weekly"?"default":"ghost",size:j?"sm":"default",onClick:()=>n("weekly"),className:`gap-1.5 ${r==="weekly"?"":"text-muted-foreground"}`,children:[a.jsx(nR,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Week"})]}),a.jsxs(W,{variant:r==="monthly"?"default":"ghost",size:j?"sm":"default",onClick:()=>n("monthly"),className:`gap-1.5 ${r==="monthly"?"":"text-muted-foreground"}`,children:[a.jsx(ze,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Month"})]})]}),a.jsxs(qy,{children:[a.jsx(hk,{asChild:!0,children:a.jsxs(W,{variant:"outline",size:j?"icon":"default",children:[a.jsx(cR,{className:"h-4 w-4"}),!j&&a.jsx("span",{className:"ml-2",children:"Filters"})]})}),a.jsx(_m,{side:j?"bottom":"right",className:j?"h-[70vh]":"",children:a.jsx(E,{})})]})]}),h?a.jsx(ne,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading programs..."})}):o.length===0?a.jsx(ne,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No programs found"})}):r==="weekly"?a.jsx(NV,{programs:o,userRole:e,onProgramClick:(R,T)=>{y(R),b(T),v(!0)}}):a.jsx(SV,{programs:o,onProgramClick:(R,T)=>{y(R),b(T),v(!0)}}),a.jsx(MV,{program:p,open:w,onOpenChange:v,onUpdate:k,userRole:e,selectedDate:x})]})}const RV=ro("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ds=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:G(RV({variant:t}),e),...r}));ds.displayName="Alert";const OV=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:G("mb-1 font-medium leading-none tracking-tight",e),...t}));OV.displayName="AlertTitle";const us=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:G("text-sm [&_p]:leading-relaxed",e),...t}));us.displayName="AlertDescription";function AV(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:p,children:y,...x}=f,b=(p==null?void 0:p[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return a.jsx(b.Provider,{value:w,children:y})}function u(f,p){const y=(p==null?void 0:p[e][c])||l,x=m.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,IV(s,...t)]}function IV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var N0="Progress",S0=100,[LV,rY]=AV(N0),[FV,$V]=LV(N0),ZT=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=UV,...o}=e;(s||s===0)&&!A_(s)&&console.error(zV(`${s}`,"Progress"));const l=A_(s)?s:S0;n!==null&&!I_(n,l)&&console.error(BV(`${n}`,"Progress"));const c=I_(n,l)?n:null,d=Th(c)?i(c,l):void 0;return a.jsx(FV,{scope:r,value:c,max:l,children:a.jsx(_e.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Th(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":eP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ZT.displayName=N0;var XT="ProgressIndicator",JT=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=$V(XT,r);return a.jsx(_e.div,{"data-state":eP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});JT.displayName=XT;function UV(e,t){return`${Math.round(e/t*100)}%`}function eP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Th(e){return typeof e=="number"}function A_(e){return Th(e)&&!isNaN(e)&&e>0}function I_(e,t){return Th(e)&&!isNaN(e)&&e<=t&&e>=0}function zV(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S0}\`.`}function BV(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tP=ZT,VV=JT;const pu=m.forwardRef(({className:e,value:t,...r},n)=>a.jsx(tP,{ref:n,className:G("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(VV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));pu.displayName=tP.displayName;function rP({onSuccess:e}){const[t,r]=m.useState(!1),[n,s]=m.useState(0),[i,o]=m.useState(null),{toast:l}=Qe(),c=()=>{const h=`program_type,program_name,instructor_email,location,location_name,max_capacity,level,age_group,start_date,end_date,session_time,days_of_week,price,description,delivery_material_links,delivery_material_types
class,Intro to Robotics,"john@example.com","Lab A - Room 101","Robotics Lab",15,Beginner,8-10 years,2024-01-15,2024-03-30,15:30-17:00,"Monday,Wednesday",,"Introduction to robotics","https://docs.google.com/document/d/abc123; https://drive.google.com/file/d/xyz789","google_docs; google_drive"
class,Advanced AI,"sarah@example.com; mary@example.com","Lab B - Portable 3","AI Lab",12,Advanced,13-16 years,2024-01-16,2024-03-31,16:00-18:00,"Tuesday,Thursday",,"Deep dive into AI with multiple instructors","https://docs.google.com/presentation/d/def456","google_slides"
camp,Summer AI Bootcamp,"jane@example.com","Main Campus","Central Building",20,Intermediate,10-14 years,2024-06-15,2024-06-30,09:00-15:00,,299.99,"5-week intensive camp","https://drive.google.com/folder/d/uvw012","google_drive"`,g=new Blob([h],{type:"text/csv"}),_=window.URL.createObjectURL(g),j=document.createElement("a");j.href=_,j.download="programs_upload_template.csv",j.click(),window.URL.revokeObjectURL(_)},d=h=>{if(!h||!h.trim())return null;const g=h.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(g))return g;const _=[/^(\d{1,2})[\/\-.](\d{1,2})[\/\-.](\d{4})$/,/^(\d{4})[\/\-.](\d{1,2})[\/\-.](\d{1,2})$/];for(const k of _){const N=g.match(k);if(N){let E,R,T;return N[1].length===4?(E=N[1],R=N[2].padStart(2,"0"),T=N[3].padStart(2,"0")):(R=N[1].padStart(2,"0"),T=N[2].padStart(2,"0"),E=N[3]),`${E}-${R}-${T}`}}const j=new Date(g);if(!isNaN(j.getTime())){const k=j.getFullYear(),N=String(j.getMonth()+1).padStart(2,"0"),E=String(j.getDate()).padStart(2,"0");return`${k}-${N}-${E}`}return null},u=h=>{var k,N;if(!h||!h.trim())return null;const g=h.trim().replace(/\s+/g," ").toLowerCase();if(/^\d{2}:\d{2}-\d{2}:\d{2}$/.test(g))return g;const _=/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)?\s*[-–]\s*(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)?/i,j=g.match(_);if(j){let E=parseInt(j[1]),R=j[2]?j[2].substring(0,2):"00",T=parseInt(j[4]),L=j[5]?j[5].substring(0,2):"00";const D=(k=j[3])==null?void 0:k.toUpperCase(),C=(N=j[6])==null?void 0:N.toUpperCase(),M=parseInt(R),$=parseInt(L);M>59&&(R="59"),$>59&&(L="59"),D==="PM"&&E!==12&&(E+=12),D==="AM"&&E===12&&(E=0),C==="PM"&&T!==12&&(T+=12),C==="AM"&&T===12&&(T=0);const B=`${String(E).padStart(2,"0")}:${R.padStart(2,"0")}`,U=`${String(T).padStart(2,"0")}:${L.padStart(2,"0")}`;return`${B}-${U}`}return null},f=h=>{var j;const g=h.split(`
`).filter(k=>k.trim());if(g.length<2)return[];const _=[];for(let k=1;k<g.length;k++){const N=((j=g[k].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:j.map(E=>E.replace(/^"|"$/g,"").trim()))||[];if(N.length>=8){const E=d(N[8]),R=d(N[9]),T=u(N[10]);_.push({program_type:N[0],program_name:N[1],instructor_email:N[2]||void 0,location:N[3],location_name:N[4]||void 0,max_capacity:parseInt(N[5])||15,level:N[6],age_group:N[7],start_date:E||N[8]||void 0,end_date:R||N[9]||void 0,session_time:T||N[10]||void 0,days_of_week:N[11]||void 0,price:N[12]?parseFloat(N[12]):void 0,description:N[13]||void 0,delivery_material_links:N[14]||void 0,delivery_material_types:N[15]||void 0,row:k+1})}}return _},p=h=>{var j,k,N,E;const g=[];(j=h.program_type)!=null&&j.trim()||g.push("Program type required"),(k=h.program_name)!=null&&k.trim()||g.push("Program name required"),(N=h.location)!=null&&N.trim()||g.push("Location required"),["Beginner","Intermediate","Advanced"].includes(h.level)||g.push("Level must be Beginner, Intermediate, or Advanced");const _=(E=h.program_type)==null?void 0:E.toLowerCase();if(_==="camp"&&(h.start_date||g.push("Camps require start_date"),h.end_date||g.push("Camps require end_date")),h.session_time&&(/^\d{2}:\d{2}-\d{2}:\d{2}$/.test(h.session_time)||g.push("Invalid session_time format"),h.start_date||g.push("session_time requires start_date"),h.end_date||g.push("session_time requires end_date"),_==="class"&&!h.days_of_week&&g.push("Classes with timing require days_of_week")),h.start_date&&h.end_date){/^\d{4}-\d{2}-\d{2}$/.test(h.start_date)||g.push("Invalid start_date format"),/^\d{4}-\d{2}-\d{2}$/.test(h.end_date)||g.push("Invalid end_date format");const R=new Date(h.start_date),T=new Date(h.end_date);!isNaN(R.getTime())&&!isNaN(T.getTime())&&T<=R&&g.push("End date must be after start date")}return g},y=(h,g,_)=>{const j=[],k=new Date(h),N=new Date(g),E={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},R=_.map(L=>E[L.trim()]);let T=new Date(k);for(;T<=N;)R.includes(T.getDay())&&j.push(new Date(T)),T.setDate(T.getDate()+1);return j},x=(h,g)=>{const _=[],j=new Date(h),k=new Date(g);let N=new Date(j);for(;N<=k;)_.push(new Date(N)),N.setDate(N.getDate()+1);return _},b=async(h,g)=>{if(!h)return{instructorId:null,invitationSent:!1};const _=h.toLowerCase().trim(),{data:j}=await P.from("profiles").select("id").eq("email",_).single();if(j){const{data:k}=await P.from("user_roles").select("role").eq("user_id",j.id).eq("role","instructor").single();return k||await P.from("user_roles").insert({user_id:j.id,role:"instructor",is_active:!0}),{instructorId:j.id,invitationSent:!1}}else{const{data:k}=await P.from("user_invitations").select("id").eq("email",_).eq("status","pending").single();if(k)return{instructorId:null,invitationSent:!1,alreadyInvited:!0};const{data:{user:N}}=await P.auth.getUser();if(!N)return{instructorId:null,invitationSent:!1};const E=crypto.randomUUID()+Date.now().toString(36);return await P.from("user_invitations").insert({email:_,role:"instructor",invited_by:N.id,invitation_token:E,status:"pending",message:`You've been invited to be an instructor for ${g}. Download our app to get started:

Android: https://play.google.com/store/apps/details?id=com.aiaroboacademy.app
iOS: https://apps.apple.com/us/app/ai-robotics-academy/id6753151461`}),{instructorId:null,invitationSent:!0}}},w=async(h,g)=>{if(!h||!h.trim())return{instructorIds:[],invitationsSent:[],unassigned:!1};const _=h.split(/[,;]/).map(N=>N.trim()).filter(N=>N),j=[],k=[];for(const N of _){const E=await b(N,g);E.instructorId&&j.push(E.instructorId),E.invitationSent&&k.push(N)}return{instructorIds:j,invitationsSent:k,unassigned:j.length===0}},v=async h=>{var j;const g=(j=h.target.files)==null?void 0:j[0];if(!g)return;r(!0),s(0),o(null);const _={classesCreated:0,campsCreated:0,schedulesGenerated:0,deliveryMaterialsAdded:0,invitationsSent:[],unassignedPrograms:[],errors:[]};try{const k=await g.text(),N=f(k);if(N.length===0)throw new Error("No valid data found in CSV file");s(10);for(const R of N){const T=p(R);T.length>0&&_.errors.push({row:R.row,message:T.join("; ")})}if(_.errors.length>0){o(_),r(!1);return}s(20);for(let R=0;R<N.length;R++){const T=N[R],L=T.program_type.toLowerCase();try{const D=await w(T.instructor_email,T.program_name);if(D.invitationsSent.length>0&&_.invitationsSent.push(...D.invitationsSent),D.unassigned&&_.unassignedPrograms.push(T.program_name),L==="class"){const{data:C}=await P.from("classes").select("id").eq("name",T.program_name).eq("location",T.location).eq("level",T.level).eq("age_group",T.age_group).maybeSingle();let M;if(C)M=C.id,D.instructorIds.length>0&&await P.from("classes").update({instructor_id:D.instructorIds[0],location_name:T.location_name||null,description:T.description||null}).eq("id",M);else{const{data:$,error:B}=await P.from("classes").insert({name:T.program_name,description:T.description,location:T.location,location_name:T.location_name,level:T.level,age_group:T.age_group,max_students:T.max_capacity||15,instructor_id:D.instructorIds[0]||null}).select().single();if(B)throw B;M=$.id,_.classesCreated++}if(T.session_time&&T.days_of_week&&T.start_date&&T.end_date){const $=T.days_of_week.split(",").map(V=>V.trim()),B=y(T.start_date,T.end_date,$),[U,S]=T.session_time.split("-"),O=B.map(V=>{const ee=V.toISOString().split("T")[0];return{class_id:M,start_time:new Date(`${ee}T${U}:00`).toISOString(),end_time:new Date(`${ee}T${S}:00`).toISOString()}}),H=50;for(let V=0;V<O.length;V+=H){const ee=O.slice(V,V+H),{data:je,error:Z}=await P.from("class_schedules").upsert(ee,{onConflict:"class_id,start_time,end_time",ignoreDuplicates:!1}).select();if(Z)throw Z;for(const Ne of je||[])await P.functions.invoke("schedule-class-notifications",{body:{class_schedule_id:Ne.id,class_id:M,start_time:Ne.start_time}});_.schedulesGenerated+=ee.length}}if(T.delivery_material_links){const $=T.delivery_material_links.split(";").map(O=>O.trim()).filter(Boolean),B=T.delivery_material_types?T.delivery_material_types.split(";").map(O=>O.trim()).filter(Boolean):$.map(()=>"external"),{data:{user:U}}=await P.auth.getUser(),S=$.map((O,H)=>({class_id:M,material_type:"link",title:`Delivery Material ${H+1}`,external_link:O,link_type:B[H]||"external",created_by:U==null?void 0:U.id}));await P.from("class_delivery_materials").insert(S),_.deliveryMaterialsAdded+=S.length}}else if(L==="camp"){const{data:C}=await P.from("camps").select("id").eq("name",T.program_name).eq("start_date",T.start_date).eq("end_date",T.end_date).maybeSingle();let M;if(C)M=C.id,D.instructorIds.length>0&&await P.from("camps").update({instructor_id:D.instructorIds[0],location_name:T.location_name||null,description:T.description||null,price:T.price||null}).eq("id",M);else{const{data:$,error:B}=await P.from("camps").insert({name:T.program_name,description:T.description,instructor_id:D.instructorIds[0]||null,location:T.location,location_name:T.location_name,max_participants:T.max_capacity||20,level:T.level,age_group:T.age_group,start_date:T.start_date,end_date:T.end_date,price:T.price||null,is_active:!0}).select().single();if(B)throw B;M=$.id,_.campsCreated++}if(T.session_time&&T.start_date&&T.end_date){const $=x(T.start_date,T.end_date),[B,U]=T.session_time.split("-"),S=$.map(H=>{const V=H.toISOString().split("T")[0];return{camp_id:M,start_time:new Date(`${V}T${B}:00`).toISOString(),end_time:new Date(`${V}T${U}:00`).toISOString()}}),{error:O}=await P.from("camp_schedules").upsert(S,{onConflict:"camp_id,start_time,end_time",ignoreDuplicates:!1});if(O)throw O;_.schedulesGenerated+=S.length}}else throw new Error(`Invalid program type "${T.program_type}"`)}catch(D){_.errors.push({row:T.row,message:`Processing error: ${D.message}`})}s(20+70*(R+1)/N.length)}s(100),o(_);const E=_.classesCreated+_.campsCreated;(E>0||_.schedulesGenerated>0)&&(l({title:"Upload complete",description:`Created ${E} program(s) with ${_.schedulesGenerated} scheduled sessions`}),e()),_.errors.length>0&&l({title:"Some programs had errors",description:`${_.errors.length} program(s) failed to process`,variant:"destructive"})}catch(k){l({title:"Upload failed",description:k.message,variant:"destructive"})}finally{r(!1),h.target.value=""}};return a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{children:"Bulk Programs & Schedules Upload"}),a.jsx(vt,{children:"Upload multiple classes and camps with their schedules at once using a CSV file"})]}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(W,{onClick:c,variant:"outline",className:"gap-2",children:[a.jsx(Jx,{className:"h-4 w-4"}),"Download Template"]}),a.jsxs("label",{htmlFor:"csv-upload",className:"flex-1",children:[a.jsx("input",{id:"csv-upload",type:"file",accept:".csv",onChange:v,disabled:t,className:"hidden"}),a.jsx(W,{asChild:!0,variant:"default",className:"w-full gap-2",disabled:t,children:a.jsxs("span",{children:[a.jsx(lr,{className:"h-4 w-4"}),t?"Uploading...":"Upload CSV"]})})]})]}),t&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(pu,{value:n}),a.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Processing... ",Math.round(n),"%"]})]}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[i.errors.length===0?a.jsx(Mr,{className:"h-5 w-5 text-green-500"}):a.jsx(Vi,{className:"h-5 w-5 text-yellow-500"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Upload Summary"})]}),a.jsxs("div",{className:"grid gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Classes Created"}),a.jsx(be,{variant:"secondary",children:i.classesCreated})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Camps Created"}),a.jsx(be,{variant:"secondary",children:i.campsCreated})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Schedules Generated"}),a.jsx(be,{variant:"secondary",children:i.schedulesGenerated})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Delivery Materials Added"}),a.jsx(be,{variant:"secondary",children:i.deliveryMaterialsAdded})]})]}),i.invitationsSent.length>0&&a.jsxs(ds,{children:[a.jsx(wc,{className:"h-4 w-4"}),a.jsxs(us,{children:[a.jsxs("div",{className:"font-medium mb-2",children:["Invitations Sent: ",i.invitationsSent.length]}),a.jsx("ul",{className:"text-sm space-y-1",children:i.invitationsSent.map((h,g)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Xh,{className:"h-3 w-3"}),h," (Instructor)"]},g))})]})]}),i.unassignedPrograms.length>0&&a.jsxs(ds,{variant:"destructive",children:[a.jsx(Vi,{className:"h-4 w-4"}),a.jsxs(us,{children:[a.jsxs("div",{className:"font-medium mb-2",children:["Programs Pending Instructor Assignment: ",i.unassignedPrograms.length]}),a.jsx("ul",{className:"text-sm space-y-1",children:i.unassignedPrograms.map((h,g)=>a.jsx("li",{children:h},g))})]})]}),i.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium text-destructive",children:["Errors: ",i.errors.length]}),a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:i.errors.map((h,g)=>a.jsxs(ds,{variant:"destructive",children:[a.jsx(Zf,{className:"h-4 w-4"}),a.jsxs(us,{children:["Row ",h.row,": ",h.message]})]},g))})]})]}),a.jsxs(ds,{children:[a.jsx(Zf,{className:"h-4 w-4"}),a.jsxs(us,{className:"text-sm",children:[a.jsx("strong",{children:"CSV Format Requirements:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:'program_type: "class" or "camp"'}),a.jsx("li",{children:"Timing fields (session_time, days_of_week) are optional but recommended"}),a.jsx("li",{children:"For camps: start_date and end_date are required"}),a.jsx("li",{children:"Multiple instructors: Separate emails with semicolons (;) or commas (,)"}),a.jsx("li",{children:"Delivery materials: Separate multiple links with semicolons (;)"}),a.jsx("li",{children:"Link types: google_drive, google_docs, google_slides, or external"}),a.jsx("li",{children:'Time format: "HH:MM-HH:MM" (e.g., "15:30-17:00" or "3:30pm-4:40pm")'}),a.jsx("li",{children:'Days format: "Monday,Wednesday,Friday"'})]})]})]})]})]})}function WV({open:e,onOpenChange:t,onSuccess:r}){const[n,s]=m.useState("class"),[i,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState([]),[f,p]=m.useState(""),[y,x]=m.useState([]),[b,w]=m.useState({date:"",start_time:"",end_time:""}),[v,h]=m.useState(!1),[g,_]=m.useState({start_date:"",end_date:"",start_time:"",end_time:"",frequency:"weekly",days_of_week:[]}),{toast:j}=Qe(),{isMobile:k}=uo(),[N,E]=m.useState({name:"",description:"",instructor_ids:[],location_name:"",location_address:"",location_room:"",max_students:15,level:"Beginner",age_group:"",start_date:"",end_date:"",price:""});m.useEffect(()=>{e&&(console.log("📂 Dialog opened, fetching instructors..."),R())},[e]),m.useEffect(()=>{console.log("👥 Current instructors state:",l)},[l]);const R=async()=>{try{console.log("🔍 Fetching instructors by role...");const{data:S,error:O}=await P.from("user_roles").select("user_id").in("role",["instructor","teacher"]).eq("is_active",!0);if(console.log("📋 User roles data (instructors/teachers only):",S),O)throw console.error("❌ Role error:",O),O;if(!S||S.length===0){console.log("⚠️ No users with instructor/teacher role found"),c([]);return}const H=S.map(je=>je.user_id);console.log("👥 Instructor IDs from roles:",H);const{data:V,error:ee}=await P.from("profiles").select("id, full_name, email").in("id",H);if(console.log("👤 Profile data:",V),ee)throw console.error("❌ Profile error:",ee),ee;console.log("✅ Setting instructors:",V),c(V||[])}catch(S){console.error("💥 Error fetching instructors:",S),j({title:"Error loading instructors",description:S.message,variant:"destructive"})}},T=S=>S.includes("docs.google.com/document")?"google_docs":S.includes("docs.google.com/presentation")?"google_slides":S.includes("drive.google.com")?"google_drive":"external",L=()=>{if(!f)return;const S=T(f),O={url:f,type:S,title:`${S.replace("_"," ")} Link`};u([...d,O]),p("")},D=S=>{u(d.filter((O,H)=>H!==S))},C=()=>{if(!b.date||!b.start_time||!b.end_time){j({title:"Missing schedule information",description:"Please fill in date, start time, and end time",variant:"destructive"});return}const S={...b,temp_id:`temp_${Date.now()}`};x([...y,S]),w({date:"",start_time:"",end_time:""})},M=S=>{x(y.filter(O=>O.temp_id!==S))},$=()=>{if(!g.start_date||!g.end_date||!g.start_time||!g.end_time){j({title:"Missing information",description:"Please fill in all recurring schedule fields",variant:"destructive"});return}if(g.frequency==="weekly"&&g.days_of_week.length===0){j({title:"No days selected",description:"Please select at least one day of the week",variant:"destructive"});return}const S=Pp(g.start_date,"yyyy-MM-dd",new Date),O=Pp(g.end_date,"yyyy-MM-dd",new Date),H=[];if(g.frequency==="daily"){let V=S;for(;V<=O;)H.push({date:me(V,"yyyy-MM-dd"),start_time:g.start_time,end_time:g.end_time,temp_id:`temp_${Date.now()}_${H.length}`}),V=yt(V,1)}else{let V=S;for(;V<=O;){const ee=V.getDay();g.days_of_week.includes(ee)&&H.push({date:me(V,"yyyy-MM-dd"),start_time:g.start_time,end_time:g.end_time,temp_id:`temp_${Date.now()}_${H.length}`}),V=yt(V,1)}}x([...y,...H]),_({start_date:"",end_date:"",start_time:"",end_time:"",frequency:"weekly",days_of_week:[]}),h(!1),j({title:"Sessions generated",description:`Added ${H.length} recurring sessions`})},B=S=>{_(O=>({...O,days_of_week:O.days_of_week.includes(S)?O.days_of_week.filter(H=>H!==S):[...O.days_of_week,S].sort()}))},U=async S=>{if(S.preventDefault(),!N.name||N.instructor_ids.length===0||!N.location_name){j({title:"Missing required fields",description:"Please fill in all required fields (Name, at least one Instructor, Location Name)",variant:"destructive"});return}const H=[N.location_name,N.location_address,N.location_room].filter(Boolean).join(", ");o(!0);try{if(n==="class"){const V=N.instructor_ids[0],{data:ee,error:je}=await P.from("classes").insert({name:N.name,description:N.description,instructor_id:V,location_name:N.location_name,location:H,max_students:N.max_students,level:N.level,age_group:N.age_group}).select().single();if(je)throw je;if(ee&&N.instructor_ids.length>0){const Z=N.instructor_ids.map((ue,F)=>({class_id:ee.id,instructor_id:ue,is_primary:F===0})),{error:Ne}=await P.from("class_instructors").insert(Z);if(Ne)throw Ne}if(y.length>0&&ee){const Z=y.map(ue=>({class_id:ee.id,start_time:`${ue.date}T${ue.start_time}:00`,end_time:`${ue.date}T${ue.end_time}:00`})),{error:Ne}=await P.from("class_schedules").insert(Z);if(Ne)throw Ne}if(d.length>0&&ee){const{data:{user:Z}}=await P.auth.getUser(),Ne=d.map(F=>({class_id:ee.id,material_type:"link",title:F.title,external_link:F.url,link_type:F.type,created_by:Z==null?void 0:Z.id})),{error:ue}=await P.from("class_delivery_materials").insert(Ne);if(ue)throw ue}j({title:"Class created successfully",description:`${N.name} has been added with ${y.length} session${y.length!==1?"s":""}`})}else{const V=N.instructor_ids[0],{data:ee,error:je}=await P.from("camps").insert({name:N.name,description:N.description,instructor_id:V,location_name:N.location_name,location:H,max_participants:N.max_students,level:N.level,age_group:N.age_group,start_date:N.start_date,end_date:N.end_date,price:N.price?parseFloat(N.price):null,is_active:!0}).select().single();if(je)throw je;if(y.length>0&&ee){const Z=y.map(ue=>({camp_id:ee.id,start_time:`${ue.date}T${ue.start_time}:00`,end_time:`${ue.date}T${ue.end_time}:00`})),{error:Ne}=await P.from("camp_schedules").insert(Z);if(Ne)throw Ne}j({title:"Camp created successfully",description:`${N.name} has been added with ${y.length} session${y.length!==1?"s":""}`})}E({name:"",description:"",instructor_ids:[],location_name:"",location_address:"",location_room:"",max_students:15,level:"Beginner",age_group:"",start_date:"",end_date:"",price:""}),u([]),x([]),r()}catch(V){j({title:"Error creating program",description:V.message,variant:"destructive"})}finally{o(!1)}};return a.jsx(gs,{open:e,onOpenChange:t,children:a.jsxs(In,{className:k?"w-full max-w-full h-[95vh] overflow-y-auto":"max-w-4xl max-h-[95vh] overflow-y-auto",children:[a.jsxs(Ln,{children:[a.jsxs(Fn,{className:"flex items-center gap-2 text-xl sm:text-2xl",children:[a.jsx(ey,{className:"h-6 w-6"}),"Add New Program"]}),a.jsxs(Ka,{children:["Create a new ",n==="class"?"Class":"Camp"]})]}),a.jsxs("form",{onSubmit:U,className:"space-y-6",children:[a.jsx(Gl,{value:n,onValueChange:S=>s(S),children:a.jsxs(fo,{className:"grid w-full grid-cols-2 h-8 p-0.5 bg-muted/50",children:[a.jsx(Gt,{value:"class",className:"text-xs h-7 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:font-semibold data-[state=inactive]:text-muted-foreground",children:"Class"}),a.jsx(Gt,{value:"camp",className:"text-xs h-7 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:font-semibold data-[state=inactive]:text-muted-foreground",children:"Camp"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"name",children:"Name *"}),a.jsx(ce,{id:"name",value:N.name,onChange:S=>E({...N,name:S.target.value}),placeholder:"Program name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"description",children:"Description"}),a.jsx(ws,{id:"description",value:N.description,onChange:S=>E({...N,description:S.target.value}),placeholder:"Program description",rows:3})]}),a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2 text-base",children:[a.jsx(Bi,{className:"h-4 w-4"}),"Location Details"]})}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"location_name",children:"Location Name *"}),a.jsx(ce,{id:"location_name",value:N.location_name,onChange:S=>E({...N,location_name:S.target.value}),placeholder:"Main Campus, Building A",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"location_address",children:"Address"}),a.jsx(ce,{id:"location_address",value:N.location_address,onChange:S=>E({...N,location_address:S.target.value}),placeholder:"123 Main St, City, State"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"location_room",children:"Room / Destination"}),a.jsx(ce,{id:"location_room",value:N.location_room,onChange:S=>E({...N,location_room:S.target.value}),placeholder:"Room 101, Lab A"})]})]})]}),a.jsx(ne,{className:"border-primary/20",children:a.jsx(ie,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"level",className:"text-xs sm:text-sm",children:"Level"}),a.jsxs(at,{value:N.level,onValueChange:S=>E({...N,level:S}),children:[a.jsx(tt,{className:"h-9",children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"Beginner",children:"Beginner"}),a.jsx(pe,{value:"Intermediate",children:"Intermediate"}),a.jsx(pe,{value:"Advanced",children:"Advanced"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"age_group",className:"text-xs sm:text-sm",children:"Age Group"}),a.jsx(ce,{id:"age_group",className:"h-9",value:N.age_group,onChange:S=>E({...N,age_group:S.target.value}),placeholder:"8-10"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"max_students",className:"text-xs sm:text-sm",children:"Max"}),a.jsx(ce,{id:"max_students",className:"h-9",type:"number",value:N.max_students,onChange:S=>E({...N,max_students:parseInt(S.target.value)}),min:"1"})]})]})})}),n==="camp"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"start_date",children:"Start Date *"}),a.jsx(ce,{id:"start_date",type:"date",value:N.start_date,onChange:S=>E({...N,start_date:S.target.value}),required:n==="camp"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"end_date",children:"End Date *"}),a.jsx(ce,{id:"end_date",type:"date",value:N.end_date,onChange:S=>E({...N,end_date:S.target.value}),required:n==="camp"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"price",children:"Price"}),a.jsx(ce,{id:"price",type:"number",step:"0.01",value:N.price,onChange:S=>E({...N,price:S.target.value}),placeholder:"0.00"})]})]}),a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2 text-base",children:[a.jsx(ze,{className:"h-4 w-4"}),"Class Sessions"]})}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(W,{type:"button",variant:v?"outline":"default",size:"sm",onClick:()=>h(!1),className:"flex-1",children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Single Session"]}),a.jsxs(W,{type:"button",variant:v?"default":"outline",size:"sm",onClick:()=>h(!0),className:"flex-1",children:[a.jsx(dd,{className:"h-4 w-4 mr-2"}),"Recurring"]})]}),v?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Start Date"}),a.jsx(ce,{type:"date",value:g.start_date,onChange:S=>_({...g,start_date:S.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"End Date"}),a.jsx(ce,{type:"date",value:g.end_date,onChange:S=>_({...g,end_date:S.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Start Time"}),a.jsx(ce,{type:"time",value:g.start_time,onChange:S=>_({...g,start_time:S.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"End Time"}),a.jsx(ce,{type:"time",value:g.end_time,onChange:S=>_({...g,end_time:S.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Frequency"}),a.jsxs(at,{value:g.frequency,onValueChange:S=>_({...g,frequency:S}),children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"daily",children:"Daily"}),a.jsx(pe,{value:"weekly",children:"Weekly"})]})]})]}),g.frequency==="weekly"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Days of Week"}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((S,O)=>a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx(Ks,{id:`day-${O}`,checked:g.days_of_week.includes(O),onCheckedChange:()=>B(O)}),a.jsx(Q,{htmlFor:`day-${O}`,className:"text-xs cursor-pointer",children:S})]},S))})]}),a.jsxs(W,{type:"button",onClick:$,size:"sm",variant:"secondary",className:"w-full",children:[a.jsx(dd,{className:"h-4 w-4 mr-2"}),"Generate Sessions"]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Date"}),a.jsx(ce,{type:"date",value:b.date,onChange:S=>w({...b,date:S.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"Start Time"}),a.jsx(ce,{type:"time",value:b.start_time,onChange:S=>w({...b,start_time:S.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-xs",children:"End Time"}),a.jsx(ce,{type:"time",value:b.end_time,onChange:S=>w({...b,end_time:S.target.value})})]})]}),a.jsxs(W,{type:"button",onClick:C,size:"sm",variant:"secondary",className:"w-full",children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Session"]})]})]})]}),y.length>0&&a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{children:a.jsxs(Te,{className:"text-sm font-semibold",children:["Scheduled Sessions (",y.length,")"]})}),a.jsx(ie,{children:a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 pr-2 pb-3",children:y.map(S=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg border",children:[a.jsx(ze,{className:"h-4 w-4 text-primary flex-shrink-0"}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Bi,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:me(Pp(S.date,"yyyy-MM-dd",new Date),"EEE, MMM dd, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:me(Qb(`2000-01-01T${S.start_time}`),"h:mm a")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:me(Qb(`2000-01-01T${S.end_time}`),"h:mm a")})]})]}),a.jsx(W,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(S.temp_id),children:a.jsx(Yr,{className:"h-4 w-4 text-destructive"})})]},S.temp_id))})})]}),n==="class"&&a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2 text-base",children:[a.jsx(Zw,{className:"h-4 w-4"}),"Delivery Materials (Optional)"]})}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{value:f,onChange:S=>p(S.target.value),placeholder:"https://docs.google.com/...",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),L())}),a.jsx(W,{type:"button",onClick:L,size:"icon",variant:"outline",children:a.jsx(Ls,{className:"h-4 w-4"})})]}),d.length>0&&a.jsx("div",{className:"space-y-2",children:d.map((S,O)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-lg border",children:[a.jsx(Zw,{className:"h-4 w-4 text-primary flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:S.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:S.url})]}),a.jsx(W,{type:"button",variant:"ghost",size:"icon",onClick:()=>D(O),children:a.jsx(Yr,{className:"h-4 w-4"})})]},O))})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx(Q,{htmlFor:"instructors",children:"Instructors * (select one or more)"}),a.jsx("div",{className:"border rounded-md p-3 space-y-2 max-h-48 overflow-y-auto",children:l.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No instructors found"}):l.map(S=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{id:`instructor-${S.id}`,checked:N.instructor_ids.includes(S.id),onCheckedChange:O=>{E(O?{...N,instructor_ids:[...N.instructor_ids,S.id]}:{...N,instructor_ids:N.instructor_ids.filter(H=>H!==S.id)})}}),a.jsxs(Q,{htmlFor:`instructor-${S.id}`,className:"text-sm font-normal cursor-pointer",children:[S.full_name||S.email,N.instructor_ids[0]===S.id&&a.jsx(be,{variant:"secondary",className:"ml-2 text-xs",children:"Primary"})]})]},S.id))}),N.instructor_ids.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.instructor_ids.length," instructor",N.instructor_ids.length!==1?"s":""," selected. First selected will be primary."]})]}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[a.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(W,{type:"submit",disabled:i,children:i?"Creating...":"Create Program"})]})]})]})})}function qV({userRole:e,onNavigateToOverview:t}){const[r,n]=m.useState(!1),[s,i]=m.useState(0),{isMobile:o}=uo(),l=()=>{i(d=>d+1),n(!1)},c=e==="admin"||e==="instructor"||e==="teacher";return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"w-5 h-5"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Classes and Camps"})]}),c&&a.jsxs(W,{onClick:()=>n(!0),size:o?"icon":"default",className:"rounded-full",children:[a.jsx(Ls,{className:"h-5 w-5"}),!o&&a.jsx("span",{className:"ml-2",children:"Add Program"})]})]}),a.jsxs(Gl,{defaultValue:"calendar",className:"w-full",children:[a.jsxs(fo,{className:o?"grid w-full grid-cols-2":"grid w-full grid-cols-2 max-w-md",children:[a.jsxs(Gt,{value:"calendar",className:"gap-2",children:[a.jsx(ze,{className:"h-4 w-4"}),!o&&"Calendar"]}),c&&a.jsxs(Gt,{value:"bulk-upload",className:"gap-2",children:[a.jsx(lr,{className:"h-4 w-4"}),!o&&"Bulk Upload"]})]}),a.jsx(Qr,{value:"calendar",className:"mt-4",children:a.jsx(DV,{userRole:e,refreshTrigger:s})}),c&&a.jsx(Qr,{value:"bulk-upload",className:"mt-4",children:a.jsx(rP,{onSuccess:l})})]}),c&&a.jsx(WV,{open:r,onOpenChange:n,onSuccess:l})]})}const L_=({userRole:e,onNavigateToOverview:t})=>a.jsx(qV,{userRole:e,onNavigateToOverview:t}),HV=({userRole:e,onNavigateToOverview:t})=>{const[r,n]=m.useState(new Date),[s,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[p,y]=m.useState(!1),[x,b]=m.useState(!1),[w,v]=m.useState(""),[h,g]=m.useState(""),{toast:_}=Qe(),j=ni(),k=oi(),N=Wt(r),E=Ya(r),R=Ht(N,{weekStartsOn:0}),T=oo(E,{weekStartsOn:0}),L=My({start:R,end:T}),{data:D=[],isLoading:C}=Zt({queryKey:["calendar-schedules",me(N,"yyyy-MM"),me(E,"yyyy-MM")],queryFn:async()=>{const{data:Z,error:Ne}=await P.from("class_schedules").select(`
          id,
          class_id,
          start_time,
          end_time,
          classes!inner (
            name,
            location,
            level
          )
        `).gte("start_time",N.toISOString()).lte("start_time",E.toISOString()).order("start_time");if(Ne)throw Ne;return(Z||[]).map(ue=>({...ue,class:ue.classes}))}}),M=Z=>D.filter(Ne=>lt(new Date(Ne.start_time),Z)),$=()=>{n(Z=>Ly(Z,1))},B=()=>{n(Z=>xr(Z,1))},U=()=>{n(new Date)},S=Z=>{switch(Z.toLowerCase()){case"beginner":return"bg-green-100 text-green-800 border-green-200";case"intermediate":return"bg-blue-100 text-blue-800 border-blue-200";case"advanced":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},O=Z=>{i(Z),l(!0),b(!1);const Ne=new Date(Z.start_time),ue=new Date(Z.end_time);v(me(Ne,"HH:mm")),g(me(ue,"HH:mm"))},H=()=>{b(!0)},V=async()=>{if(s)try{const Z=new Date(s.start_time),Ne=me(Z,"yyyy-MM-dd"),ue=new Date(`${Ne}T${w}:00`).toISOString(),F=new Date(`${Ne}T${h}:00`).toISOString(),{error:Y}=await P.from("class_schedules").update({start_time:ue,end_time:F}).eq("id",s.id);if(Y)throw Y;_({title:"Schedule Updated",description:"The schedule has been updated successfully."}),j.invalidateQueries({queryKey:["calendar-schedules"]}),l(!1),b(!1)}catch(Z){console.error("Error updating schedule:",Z),_({title:"Error",description:"Failed to update schedule.",variant:"destructive"})}},ee=async()=>{if(s){y(!0);try{const{error:Z}=await P.from("class_schedules").delete().eq("id",s.id);if(Z)throw Z;_({title:"Schedule Deleted",description:"The schedule has been successfully deleted."}),j.invalidateQueries({queryKey:["calendar-schedules"]}),d(!1),l(!1)}catch(Z){_({title:"Error",description:Z.message,variant:"destructive"})}finally{y(!1)}}},je=async()=>{y(!0);try{const Z=D.map(ue=>ue.id),{error:Ne}=await P.from("class_schedules").delete().in("id",Z);if(Ne)throw Ne;_({title:"All Schedules Deleted",description:`Successfully deleted ${Z.length} schedules.`}),j.invalidateQueries({queryKey:["calendar-schedules"]}),f(!1)}catch(Z){_({title:"Error",description:Z.message,variant:"destructive"})}finally{y(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Schedule Calendar"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:k?"Monthly view":"View all class schedules in a monthly calendar format"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e==="admin"&&D.length>0&&a.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>f(!0),className:"h-8",children:[a.jsx(Yr,{className:"h-3 w-3 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete All"})]}),a.jsx(W,{variant:"outline",size:"sm",onClick:U,className:"h-8 px-3",children:a.jsx("span",{className:"text-xs",children:"Today"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:$,className:"h-8 w-8 p-0",children:a.jsx(zi,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:B,className:"h-8 w-8 p-0",children:a.jsx(za,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:me(r,"MMMM yyyy")})}),a.jsx("div",{children:C?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[(k?["S","M","T","W","T","F","S"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).map((Z,Ne)=>a.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-muted-foreground",children:Z},Ne)),L.map(Z=>{const Ne=M(Z),ue=lt(Z,new Date);return a.jsxs("div",{className:`min-h-[80px] sm:min-h-[120px] p-1 border rounded-lg ${ru(Z,r)?ue?"bg-primary/5 border-primary":"bg-background":"bg-muted text-muted-foreground"}`,children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium mb-1",children:me(Z,"d")}),a.jsxs("div",{className:"space-y-1",children:[Ne.slice(0,k?2:3).map(F=>a.jsxs("div",{onClick:()=>O(F),className:"text-[10px] sm:text-xs p-1 rounded border-l-2 border-primary bg-primary/5 cursor-pointer hover:bg-primary/10 transition-colors",children:[a.jsx("div",{className:"font-medium truncate",children:F.class.name}),a.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-muted-foreground",children:[a.jsx(Hr,{className:"h-3 w-3"}),me(new Date(F.start_time),"HH:mm")]})]},F.id)),Ne.length>(k?2:3)&&a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground text-center",children:["+",Ne.length-(k?2:3)]})]})]},Z.toISOString())})]}),D.length>0&&a.jsxs(ne,{children:[a.jsx(ke,{className:"p-3 sm:p-6",children:a.jsxs(Te,{className:"text-sm sm:text-lg",children:["Monthly Summary (",D.length," sessions)"]})}),a.jsx(ie,{className:"p-3 sm:p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:D.map(Z=>a.jsx(ne,{className:"border cursor-pointer hover:border-primary transition-colors",onClick:()=>O(Z),children:a.jsx(ie,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:Z.class.name}),a.jsx(be,{className:`${S(Z.class.level)} text-xs flex-shrink-0`,children:k?Z.class.level.charAt(0):Z.class.level})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(ze,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:me(new Date(Z.start_time),"MMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(Hr,{className:"h-3 w-3 flex-shrink-0"}),me(new Date(Z.start_time),"HH:mm")," - ",me(new Date(Z.end_time),"HH:mm")]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(Bi,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Z.class.location})]})]})})},Z.id))})})]})]})}),a.jsx(gs,{open:o,onOpenChange:l,children:a.jsxs(In,{children:[a.jsxs(Ln,{children:[a.jsxs(Fn,{className:"flex items-center gap-2",children:[x?a.jsx(oc,{className:"h-5 w-5"}):a.jsx(gn,{className:"h-5 w-5"}),x?"Edit Schedule":"Schedule Details"]}),a.jsx(Ka,{children:x?"Update schedule times":"View and manage class schedule information"})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.class.name}),a.jsx(be,{className:S(s.class.level),children:s.class.level})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Date:"}),a.jsx("span",{children:me(new Date(s.start_time),"EEEE, MMMM d, yyyy")})]}),x?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"start-time",children:"Start Time"}),a.jsx(ce,{id:"start-time",type:"time",value:w,onChange:Z=>v(Z.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"end-time",children:"End Time"}),a.jsx(ce,{id:"end-time",type:"time",value:h,onChange:Z=>g(Z.target.value),className:"mt-1"})]})]}):a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Time:"}),a.jsxs("span",{children:[me(new Date(s.start_time),"HH:mm")," -",me(new Date(s.end_time),"HH:mm")]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Location:"}),a.jsx("span",{children:s.class.location})]})]})]}),a.jsx(Mm,{className:"gap-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx(W,{onClick:V,children:k?a.jsx(oc,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(oc,{className:"h-4 w-4 mr-2"}),"Save"]})}),a.jsx(W,{variant:"outline",onClick:()=>b(!1),children:k?a.jsx(Fs,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",onClick:()=>l(!1),children:k?a.jsx(Fs,{className:"h-4 w-4"}):"Close"}),e==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",onClick:H,children:k?a.jsx(oc,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(oc,{className:"h-4 w-4 mr-2"}),"Edit"]})}),a.jsx(W,{variant:"destructive",onClick:()=>{l(!1),d(!0)},children:k?a.jsx(Yr,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]})})]})}),a.jsx(_d,{open:c,onOpenChange:d,children:a.jsxs(Sl,{children:[a.jsxs(Cl,{children:[a.jsx(El,{children:"Delete Schedule?"}),a.jsxs(Tl,{children:["Are you sure you want to delete this schedule? This action cannot be undone.",s&&a.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"font-medium",children:s.class.name}),a.jsxs("p",{className:"text-sm",children:[me(new Date(s.start_time),"EEEE, MMMM d, yyyy")," at"," ",me(new Date(s.start_time),"HH:mm")]})]})]})]}),a.jsxs(kl,{children:[a.jsx(Ml,{disabled:p,children:"Cancel"}),a.jsx(Pl,{onClick:ee,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":"Delete"})]})]})}),a.jsx(_d,{open:u,onOpenChange:f,children:a.jsxs(Sl,{children:[a.jsxs(Cl,{children:[a.jsx(El,{children:"Delete All Schedules?"}),a.jsxs(Tl,{children:["Are you sure you want to delete all ",D.length," schedules for"," ",me(r,"MMMM yyyy"),"? This action cannot be undone."]})]}),a.jsxs(kl,{children:[a.jsx(Ml,{disabled:p,children:"Cancel"}),a.jsx(Pl,{onClick:je,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":`Delete All ${D.length} Schedules`})]})]})})]})};var De=function(){return De=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},De.apply(this,arguments)};function YV(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nP(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gu(e){return e.mode==="multiple"}function vu(e){return e.mode==="range"}function $m(e){return e.mode==="single"}var KV={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GV(e,t){return me(e,"LLLL y",t)}function QV(e,t){return me(e,"d",t)}function ZV(e,t){return me(e,"LLLL",t)}function XV(e){return"".concat(e)}function JV(e,t){return me(e,"cccccc",t)}function eW(e,t){return me(e,"yyyy",t)}var tW=Object.freeze({__proto__:null,formatCaption:GV,formatDay:QV,formatMonthCaption:ZV,formatWeekNumber:XV,formatWeekdayName:JV,formatYearCaption:eW}),rW=function(e,t,r){return me(e,"do MMMM (EEEE)",r)},nW=function(){return"Month: "},sW=function(){return"Go to next month"},aW=function(){return"Go to previous month"},iW=function(e,t){return me(e,"cccc",t)},oW=function(e){return"Week n. ".concat(e)},lW=function(){return"Year: "},cW=Object.freeze({__proto__:null,labelDay:rW,labelMonthDropdown:nW,labelNext:sW,labelPrevious:aW,labelWeekNumber:oW,labelWeekday:iW,labelYearDropdown:lW});function dW(){var e="buttons",t=KV,r=vm,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:tW,labels:cW,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function uW(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Wt(n):t&&(i=new Date(t,0,1)),s?o=Ya(s):r&&(o=new Date(r,11,31)),{fromDate:i?Yi(i):void 0,toDate:o?Yi(o):void 0}}var sP=m.createContext(void 0);function fW(e){var t,r=e.initialProps,n=dW(),s=uW(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;($m(r)||gu(r)||vu(r))&&(c=r.onSelect);var d=De(De(De({},n),r),{captionLayout:l,classNames:De(De({},n.classNames),r.classNames),components:De({},r.components),formatters:De(De({},n.formatters),r.formatters),fromDate:i,labels:De(De({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:De(De({},n.modifiers),r.modifiers),modifiersClassNames:De(De({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:De(De({},n.styles),r.styles),toDate:o});return a.jsx(sP.Provider,{value:d,children:e.children})}function ft(){var e=m.useContext(sP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function aP(e){var t=ft(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function hW(e){return a.jsx("svg",De({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function iP(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=ft(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:hW;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function mW(e){var t,r=ft(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(y6(n,s))for(var p=Wt(n),y=n.getMonth();y<=s.getMonth();y++)f.push(Dp(p,y));else for(var p=Wt(new Date),y=0;y<=11;y++)f.push(Dp(p,y));var x=function(w){var v=Number(w.target.value),h=Dp(Wt(e.displayMonth),v);e.onChange(h)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:iP;return a.jsx(b,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(w){return a.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function pW(e){var t,r=e.displayMonth,n=ft(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var y=s.getFullYear(),x=i.getFullYear(),b=y;b<=x;b++)p.push(Zb(PC(new Date),b));var w=function(h){var g=Zb(Wt(r),Number(h.target.value));e.onChange(g)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:iP;return a.jsx(v,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:u(r,{locale:o}),children:p.map(function(h){return a.jsx("option",{value:h.getFullYear(),children:u(h,{locale:o})},h.getFullYear())})})}function gW(e,t){var r=m.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function vW(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nl(i,s)<0){var d=-1*(c-1);s=xr(i,d)}return o&&Nl(s,o)<0&&(s=o),Wt(s)}function xW(){var e=ft(),t=vW(e),r=gW(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Wt(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function yW(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Wt(e),i=Wt(xr(s,n)),o=Nl(i,s),l=[],c=0;c<o;c++){var d=xr(s,c);l.push(d)}return r&&(l=l.reverse()),l}function wW(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Wt(e);if(!r)return xr(l,o);var c=Nl(r,e);if(!(c<i))return xr(l,o)}}function bW(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Wt(e);if(!r)return xr(l,-o);var c=Nl(l,r);if(!(c<=0))return xr(l,-o)}}var oP=m.createContext(void 0);function _W(e){var t=ft(),r=xW(),n=r[0],s=r[1],i=yW(n,t),o=wW(n,t),l=bW(n,t),c=function(f){return i.some(function(p){return ru(f,p)})},d=function(f,p){c(f)||(p&&wi(f,p)?s(xr(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(oP.Provider,{value:u,children:e.children})}function xu(){var e=m.useContext(oP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function F_(e){var t,r=ft(),n=r.classNames,s=r.styles,i=r.components,o=xu().goToMonth,l=function(u){o(xr(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:aP,d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:d}),a.jsx(mW,{onChange:l,displayMonth:e.displayMonth}),a.jsx(pW,{onChange:l,displayMonth:e.displayMonth})]})}function jW(e){return a.jsx("svg",De({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NW(e){return a.jsx("svg",De({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ph=m.forwardRef(function(e,t){var r=ft(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=De(De({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",De({},e,{ref:t,type:"button",className:o,style:l}))});function SW(e){var t,r,n=ft(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var p=d(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),b=[o.nav_button,o.nav_button_next].join(" "),w=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:NW,v=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:jW;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(Ph,{name:"previous-month","aria-label":p,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(Ph,{name:"next-month","aria-label":x,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(v,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function $_(e){var t=ft().numberOfMonths,r=xu(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return ru(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),p=function(){n&&i(n)},y=function(){s&&i(s)};return a.jsx(SW,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:y})}function CW(e){var t,r=ft(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:aP,d;return s?d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=a.jsx(F_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(F_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx($_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx($_,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:d})}function kW(e){var t=ft(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function EW(e,t,r){for(var n=r?Ys(new Date):Ht(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=yt(n,i);s.push(o)}return s}function TW(){var e=ft(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=EW(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},f)})]})}function PW(){var e,t=ft(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:TW;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function MW(e){var t=ft(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var C0=m.createContext(void 0);function DW(e){if(!gu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(C0.Provider,{value:t,children:e.children})}return a.jsx(RW,{initialProps:e.initialProps,children:e.children})}function RW(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(d,u,f){var p,y;(p=t.onDayClick)===null||p===void 0||p.call(t,d,u,f);var x=!!(u.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var b=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var w=n?nP([],n):[];if(u.selected){var v=w.findIndex(function(h){return lt(d,h)});w.splice(v,1)}else w.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,w,d,u,f)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,f=n.some(function(p){return lt(p,d)});return!!(u&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return a.jsx(C0.Provider,{value:c,children:r})}function k0(){var e=m.useContext(C0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function OW(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?lt(s,e)&&lt(n,e)?void 0:lt(s,e)?{from:s,to:void 0}:lt(n,e)?void 0:Rv(n,e)?{from:e,to:s}:{from:n,to:e}:s?Rv(e,s)?{from:s,to:e}:{from:e,to:s}:n?wi(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var E0=m.createContext(void 0);function AW(e){if(!vu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(E0.Provider,{value:t,children:e.children})}return a.jsx(IW,{initialProps:e.initialProps,children:e.children})}function IW(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,c=t.max,d=function(y,x,b){var w,v;(w=t.onDayClick)===null||w===void 0||w.call(t,y,x,b);var h=OW(y,n);(v=t.onSelect)===null||v===void 0||v.call(t,h,y,x,b)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],lt(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Vc(i,l-1),before:yt(i,l-1)}),i&&o&&u.disabled.push({after:i,before:yt(i,l-1)}),!i&&o&&u.disabled.push({after:Vc(o,l-1),before:yt(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:yt(i,-c+1)}),u.disabled.push({after:yt(i,c-1)})),i&&o){var f=ls(o,i)+1,p=c-f;u.disabled.push({before:Vc(i,p)}),u.disabled.push({after:yt(o,p)})}!i&&o&&(u.disabled.push({before:yt(o,-c+1)}),u.disabled.push({after:yt(o,c-1)}))}return a.jsx(E0.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function T0(){var e=m.useContext(E0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Cf(e){return Array.isArray(e)?nP([],e):e!==void 0?[e]:[]}function LW(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Cf(s)}),t}var Un;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Un||(Un={}));var FW=Un.Selected,Ns=Un.Disabled,$W=Un.Hidden,UW=Un.Today,Zp=Un.RangeEnd,Xp=Un.RangeMiddle,Jp=Un.RangeStart,zW=Un.Outside;function BW(e,t,r){var n,s=(n={},n[FW]=Cf(e.selected),n[Ns]=Cf(e.disabled),n[$W]=Cf(e.hidden),n[UW]=[e.today],n[Zp]=[],n[Xp]=[],n[Jp]=[],n[zW]=[],n);return e.fromDate&&s[Ns].push({before:e.fromDate}),e.toDate&&s[Ns].push({after:e.toDate}),gu(e)?s[Ns]=s[Ns].concat(t.modifiers[Ns]):vu(e)&&(s[Ns]=s[Ns].concat(r.modifiers[Ns]),s[Jp]=r.modifiers[Jp],s[Xp]=r.modifiers[Xp],s[Zp]=r.modifiers[Zp]),s}var lP=m.createContext(void 0);function VW(e){var t=ft(),r=k0(),n=T0(),s=BW(t,r,n),i=LW(t.modifiers),o=De(De({},s),i);return a.jsx(lP.Provider,{value:o,children:e.children})}function cP(){var e=m.useContext(lP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function WW(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qW(e){return!!(e&&typeof e=="object"&&"from"in e)}function HW(e){return!!(e&&typeof e=="object"&&"after"in e)}function YW(e){return!!(e&&typeof e=="object"&&"before"in e)}function KW(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function GW(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=ls(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=ls(e,n)>=0&&ls(s,e)>=0;return o}return s?lt(s,e):n?lt(n,e):!1}function QW(e){return Py(e)}function ZW(e){return Array.isArray(e)&&e.every(Py)}function XW(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(QW(r))return lt(e,r);if(ZW(r))return r.includes(e);if(qW(r))return GW(e,r);if(KW(r))return r.dayOfWeek.includes(e.getDay());if(WW(r)){var n=ls(r.before,e),s=ls(r.after,e),i=n>0,o=s<0,l=Rv(r.before,r.after);return l?o&&i:i||o}return HW(r)?ls(e,r.after)>0:YW(r)?ls(r.before,e)>0:typeof r=="function"?r(e):!1})}function P0(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return XW(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!ru(e,r)&&(s.outside=!0),s}function JW(e,t){for(var r=Wt(e[0]),n=Ya(e[e.length-1]),s,i,o=r;o<=n;){var l=P0(o,t),c=!l.disabled&&!l.hidden;if(!c){o=yt(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=yt(o,1)}return i||s}var eq=365;function dP(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,f=s.locale,p={day:yt,week:La,month:xr,year:g5,startOfWeek:function(w){return s.ISOWeek?Ys(w):Ht(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?MC(w):oo(w,{locale:f,weekStartsOn:c})}},y=p[r](e,n==="after"?1:-1);n==="before"&&d?y=v5([d,y]):n==="after"&&u&&(y=x5([u,y]));var x=!0;if(i){var b=P0(y,i);x=!b.disabled&&!b.hidden}return x?y:l.count>eq?l.lastFocused:dP(y,{moveBy:r,direction:n,context:s,modifiers:i,retry:De(De({},l),{count:l.count+1})})}var uP=m.createContext(void 0);function tq(e){var t=xu(),r=cP(),n=m.useState(),s=n[0],i=n[1],o=m.useState(),l=o[0],c=o[1],d=JW(t.displayMonths,r),u=s??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(s),i(void 0)},p=function(w){i(w)},y=ft(),x=function(w,v){if(s){var h=dP(s,{moveBy:w,direction:v,context:y,modifiers:r});lt(s,h)||(t.goToDate(h,s),p(h))}},b={focusedDay:s,focusTarget:u,blur:f,focus:p,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return a.jsx(uP.Provider,{value:b,children:e.children})}function M0(){var e=m.useContext(uP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function rq(e,t){var r=cP(),n=P0(e,r,t);return n}var D0=m.createContext(void 0);function nq(e){if(!$m(e.initialProps)){var t={selected:void 0};return a.jsx(D0.Provider,{value:t,children:e.children})}return a.jsx(sq,{initialProps:e.initialProps,children:e.children})}function sq(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(D0.Provider,{value:s,children:r})}function fP(){var e=m.useContext(D0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function aq(e,t){var r=ft(),n=fP(),s=k0(),i=T0(),o=M0(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,p=o.focus,y=o.focusMonthBefore,x=o.focusMonthAfter,b=o.focusYearBefore,w=o.focusYearAfter,v=o.focusStartOfWeek,h=o.focusEndOfWeek,g=function(U){var S,O,H,V;$m(r)?(S=n.onDayClick)===null||S===void 0||S.call(n,e,t,U):gu(r)?(O=s.onDayClick)===null||O===void 0||O.call(s,e,t,U):vu(r)?(H=i.onDayClick)===null||H===void 0||H.call(i,e,t,U):(V=r.onDayClick)===null||V===void 0||V.call(r,e,t,U)},_=function(U){var S;p(e),(S=r.onDayFocus)===null||S===void 0||S.call(r,e,t,U)},j=function(U){var S;f(),(S=r.onDayBlur)===null||S===void 0||S.call(r,e,t,U)},k=function(U){var S;(S=r.onDayMouseEnter)===null||S===void 0||S.call(r,e,t,U)},N=function(U){var S;(S=r.onDayMouseLeave)===null||S===void 0||S.call(r,e,t,U)},E=function(U){var S;(S=r.onDayPointerEnter)===null||S===void 0||S.call(r,e,t,U)},R=function(U){var S;(S=r.onDayPointerLeave)===null||S===void 0||S.call(r,e,t,U)},T=function(U){var S;(S=r.onDayTouchCancel)===null||S===void 0||S.call(r,e,t,U)},L=function(U){var S;(S=r.onDayTouchEnd)===null||S===void 0||S.call(r,e,t,U)},D=function(U){var S;(S=r.onDayTouchMove)===null||S===void 0||S.call(r,e,t,U)},C=function(U){var S;(S=r.onDayTouchStart)===null||S===void 0||S.call(r,e,t,U)},M=function(U){var S;(S=r.onDayKeyUp)===null||S===void 0||S.call(r,e,t,U)},$=function(U){var S;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),d();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),u();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?b():y();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?w():x();break;case"Home":U.preventDefault(),U.stopPropagation(),v();break;case"End":U.preventDefault(),U.stopPropagation(),h();break}(S=r.onDayKeyDown)===null||S===void 0||S.call(r,e,t,U)},B={onClick:g,onFocus:_,onBlur:j,onKeyDown:$,onKeyUp:M,onMouseEnter:k,onMouseLeave:N,onPointerEnter:E,onPointerLeave:R,onTouchCancel:T,onTouchEnd:L,onTouchMove:D,onTouchStart:C};return B}function iq(){var e=ft(),t=fP(),r=k0(),n=T0(),s=$m(e)?t.selected:gu(e)?r.selected:vu(e)?n.selected:void 0;return s}function oq(e){return Object.values(Un).includes(e)}function lq(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(oq(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function cq(e,t){var r=De({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=De(De({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function dq(e,t,r){var n,s,i,o=ft(),l=M0(),c=rq(e,t),d=aq(e,c),u=iq(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var k;c.outside||l.focusedDay&&f&&lt(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var p=lq(o,c).join(" "),y=cq(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),b=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:MW,w=a.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),v={style:y,className:p,children:w,role:"gridcell"},h=l.focusTarget&&lt(l.focusTarget,e)&&!c.outside,g=l.focusedDay&&lt(l.focusedDay,e),_=De(De(De({},v),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=g||h?0:-1,n)),d),j={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:v};return j}function uq(e){var t=m.useRef(null),r=dq(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(Ph,De({name:"day",ref:t},r.buttonProps)):a.jsx("div",De({},r.divProps))}function fq(e){var t=e.number,r=e.dates,n=ft(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),p=function(y){s(t,r,y)};return a.jsx(Ph,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:p,children:u})}function hq(e){var t,r,n=ft(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:uq,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:fq,u;return o&&(u=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(d,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[u,e.dates.map(function(f){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},_$(f))})]})}function U_(e,t,r){for(var n=r!=null&&r.ISOWeek?MC(t):oo(t,r),s=r!=null&&r.ISOWeek?Ys(e):Ht(e,r),i=ls(n,s),o=[],l=0;l<=i;l++)o.push(yt(s,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?Dy(u):Oy(u,r),p=d.find(function(y){return y.weekNumber===f});return p?(p.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function mq(e,t){var r=U_(Wt(e),Ya(e),t);if(t!=null&&t.useFixedWeeks){var n=N$(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=La(i,6-n),l=U_(La(i,1),o,t);r.push.apply(r,l)}}return r}function pq(e){var t,r,n,s=ft(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,y=s.ISOWeek,x=mq(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),b=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:PW,w=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:hq,v=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:kW;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(b,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(h){return a.jsx(w,{displayMonth:e.displayMonth,dates:h.dates,weekNumber:h.weekNumber},h.weekNumber)})}),a.jsx(v,{displayMonth:e.displayMonth})]})}function gq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vq=gq()?m.useLayoutEffect:m.useEffect,eg=!1,xq=0;function z_(){return"react-day-picker-".concat(++xq)}function yq(e){var t,r=e??(eg?z_():null),n=m.useState(r),s=n[0],i=n[1];return vq(function(){s===null&&i(z_())},[]),m.useEffect(function(){eg===!1&&(eg=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function wq(e){var t,r,n=ft(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,c=xu().displayMonths,d=yq(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],p=o.month,y=e.displayIndex===0,x=e.displayIndex===c.length-1,b=!y&&!x;s==="rtl"&&(t=[y,x],x=t[0],y=t[1]),y&&(f.push(i.caption_start),p=De(De({},p),o.caption_start)),x&&(f.push(i.caption_end),p=De(De({},p),o.caption_end)),b&&(f.push(i.caption_between),p=De(De({},p),o.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:CW;return a.jsxs("div",{className:f.join(" "),style:p,children:[a.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(pq,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function bq(e){var t=ft(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function _q(e){var t,r,n=e.initialProps,s=ft(),i=M0(),o=xu(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var f=De(De({},s.styles.root),s.style),p=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,b){var w;return De(De({},x),(w={},w[b]=n[b],w))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:bq;return a.jsx("div",De({className:u.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:a.jsx(y,{children:o.displayMonths.map(function(x,b){return a.jsx(wq,{displayIndex:b,displayMonth:x},b)})})}))}function jq(e){var t=e.children,r=YV(e,["children"]);return a.jsx(fW,{initialProps:r,children:a.jsx(_W,{children:a.jsx(nq,{initialProps:r,children:a.jsx(DW,{initialProps:r,children:a.jsx(AW,{initialProps:r,children:a.jsx(VW,{children:a.jsx(tq,{children:t})})})})})})})}function Nq(e){return a.jsx(jq,De({},e,{children:a.jsx(_q,{initialProps:e})}))}function Zv({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(Nq,{showOutsideDays:r,className:G("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:G(xd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:G(xd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(zi,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(za,{className:"h-4 w-4"})},...n})}Zv.displayName="Calendar";var R0="Popover",[hP,nY]=tn(R0,[ri]),yu=ri(),[Sq,di]=hP(R0),mP=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=yu(t),c=m.useRef(null),[d,u]=m.useState(!1),[f=!1,p]=pn({prop:n,defaultProp:s,onChange:i});return a.jsx(rm,{...l,children:a.jsx(Sq,{scope:t,contentId:Kr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(y=>!y),[p]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};mP.displayName=R0;var pP="PopoverAnchor",Cq=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=di(pP,r),i=yu(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Zd,{...i,...n,ref:t})});Cq.displayName=pP;var gP="PopoverTrigger",vP=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=di(gP,r),i=yu(r),o=We(t,s.triggerRef),l=a.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_P(s.open),...n,ref:o,onClick:se(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Zd,{asChild:!0,...i,children:l})});vP.displayName=gP;var O0="PopoverPortal",[kq,Eq]=hP(O0,{forceMount:void 0}),xP=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=di(O0,t);return a.jsx(kq,{scope:t,forceMount:r,children:a.jsx(_r,{present:r||i.open,children:a.jsx($l,{asChild:!0,container:s,children:n})})})};xP.displayName=O0;var Al="PopoverContent",yP=m.forwardRef((e,t)=>{const r=Eq(Al,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=di(Al,e.__scopePopover);return a.jsx(_r,{present:n||i.open,children:i.modal?a.jsx(Tq,{...s,ref:t}):a.jsx(Pq,{...s,ref:t})})});yP.displayName=Al;var Tq=m.forwardRef((e,t)=>{const r=di(Al,e.__scopePopover),n=m.useRef(null),s=We(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return wm(o)},[]),a.jsx(su,{as:vr,allowPinchZoom:!0,children:a.jsx(wP,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:se(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pq=m.forwardRef((e,t)=>{const r=di(Al,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(wP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wP=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,p=di(Al,r),y=yu(r);return xm(),a.jsx(nu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(to,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(nm,{"data-state":_P(p.open),role:"dialog",id:p.contentId,...y,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bP="PopoverClose",Mq=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=di(bP,r);return a.jsx(_e.button,{type:"button",...n,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});Mq.displayName=bP;var Dq="PopoverArrow",Rq=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yu(r);return a.jsx(sm,{...s,...n,ref:t})});Rq.displayName=Dq;function _P(e){return e?"open":"closed"}var Oq=mP,Aq=vP,Iq=xP,jP=yP;const B_=Oq,V_=Aq,Xv=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(Iq,{children:a.jsx(jP,{ref:s,align:t,sideOffset:r,className:G("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xv.displayName=jP.displayName;const Lq=({onNavigateToOverview:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(new Date),[i,o]=m.useState("09:00"),[l,c]=m.useState("10:30"),[d,u]=m.useState({frequency:"weekly",interval:1,weekdays:[1],endDate:La(new Date,8)}),[f,p]=m.useState(!0),[y,x]=m.useState(!1),[b,w]=m.useState([]),{toast:v}=Qe(),{data:h=[]}=Zt({queryKey:["all-classes"],queryFn:async()=>{const{data:T,error:L}=await P.from("classes").select("id, name").order("name");if(L)throw L;return T}}),g=[new Date(2024,0,1),new Date(2024,6,4),new Date(2024,10,28),new Date(2024,11,25)],_=T=>g.some(L=>L.getDate()===T.getDate()&&L.getMonth()===T.getMonth()&&L.getFullYear()===T.getFullYear()),j=()=>{if(!n)return[];const T=[];let L=new Date(n);for(;wi(L,d.endDate)||L.getTime()===d.endDate.getTime();)if(d.frequency==="daily")(!d.weekdays||d.weekdays.includes(L.getDay()))&&(!f||!_(L))&&T.push(new Date(L)),L=yt(L,d.interval);else if(d.frequency==="weekly"){if(d.weekdays)for(const D of d.weekdays){const C=new Date(L),M=D-L.getDay();C.setDate(L.getDate()+M),(wi(C,d.endDate)||C.getTime()===d.endDate.getTime())&&!wi(C,n)&&(!f||!_(C))&&T.push(new Date(C))}L=La(L,d.interval)}return T.sort((D,C)=>D.getTime()-C.getTime())},k=()=>{const T=j();w(T)};K.useEffect(()=>{k()},[n,d,f]);const N=T=>{u(L=>{var D;return{...L,weekdays:(D=L.weekdays)!=null&&D.includes(T)?L.weekdays.filter(C=>C!==T):[...L.weekdays||[],T]}})},E=async()=>{if(!t||!n||b.length===0){v({title:"Error",description:"Please select a class and configure the schedule pattern",variant:"destructive"});return}x(!0);try{const T=b.map(C=>{const M=new Date(C),[$,B]=i.split(":").map(Number);M.setHours($,B,0,0);const U=new Date(C),[S,O]=l.split(":").map(Number);return U.setHours(S,O,0,0),{class_id:t,start_time:M.toISOString(),end_time:U.toISOString()}}),L=50;let D=0;for(let C=0;C<T.length;C+=L){const M=T.slice(C,C+L),{data:$,error:B}=await P.from("class_schedules").insert(M);if(B)throw B;D+=M.length}v({title:"Success",description:`Created ${D} recurring schedule entries`}),r(""),s(new Date),o("09:00"),c("10:30"),u({frequency:"weekly",interval:1,weekdays:[1],endDate:La(new Date,8)})}catch(T){console.error("Error creating recurring schedules:",T),v({title:"Error",description:"Failed to create recurring schedules",variant:"destructive"})}finally{x(!1)}},R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dd,{className:"h-5 w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Create Recurring Schedule"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate multiple schedule entries with a repeating pattern"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Class"}),a.jsxs(at,{value:t,onValueChange:r,children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select a class"})}),a.jsx(rt,{children:h.map(T=>a.jsx(pe,{value:T.id,children:T.name},T.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Start Date"}),a.jsxs(B_,{children:[a.jsx(V_,{asChild:!0,children:a.jsxs(W,{variant:"outline",className:G("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[a.jsx(ze,{className:"mr-2 h-4 w-4"}),n?me(n,"PPP"):"Pick a date"]})}),a.jsx(Xv,{className:"w-auto p-0",align:"start",children:a.jsx(Zv,{mode:"single",selected:n,onSelect:s,disabled:T=>wi(T,new Date),initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Start Time"}),a.jsx(ce,{type:"time",value:i,onChange:T=>o(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"End Time"}),a.jsx(ce,{type:"time",value:l,onChange:T=>c(T.target.value)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Q,{children:"Recurrence Pattern"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Frequency"}),a.jsxs(at,{value:d.frequency,onValueChange:T=>u(L=>({...L,frequency:T})),children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"daily",children:"Daily"}),a.jsx(pe,{value:"weekly",children:"Weekly"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Every"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{type:"number",min:"1",value:d.interval,onChange:T=>u(L=>({...L,interval:parseInt(T.target.value)||1})),className:"w-20"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:d.frequency==="daily"?"day(s)":"week(s)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"Days of the Week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((T,L)=>{var D;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{id:`weekday-${L}`,checked:((D=d.weekdays)==null?void 0:D.includes(L))||!1,onCheckedChange:()=>N(L)}),a.jsx(Q,{htmlFor:`weekday-${L}`,className:"text-sm font-normal",children:T})]},L)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{children:"End Date"}),a.jsxs(B_,{children:[a.jsx(V_,{asChild:!0,children:a.jsxs(W,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(ze,{className:"mr-2 h-4 w-4"}),me(d.endDate,"PPP")]})}),a.jsx(Xv,{className:"w-auto p-0",align:"start",children:a.jsx(Zv,{mode:"single",selected:d.endDate,onSelect:T=>T&&u(L=>({...L,endDate:T})),disabled:T=>n?wi(T,n):!1,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{id:"exclude-holidays",checked:f,onCheckedChange:T=>p(!!T)}),a.jsx(Q,{htmlFor:"exclude-holidays",className:"text-sm",children:"Exclude holidays"})]})]}),a.jsx(W,{onClick:E,disabled:!t||b.length===0||y,className:"w-full",children:y?"Creating...":`Create ${b.length} Schedule Entries`})]}),b.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mr,{className:"h-5 w-5 text-green-500"}),a.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Schedule Preview (",b.length," sessions)"]})]}),a.jsx("div",{children:a.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:b.slice(0,20).map((T,L)=>a.jsxs("div",{className:"p-2 text-sm border rounded-lg bg-primary/5",children:[a.jsx("div",{className:"font-medium",children:me(T,"MMM d, yyyy")}),a.jsx("div",{className:"text-xs text-muted-foreground",children:me(T,"EEEE")}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[i," - ",l]})]},L))}),b.length>20&&a.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-4",children:["... and ",b.length-20," more sessions"]})]})})]})]})},Fq=({onNavigateToOverview:e})=>a.jsx(HV,{userRole:"admin",onNavigateToOverview:e}),$q=({onNavigateToOverview:e})=>a.jsx(rP,{onSuccess:()=>e==null?void 0:e()}),Uq=({onNavigateToOverview:e})=>a.jsx(Lq,{onNavigateToOverview:e}),zq=({userRole:e,onNavigateToOverview:t})=>{const[r,n]=m.useState([]),[s,i]=m.useState(""),[o,l]=m.useState([]),[c,d]=m.useState(!1),[u,f]=m.useState(""),{toast:p}=Qe(),y=async()=>{try{let h=P.from("classes").select("id, name");if(e!=="admin"){const{data:{user:j}}=await P.auth.getUser();j&&(h=h.eq("instructor_id",j.id))}const{data:g,error:_}=await h.order("name");if(_)throw _;n(g||[])}catch(h){console.error("Error fetching classes:",h),p({title:"Error",description:"Failed to fetch classes",variant:"destructive"})}},x=async h=>{try{console.log("Admin fetching media for class:",h),console.log("Current user role:",e);const{data:{user:g}}=await P.auth.getUser();console.log("Current user:",g==null?void 0:g.id,g==null?void 0:g.email);const{data:_,error:j}=await P.from("class_media").select("*").eq("class_id",h).order("created_at",{ascending:!1});if(console.log("Media fetch result:",{data:_,error:j}),j)throw j;l(_||[])}catch(g){console.error("Error fetching media:",g),p({title:"Error",description:"Failed to fetch media",variant:"destructive"})}};m.useEffect(()=>{y()},[e]),m.useEffect(()=>{s&&x(s)},[s]);const b=async h=>{if(!h.target.files||h.target.files.length===0)return;if(!s){p({title:"Error",description:"Please select a class first",variant:"destructive"});return}const g=h.target.files[0],_=g.name.split(".").pop(),j=`${Date.now()}-${Math.random().toString(36).substring(2)}.${_}`,k=`${s}/${j}`;d(!0);try{const{data:{user:N}}=await P.auth.getUser();if(console.log("[ClassMediaUpload] Selected class ID:",s),console.log("[ClassMediaUpload] Current user ID:",N==null?void 0:N.id),!N)throw new Error("User not authenticated");const{data:E,error:R}=await P.rpc("get_user_role",{user_id:N.id});console.log("[ClassMediaUpload] get_user_role result:",{roleData:E,roleError:R});const T={class_id:s,file_name:g.name,file_path:k,file_type:g.type.startsWith("image/")?"image":"video",mime_type:g.type,file_size:g.size,uploaded_by:N.id,caption:u||null};console.log("[ClassMediaUpload] Insert payload:",T);const{error:L}=await P.storage.from("class-media").upload(k,g);if(L)throw L;const{error:D,data:C}=await P.from("class_media").insert([T]);if(console.log("[ClassMediaUpload] DB insert result:",{dbData:C,dbError:D}),D)throw D;p({title:"Success",description:"Media uploaded successfully"}),f(""),x(s),h.target.value=""}catch(N){console.error("Error uploading media:",N),N&&N.details&&console.error("[ClassMediaUpload] RLS error details:",N.details),p({title:"Error",description:"Failed to upload media",variant:"destructive"})}finally{d(!1)}},w=async(h,g)=>{if(confirm("Are you sure you want to delete this media?"))try{console.log("[deleteMedia] Attempting to delete mediaId:",h);const{data:_,error:j}=await P.from("class_media").select("id, file_name, file_path");console.log("[deleteMedia] Current media list:",{allMedia:_,allMediaError:j});const{data:k,error:N}=await P.storage.from("class-media").remove([g]);if(console.log("[deleteMedia] Storage remove result:",{storageData:k,storageError:N}),N)throw N;const{data:E,error:R}=await P.from("class_media").delete().eq("id",h);if(console.log("[deleteMedia] DB delete result:",{dbData:E,dbError:R}),R)throw R;p({title:"Success",description:"Media deleted successfully"}),x(s)}catch(_){console.error("Error deleting media:",_),_&&_.details&&console.error("[deleteMedia] RLS error details:",_.details),p({title:"Error",description:"Failed to delete media",variant:"destructive"})}},v=h=>{const{data:g}=P.storage.from("class-media").getPublicUrl(h);return g.publicUrl};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground flex items-center gap-2 mb-1",children:[a.jsx(lr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Class Media Management"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload and manage photos and videos for your classes"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select Class"}),a.jsxs(at,{value:s,onValueChange:i,children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Choose a class"})}),a.jsx(rt,{children:r.map(h=>a.jsx(pe,{value:h.id,children:h.name},h.id))})]})]}),s&&a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium",children:"Upload New Media"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Caption (optional)"}),a.jsx(ws,{placeholder:"Add a caption for this media",value:u,onChange:h=>f(h.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Select File"}),a.jsx(ce,{type:"file",accept:"image/*,video/*",onChange:b,disabled:c}),c&&a.jsx("p",{className:"text-sm text-blue-600",children:"Uploading..."})]})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-medium",children:["Class Media (",o.length,")"]}),o.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(h=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[h.file_type==="image"?a.jsx(Lr,{className:"h-4 w-4"}):a.jsx(no,{className:"h-4 w-4"}),a.jsx(be,{variant:"outline",className:"text-xs",children:h.file_type})]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>w(h.id,h.file_path),children:a.jsx(Fs,{className:"h-4 w-4"})})]}),h.file_type==="image"?a.jsx("img",{src:v(h.file_path),alt:h.caption||h.file_name,className:"w-full h-32 object-cover rounded"}):a.jsx("video",{src:v(h.file_path),className:"w-full h-32 object-cover rounded",controls:!0}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.file_name}),h.caption&&a.jsx("p",{className:"text-xs text-gray-600",children:h.caption}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(h.created_at).toLocaleDateString()})]}),a.jsxs(W,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(v(h.file_path),"_blank"),children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"View Full Size"]})]},h.id))}):a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No media found for this class. Upload some photos or videos to get started."})]})]})]})},NP=({onNavigateToOverview:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(!1),{toast:i}=Qe(),o=ni(),{isMobile:l,getMobileSpacing:c,getMobileGap:d}=uo(),{data:u=[]}=Zt({queryKey:["instructor-classes"],queryFn:async()=>{const{data:{user:v}}=await P.auth.getUser();if(!v)return[];const{data:h,error:g}=await P.from("classes").select("id, name").eq("instructor_id",v.id).order("name");if(g)throw g;return h}}),{data:f=[]}=Zt({queryKey:["class-delivery-materials",t],queryFn:async()=>{if(!t)return[];const{data:v,error:h}=await P.from("class_delivery_materials").select("*").eq("class_id",t).order("session_number",{ascending:!0,nullsFirst:!1});if(h)throw h;return v},enabled:!!t}),p=$s({mutationFn:async v=>{const{data:{user:h}}=await P.auth.getUser();if(!h)throw new Error("Not authenticated");let g=null,_=null;if(v.file){const N=v.file.name.split(".").pop(),E=`${Math.random()}.${N}`,R=`${t}/${E}`,{error:T}=await P.storage.from("class-media").upload(R,v.file);if(T)throw T;g=R,_=v.file.size}const{data:j,error:k}=await P.from("class_delivery_materials").insert([{class_id:t,title:v.title,description:v.description,material_type:v.material_type,session_number:v.session_number,file_path:g,file_size:_,created_by:h.id}]).select().single();if(k)throw k;return j},onSuccess:()=>{o.invalidateQueries({queryKey:["class-delivery-materials",t]}),s(!1),i({title:"Material uploaded successfully",description:"Your delivery material has been added to the class."})},onError:v=>{i({title:"Upload failed",description:v.message,variant:"destructive"})}}),y=$s({mutationFn:async v=>{const{error:h}=await P.from("class_delivery_materials").delete().eq("id",v);if(h)throw h},onSuccess:()=>{o.invalidateQueries({queryKey:["class-delivery-materials",t]}),i({title:"Material deleted",description:"The delivery material has been removed."})}}),x=v=>{switch(v){case"video":return a.jsx(no,{className:"h-4 w-4"});case"presentation":case"document":return a.jsx(Ir,{className:"h-4 w-4"});default:return a.jsx(Ir,{className:"h-4 w-4"})}},b=v=>{if(!v)return"";const h=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(v)/Math.log(1024));return Math.round(v/Math.pow(1024,g)*100)/100+" "+h[g]},w=f.reduce((v,h)=>{const g=h.session_number||0;return v[g]||(v[g]=[]),v[g].push(h),v},{});return a.jsxs("div",{className:`space-y-6 ${c()}`,children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground flex items-center gap-2 mb-1",children:[a.jsx(Ir,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Instructor Resources"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload and manage lesson plans, presentations, and teaching resources"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"class-select",children:"Select Class"}),a.jsxs(at,{value:t,onValueChange:r,children:[a.jsx(tt,{className:"w-full sm:w-[300px]",children:a.jsx(it,{placeholder:"Choose a class"})}),a.jsx(rt,{children:u.map(v=>a.jsx(pe,{value:v.id,children:v.name},v.id))})]})]}),t&&a.jsxs(gs,{open:n,onOpenChange:s,children:[a.jsx(bd,{asChild:!0,children:a.jsxs(W,{children:[a.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add Material"]})}),a.jsxs(In,{className:"max-w-md",children:[a.jsx(Ln,{children:a.jsx(Fn,{children:"Upload Delivery Material"})}),a.jsx(Bq,{onSubmit:v=>p.mutate(v),isLoading:p.isPending})]})]})]}),t?f.length===0?a.jsx(ne,{children:a.jsx(ie,{className:"py-8 text-center text-muted-foreground",children:"No delivery materials uploaded yet. Start by adding lesson plans, presentations, or other teaching resources."})}):a.jsx("div",{className:`space-y-6 ${c()}`,children:Object.entries(w).sort(([v],[h])=>Number(v)-Number(h)).map(([v,h])=>a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{className:"text-lg",children:v==="0"?"General Materials":`Session ${v}`}),a.jsxs(vt,{children:[h.length," material",h.length!==1?"s":""]})]}),a.jsx(ie,{children:a.jsx("div",{className:`grid grid-cols-1 ${l?"sm:grid-cols-2":"sm:grid-cols-2 lg:grid-cols-3"} gap-4`,children:h.map(g=>a.jsx(Vq,{material:g,onDelete:()=>y.mutate(g.id),getMaterialIcon:x,formatFileSize:b},g.id))})})]},v))}):a.jsx(ne,{children:a.jsx(ie,{className:"py-8 text-center text-muted-foreground",children:"Select a class to view and manage delivery materials"})})]})},Bq=({onSubmit:e,isLoading:t})=>{const[r,n]=m.useState({title:"",description:"",material_type:"document",session_number:1,file:null}),s=i=>{i.preventDefault(),e({...r,file:r.file||void 0})};return a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"title",children:"Title"}),a.jsx(ce,{id:"title",value:r.title,onChange:i=>n(o=>({...o,title:i.target.value})),required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"description",children:"Description"}),a.jsx(ws,{id:"description",value:r.description,onChange:i=>n(o=>({...o,description:i.target.value})),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"material_type",children:"Type"}),a.jsxs(at,{value:r.material_type,onValueChange:i=>n(o=>({...o,material_type:i})),children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"lesson_plan",children:"Lesson Plan"}),a.jsx(pe,{value:"presentation",children:"Presentation"}),a.jsx(pe,{value:"video",children:"Video"}),a.jsx(pe,{value:"document",children:"Document"}),a.jsx(pe,{value:"activity",children:"Activity"}),a.jsx(pe,{value:"resource",children:"Resource"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"session_number",children:"Session"}),a.jsx(ce,{id:"session_number",type:"number",min:"1",value:r.session_number,onChange:i=>n(o=>({...o,session_number:parseInt(i.target.value)})),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"file",children:"File (optional)"}),a.jsx(ce,{id:"file",type:"file",onChange:i=>n(o=>{var l;return{...o,file:((l=i.target.files)==null?void 0:l[0])||null}}),accept:".pdf,.doc,.docx,.ppt,.pptx,.mp4,.mov,.avi"})]}),a.jsx(W,{type:"submit",disabled:t,className:"w-full",children:t?"Uploading...":"Upload Material"})]})},Vq=({material:e,onDelete:t,getMaterialIcon:r,formatFileSize:n})=>{const s=async()=>{if(!e.file_path)return;const{data:i,error:o}=await P.storage.from("class-media").download(e.file_path);if(o){console.error("Download error:",o);return}const l=URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=e.title,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)};return a.jsxs(ne,{className:"h-full",children:[a.jsxs(ke,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[r(e.material_type),a.jsx(Te,{className:"text-sm truncate",children:e.title})]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:a.jsx(Yr,{className:"h-3 w-3"})})]}),a.jsx(be,{variant:"secondary",className:"w-fit text-xs",children:e.material_type.replace("_"," ")})]}),a.jsxs(ie,{className:"space-y-2",children:[e.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),e.file_path&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:n(e.file_size)}),a.jsx(W,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:a.jsx(Jx,{className:"h-3 w-3"})})]})]})]})},Wq=({onNavigateToOverview:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState(""),[i,o]=m.useState(1),[l,c]=m.useState(!1),{toast:d}=Qe(),{data:u=[]}=Zt({queryKey:["instructor-classes"],queryFn:async()=>{const{data:{user:h}}=await P.auth.getUser();if(!h)return[];const{data:g,error:_}=await P.from("classes").select("id, name").eq("instructor_id",h.id).order("name");if(_)throw _;return g}}),f=h=>{const _=Array.from(h.target.files||[]).map(j=>({file:j,id:Math.random().toString(36).substr(2,9),progress:0,status:"pending"}));r(j=>[...j,..._])},p=h=>{r(g=>g.filter(_=>_.id!==h))},y=h=>{var _;const g=(_=h.split(".").pop())==null?void 0:_.toLowerCase();return["mp4","mov","avi","mkv"].includes(g||"")?a.jsx(no,{className:"h-4 w-4 text-blue-500"}):["jpg","jpeg","png","gif","webp"].includes(g||"")?a.jsx(Lr,{className:"h-4 w-4 text-green-500"}):a.jsx(Ir,{className:"h-4 w-4 text-gray-500"})},x=h=>{var _;const g=(_=h.split(".").pop())==null?void 0:_.toLowerCase();return["mp4","mov","avi","mkv"].includes(g||"")?"video":["ppt","pptx"].includes(g||"")?"presentation":["pdf","doc","docx"].includes(g||"")?"document":"resource"},b=h=>{const g=["Bytes","KB","MB","GB"];if(h===0)return"0 Bytes";const _=Math.floor(Math.log(h)/Math.log(1024));return Math.round(h/Math.pow(1024,_)*100)/100+" "+g[_]},w=async()=>{if(!n||t.length===0){d({title:"Error",description:"Please select a class and at least one file",variant:"destructive"});return}c(!0);try{const{data:{user:h}}=await P.auth.getUser();if(!h)throw new Error("Not authenticated");let g=0;const _=t.length;for(let j=0;j<t.length;j++){const k=t[j];r(N=>N.map(E=>E.id===k.id?{...E,status:"uploading",progress:0}:E));try{const N=k.file.name.split(".").pop(),E=`${Math.random()}.${N}`,R=`${n}/${E}`,{error:T}=await P.storage.from("class-media").upload(R,k.file);if(r(M=>M.map($=>$.id===k.id?{...$,progress:50}:$)),T)throw T;const L=x(k.file.name),D=k.file.name.split(".")[0].replace(/[_-]/g," "),{error:C}=await P.from("class_delivery_materials").insert([{class_id:n,title:D,description:"Uploaded via bulk upload",material_type:L,session_number:i,file_path:R,file_size:k.file.size,created_by:h.id}]);if(C)throw C;r(M=>M.map($=>$.id===k.id?{...$,status:"success",progress:100}:$)),g++}catch(N){console.error("Error uploading file:",N),r(E=>E.map(R=>R.id===k.id?{...R,status:"error",error:N.message}:R))}}d({title:"Upload Complete",description:`Successfully uploaded ${g} of ${_} files.`})}catch(h){console.error("Upload error:",h),d({title:"Upload Failed",description:h.message,variant:"destructive"})}finally{c(!1)}},v=()=>{r(h=>h.filter(g=>g.status!=="success"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground flex items-center gap-2 mb-1",children:[a.jsx(lr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Materials Upload"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload multiple teaching materials at once to a specific class and session"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"class-select",children:"Class"}),a.jsxs("select",{id:"class-select",value:n,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:l,children:[a.jsx("option",{value:"",children:"Select a class"}),u.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"session-number",children:"Session Number"}),a.jsx(ce,{id:"session-number",type:"number",min:"1",value:i,onChange:h=>o(parseInt(h.target.value)||1),disabled:l})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"files",children:"Select Files"}),a.jsx(ce,{id:"files",type:"file",multiple:!0,onChange:f,accept:".pdf,.doc,.docx,.ppt,.pptx,.mp4,.mov,.avi,.jpg,.jpeg,.png,.gif",disabled:l}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports: PDF, DOC, DOCX, PPT, PPTX, MP4, MOV, AVI, JPG, PNG, GIF"})]}),t.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.length," files selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:v,disabled:l,children:"Clear Completed"}),a.jsx(W,{onClick:w,disabled:!n||t.length===0||l,children:l?"Uploading...":"Upload All Files"})]})]})]}),t.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Upload Queue"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[y(h.file.name),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.file.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:b(h.file.size)})]}),a.jsx(be,{variant:h.status==="success"?"default":h.status==="error"?"destructive":h.status==="uploading"?"secondary":"outline",children:h.status})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[h.status==="uploading"&&a.jsx("div",{className:"w-20",children:a.jsx(pu,{value:h.progress,className:"h-2"})}),h.status==="error"&&h.error&&a.jsxs(ds,{className:"max-w-xs",children:[a.jsx(Vi,{className:"h-4 w-4"}),a.jsx(us,{className:"text-xs",children:h.error})]}),h.status==="success"&&a.jsx(Mr,{className:"h-4 w-4 text-green-500"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>p(h.id),disabled:l&&h.status==="uploading",children:a.jsx(Fs,{className:"h-4 w-4"})})]})]},h.id))})]})]})},qq=({onNavigateToOverview:e})=>{const[t,r]=m.useState("pending"),[n,s]=m.useState({}),{toast:i}=Qe(),o=ni(),{data:l=[],isLoading:c}=Zt({queryKey:["content-approvals",t],queryFn:async()=>{let v=P.from("content_approvals").select(`
          *,
          submitter_profile:submitted_by (
            full_name,
            email
          )
        `).order("submitted_at",{ascending:!1});t==="pending"?v=v.eq("status","pending"):["approved","rejected","auto_approved"].includes(t)&&(v=v.eq("status",t));const{data:h,error:g}=await v.limit(50);if(g)throw g;return h}}),{data:d}=Zt({queryKey:["approval-stats"],queryFn:async()=>{const{data:v,error:h}=await P.from("content_approvals").select("status").gte("submitted_at",new Date(Date.now()-2592e6).toISOString());if(h)throw h;const g={pending:0,approved:0,rejected:0,auto_approved:0};return v.forEach(_=>{g[_.status]++}),g}}),u=$s({mutationFn:async v=>{const{data:{user:h}}=await P.auth.getUser();if(!h)throw new Error("Not authenticated");const{error:g}=await P.from("content_approvals").update({status:v.status,reviewed_by:h.id,review_notes:v.notes,reviewed_at:new Date().toISOString()}).eq("id",v.approvalId);if(g)throw g},onSuccess:(v,h)=>{o.invalidateQueries({queryKey:["content-approvals"]}),o.invalidateQueries({queryKey:["approval-stats"]}),s(g=>{const _={...g};return delete _[h.approvalId],_}),i({title:"Success",description:`Content ${h.status} successfully`})},onError:v=>{i({title:"Error",description:v.message,variant:"destructive"})}}),f=$s({mutationFn:async v=>{const{data:{user:h}}=await P.auth.getUser();if(!h)throw new Error("Not authenticated");const{error:g}=await P.from("content_approvals").update({status:"approved",reviewed_by:h.id,review_notes:"Batch approved",reviewed_at:new Date().toISOString()}).in("id",v);if(g)throw g},onSuccess:(v,h)=>{o.invalidateQueries({queryKey:["content-approvals"]}),o.invalidateQueries({queryKey:["approval-stats"]}),i({title:"Success",description:`Approved ${h.length} items`})}}),p=(v,h)=>{const g=n[v]||"";u.mutate({approvalId:v,status:h,notes:g})},y=()=>{const v=l.filter(h=>h.status==="pending").map(h=>h.id);v.length!==0&&confirm(`Are you sure you want to approve ${v.length} pending items?`)&&f.mutate(v)},x=v=>{switch(v){case"class_media":return a.jsx(Lr,{className:"h-4 w-4"});case"announcement":return a.jsx(Ir,{className:"h-4 w-4"});case"delivery_material":return a.jsx(no,{className:"h-4 w-4"});default:return a.jsx(Ir,{className:"h-4 w-4"})}},b=v=>{switch(v){case"approved":return a.jsx(Mr,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(Fc,{className:"h-4 w-4 text-red-500"});case"auto_approved":return a.jsx(Mr,{className:"h-4 w-4 text-blue-500"});default:return a.jsx(Hr,{className:"h-4 w-4 text-yellow-500"})}},w=v=>{switch(v){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"auto_approved":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground flex items-center gap-2 mb-1",children:[a.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Content Approval Queue"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Review and approve content submitted by instructors"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx(Hr,{className:"h-8 w-8 mx-auto mb-2 text-foreground"}),a.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.pending}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx(Mr,{className:"h-8 w-8 mx-auto mb-2 text-foreground"}),a.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.approved}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx(SR,{className:"h-8 w-8 mx-auto mb-2 text-foreground"}),a.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.auto_approved}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Auto-Approved"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx(Fc,{className:"h-8 w-8 mx-auto mb-2 text-foreground"}),a.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.rejected}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rejected"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx("div",{className:"h-8 w-8 mx-auto mb-2 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-8 w-16 mx-auto bg-muted animate-pulse rounded"}),a.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Pending"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx("div",{className:"h-8 w-8 mx-auto mb-2 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-8 w-16 mx-auto bg-muted animate-pulse rounded"}),a.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Approved"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx("div",{className:"h-8 w-8 mx-auto mb-2 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-8 w-16 mx-auto bg-muted animate-pulse rounded"}),a.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Auto-Approved"})]}),a.jsxs("div",{className:"p-4 text-center border rounded-lg bg-card",children:[a.jsx("div",{className:"h-8 w-8 mx-auto mb-2 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-8 w-16 mx-auto bg-muted animate-pulse rounded"}),a.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Rejected"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:t==="pending"&&l.length>0&&a.jsxs(W,{onClick:y,disabled:f.isPending,variant:"outline",children:[a.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve All Pending"]})}),a.jsxs(Gl,{value:t,onValueChange:r,children:[a.jsxs(fo,{className:"grid w-full grid-cols-4",children:[a.jsxs(Gt,{value:"pending",children:["Pending ",d&&`(${d.pending})`]}),a.jsxs(Gt,{value:"approved",children:["Approved ",d&&`(${d.approved})`]}),a.jsxs(Gt,{value:"auto_approved",children:["Auto-Approved ",d&&`(${d.auto_approved})`]}),a.jsxs(Gt,{value:"rejected",children:["Rejected ",d&&`(${d.rejected})`]})]}),a.jsx(Qr,{value:t,className:"mt-6",children:c?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-6 w-1/3 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-4 w-2/3 bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded"})]})},v))}):l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(gn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsxs("h3",{className:"text-lg font-medium mb-2",children:["No ",t," content"]}),a.jsx("p",{className:"text-muted-foreground",children:t==="pending"?"All content has been reviewed":`No ${t} content found`})]}):a.jsx("div",{className:"space-y-4",children:l.map(v=>{var h,g;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[x(v.content_type),a.jsx("h4",{className:"font-medium capitalize",children:v.content_type.replace("_"," ")}),a.jsx(be,{className:w(v.status),children:v.status.replace("_"," ")})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Submitted by: ",((h=v.submitter_profile)==null?void 0:h.full_name)||"Unknown User","(",(g=v.submitter_profile)==null?void 0:g.email,")"]}),a.jsxs("p",{children:["Submitted: ",me(new Date(v.submitted_at),"MMM d, yyyy HH:mm")]}),v.reviewed_at&&a.jsxs("p",{children:["Reviewed: ",me(new Date(v.reviewed_at),"MMM d, yyyy HH:mm")]})]}),v.auto_approve_reason&&a.jsxs(ds,{children:[a.jsx(Vi,{className:"h-4 w-4"}),a.jsxs(us,{children:["Auto-approved: ",v.auto_approve_reason]})]}),v.review_notes&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("h5",{className:"font-medium text-sm mb-1",children:"Review Notes:"}),a.jsx("p",{className:"text-sm",children:v.review_notes})]}),v.status==="pending"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ws,{placeholder:"Review notes (optional)",value:n[v.id]||"",onChange:_=>s(j=>({...j,[v.id]:_.target.value}))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{size:"sm",onClick:()=>p(v.id,"approved"),disabled:u.isPending,children:[a.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve"]}),a.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>p(v.id,"rejected"),disabled:u.isPending,children:[a.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-2",children:b(v.status)})]})},v.id)})})})]})]})]})},Hq=({onNavigateToOverview:e})=>a.jsx(zq,{userRole:"admin",onNavigateToOverview:e}),Yq=({onNavigateToOverview:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Bulk Media Upload"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload multiple media files at once"}),a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Bulk media upload component - Coming soon"})]}),Kq=({onNavigateToOverview:e})=>a.jsx(NP,{onNavigateToOverview:e}),Gq=({onNavigateToOverview:e})=>a.jsx(Wq,{onNavigateToOverview:e}),Qq=({onNavigateToOverview:e})=>a.jsx(qq,{onNavigateToOverview:e});function Zq(e=32){const t=new Uint8Array(e);return crypto.getRandomValues(t),Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function W_(){return Zq(32)}function Um(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!["<",">",'"',"'","&",`
`,"\r","	"].some(n=>e.includes(n)):!1}function Wr(e){return e?e.replace(/[<>]/g,"").replace(/["'&]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim():""}const Xq=({onNavigateToOverview:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState({email:"",role:""}),{toast:i}=Qe(),o=async()=>{try{const{data:x,error:b}=await P.from("user_invitations").select("*").order("created_at",{ascending:!1});if(b)throw b;r(x||[])}catch(x){console.error("Error fetching invitations:",x),i({title:"Error",description:"Failed to fetch invitations",variant:"destructive"})}};m.useEffect(()=>{o()},[]);const l=async x=>{if(x.preventDefault(),!n.email||!n.role){i({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(!Um(n.email)){i({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}const b=W_();try{const{data:{user:w}}=await P.auth.getUser();if(!w){i({title:"Error",description:"You must be logged in to send invitations",variant:"destructive"});return}const{data:v,error:h}=await P.rpc("check_invitation_rate_limit",{user_id:w.id});if(h)console.error("Rate limit check error:",h);else if(v===!1){i({title:"Rate Limited",description:"You can only send 10 invitations per hour. Please try again later.",variant:"destructive"});return}const{error:g}=await P.from("user_invitations").insert([{email:Wr(n.email.toLowerCase()),role:n.role,invited_by:w.id,invitation_token:b}]);if(g)throw g;const _=`${window.location.origin}/signup?token=${b}`,{data:j}=await P.from("profiles").select("full_name").eq("id",w.id).single(),{error:k}=await P.functions.invoke("send-invitation-email",{body:{email:n.email,role:n.role,invitationLink:_,inviterName:(j==null?void 0:j.full_name)||void 0}});k?(console.error("Error sending email:",k),i({title:"Warning",description:"Invitation created but email failed to send. You can resend it later.",variant:"default"})):i({title:"Success",description:`Invitation sent to ${n.email}`}),s({email:"",role:""}),o()}catch(w){console.error("Error sending invitation:",w),i({title:"Error",description:"Failed to send invitation",variant:"destructive"})}},c=async x=>{try{const{data:{user:b}}=await P.auth.getUser();if(!b)return;const{data:w,error:v}=await P.rpc("check_invitation_rate_limit",{user_id:b.id});if(v)console.error("Rate limit check error:",v);else if(w===!1){i({title:"Rate Limited",description:"You can only send 10 invitations per hour. Please try again later.",variant:"destructive"});return}const{data:h}=await P.from("user_invitations").select("email, role").eq("id",x).single();if(!h)throw new Error("Invitation not found");const g=W_(),_=new Date;_.setDate(_.getDate()+7);const{error:j}=await P.from("user_invitations").update({invitation_token:g,expires_at:_.toISOString(),status:"pending"}).eq("id",x);if(j)throw j;const k=`${window.location.origin}/signup?token=${g}`,{data:N}=await P.from("profiles").select("full_name").eq("id",b.id).single(),{error:E}=await P.functions.invoke("send-invitation-email",{body:{email:h.email,role:h.role,invitationLink:k,inviterName:(N==null?void 0:N.full_name)||void 0}});E?(console.error("Error sending email:",E),i({title:"Warning",description:"Invitation updated but email failed to send",variant:"default"})):i({title:"Success",description:"Invitation resent successfully"}),o()}catch(b){console.error("Error resending invitation:",b),i({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},d=async x=>{if(confirm("Are you sure you want to delete this invitation?"))try{const{error:b}=await P.from("user_invitations").delete().eq("id",x);if(b)throw b;i({title:"Success",description:"Invitation deleted successfully"}),o()}catch(b){console.error("Error deleting invitation:",b),i({title:"Error",description:"Failed to delete invitation",variant:"destructive"})}},u=x=>{switch(x){case"accepted":return a.jsx(Mr,{className:"h-4 w-4 text-green-500"});case"expired":return a.jsx(Fc,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Hr,{className:"h-4 w-4 text-yellow-500"})}},f=x=>new Date(x).toLocaleDateString(),p=x=>new Date(x)<new Date,y=x=>{const b=`${window.location.origin}/signup?token=${x}`;navigator.clipboard.writeText(b),i({title:"Success",description:"Invitation link copied to clipboard"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground flex items-center gap-2 mb-1",children:[a.jsx(Xh,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Invite New Users"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send invitations to parents and instructors to join the platform"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email Address *"}),a.jsx(ce,{id:"email",type:"email",value:n.email,onChange:x=>s({...n,email:x.target.value}),placeholder:"user@example.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"role",children:"Role *"}),a.jsxs(at,{value:n.role,onValueChange:x=>s({...n,role:x}),children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select user role"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"parent",children:"Parent"}),a.jsx(pe,{value:"instructor",children:"Instructor"}),a.jsx(pe,{value:"student",children:"Student"})]})]})]})]}),a.jsxs(W,{type:"submit",className:"flex items-center gap-2",children:[a.jsx(wc,{className:"h-4 w-4"}),"Send Invitation"]})]}),a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wc,{className:"h-5 w-5"}),a.jsxs(Te,{children:["Sent Invitations (",t.length,")"]})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:o,className:"flex items-center gap-2",children:[a.jsx(ty,{className:"h-4 w-4"}),"Refresh"]})]})}),a.jsxs(ie,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(x=>a.jsxs(ne,{className:"border-2",children:[a.jsxs(ke,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Te,{className:"text-lg",children:x.email}),u(x.status)]}),a.jsxs(vt,{className:"text-sm",children:["Role: ",x.role]})]}),a.jsxs(ie,{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Status:"}),a.jsx("span",{className:`ml-1 capitalize ${x.status==="accepted"?"text-green-600":x.status==="expired"||p(x.expires_at)?"text-red-600":"text-yellow-600"}`,children:p(x.expires_at)?"expired":x.status})]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Sent:"})," ",f(x.created_at)]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Expires:"})," ",f(x.expires_at)]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[x.status==="pending"&&!p(x.expires_at)&&a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>y(x.invitation_token),className:"flex items-center gap-1",children:[a.jsx(oR,{className:"h-3 w-3"}),"Copy Link"]}),x.status==="pending"&&!p(x.expires_at)&&a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>c(x.id),className:"flex items-center gap-1",children:[a.jsx(wc,{className:"h-3 w-3"}),"Resend"]}),(x.status==="expired"||p(x.expires_at))&&a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>c(x.id),className:"flex items-center gap-1",children:[a.jsx(wc,{className:"h-3 w-3"}),"Renew"]}),a.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>d(x.id),className:"flex items-center gap-1",children:[a.jsx(Fc,{className:"h-3 w-3"}),"Delete"]})]})]})]},x.id))}),t.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No invitations sent yet. Send your first invitation to get started."})]})]})]})},Jq=({onNavigateToOverview:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(null),[f,p]=m.useState({title:"",content:"",target_classes:[],target_camps:[]});m.useEffect(()=>{y()},[]);const y=async()=>{try{const[w,v,h]=await Promise.all([P.from("classes").select("id, name, description, location, level, age_group, max_students, created_at, updated_at"),P.from("camps").select("id, name, description, location, level, age_group, max_participants, start_date, end_date, price, is_active, created_at, updated_at"),P.from("student_enrollments").select("*")]);if(w.error)throw w.error;if(v.error)throw v.error;if(h.error)throw h.error;r(w.data||[]),s(v.data||[]),o(h.data||[])}catch(w){console.error("Error fetching data:",w),go.error("Failed to fetch data")}finally{c(!1)}},x=async()=>{if(d)try{const v=(await d.text()).split(`
`).filter(E=>E.trim()),h=v[0].split(",").map(E=>E.trim().toLowerCase()),g=v.slice(1).map(E=>{const R=E.split(",").map(L=>L.trim()),T={};return h.forEach((L,D)=>{T[L]=R[D]}),T});if(!["student_name","student_email"].every(E=>h.includes(E))){go.error("CSV must include student_name and student_email columns");return}const k=g.map(E=>({student_name:E.student_name,student_email:E.student_email,parent_email:E.parent_email||"",class_id:E.class_id||null,camp_id:E.camp_id||null,enrollment_status:"active"})),{error:N}=await P.from("student_enrollments").insert(k);if(N)throw N;go.success(`Successfully imported ${g.length} students`),u(null),y()}catch(w){console.error("Error uploading CSV:",w),go.error("Failed to import students")}},b=async()=>{try{const{data:{user:w}}=await P.auth.getUser();if(!w)throw new Error("User not authenticated");const{error:v}=await P.from("announcements").insert([{title:f.title,content:f.content,created_by:w.id,target_classes:f.target_classes.length>0?f.target_classes:null,target_camps:f.target_camps.length>0?f.target_camps:null,target_audience:["all"],is_active:!0,priority:"normal",type:"announcement"}]);if(v)throw v;go.success("Announcement sent successfully"),p({title:"",content:"",target_classes:[],target_camps:[]})}catch(w){console.error("Error sending announcement:",w),go.error("Failed to send announcement")}};return l?a.jsx("div",{className:"flex justify-center items-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-3xl font-bold",style:{color:"hsl(25 60% 45%)"},children:"Admin Management"})}),a.jsxs(Gl,{defaultValue:"students",className:"space-y-4",children:[a.jsxs(fo,{className:"grid w-full grid-cols-3",children:[a.jsx(Gt,{value:"students",children:"Students"}),a.jsx(Gt,{value:"import",children:"CSV Import"}),a.jsx(Gt,{value:"announcements",children:"Announcements"})]}),a.jsx(Qr,{value:"students",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Student Enrollments (",i.length,")"]})}),a.jsx(ie,{children:a.jsx("div",{className:"space-y-2",children:i.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:w.student_name}),a.jsx("p",{className:"text-sm text-gray-600",children:w.student_email}),w.parent_email&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Parent: ",w.parent_email]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(be,{variant:w.enrollment_status==="active"?"default":"secondary",children:w.enrollment_status}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.class_id?"Class":"Camp"," Enrollment"]})]})]},w.id))})})]})}),a.jsx(Qr,{value:"import",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"h-5 w-5"}),"Import Students via CSV"]}),a.jsx(vt,{children:"Upload a CSV file with columns: student_name, student_email, parent_email (optional), class_id (optional), camp_id (optional)"})]}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"csv-file",children:"CSV File"}),a.jsx(ce,{id:"csv-file",type:"file",accept:".csv",onChange:w=>{var v;return u(((v=w.target.files)==null?void 0:v[0])||null)}})]}),a.jsxs(W,{onClick:x,disabled:!d,children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Import Students"]})]})]})}),a.jsx(Qr,{value:"announcements",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Xw,{className:"h-5 w-5"}),"Send Targeted Announcement"]})}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"announcement-title",children:"Title"}),a.jsx(ce,{id:"announcement-title",value:f.title,onChange:w=>p({...f,title:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"announcement-content",children:"Content"}),a.jsx(ws,{id:"announcement-content",value:f.content,onChange:w=>p({...f,content:w.target.value}),rows:4})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Target Classes (Optional)"}),a.jsxs(at,{value:"",onValueChange:w=>{f.target_classes.includes(w)||p({...f,target_classes:[...f.target_classes,w]})},children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select classes"})}),a.jsx(rt,{children:t.map(w=>a.jsx(pe,{value:w.id,children:w.name},w.id))})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:f.target_classes.map(w=>{const v=t.find(h=>h.id===w);return v?a.jsxs(be,{variant:"outline",children:[v.name,a.jsx("button",{className:"ml-1 text-xs",onClick:()=>p({...f,target_classes:f.target_classes.filter(h=>h!==w)}),children:"×"})]},w):null})})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Target Camps (Optional)"}),a.jsxs(at,{value:"",onValueChange:w=>{f.target_camps.includes(w)||p({...f,target_camps:[...f.target_camps,w]})},children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select camps"})}),a.jsx(rt,{children:n.map(w=>a.jsx(pe,{value:w.id,children:w.name},w.id))})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:f.target_camps.map(w=>{const v=n.find(h=>h.id===w);return v?a.jsxs(be,{variant:"outline",children:[v.name,a.jsx("button",{className:"ml-1 text-xs",onClick:()=>p({...f,target_camps:f.target_camps.filter(h=>h!==w)}),children:"×"})]},w):null})})]})]}),a.jsxs(W,{onClick:b,children:[a.jsx(Xw,{className:"mr-2 h-4 w-4"}),"Send Announcement"]})]})]})})]})]})},eH=({onNavigateToOverview:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState("parent");m.useState(!1);const{toast:i}=Qe(),o=ni(),{data:l=[],isLoading:c}=Zt({queryKey:["family-members"],queryFn:async()=>{const{data:{user:x}}=await P.auth.getUser();if(!x)return[];const{data:b,error:w}=await P.rpc("get_family_members",{user_id:x.id});if(w)throw w;return b}}),{data:d}=Zt({queryKey:["current-user-profile"],queryFn:async()=>{const{data:{user:x}}=await P.auth.getUser();if(!x)return null;const{data:b}=await P.from("profiles").select("*").eq("id",x.id).single(),{data:w}=await P.from("user_roles").select("role").eq("user_id",x.id).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).single();return{...b,role:w==null?void 0:w.role}}}),u=$s({mutationFn:async x=>{const{data:{user:b}}=await P.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:w,error:v}=await P.from("profiles").select("id").eq("email",x.email.toLowerCase()).single();if(v||!w)throw new Error("User not found. Please ensure they have signed up first.");const h=(d==null?void 0:d.role)==="parent",{error:g}=await P.from("family_relationships").insert([{parent_id:h?b.id:w.id,child_id:h?w.id:b.id,relationship_type:x.relationshipType,is_primary:l.length===0}]);if(g)throw g;return w},onSuccess:()=>{o.invalidateQueries({queryKey:["family-members"]}),r(""),i({title:"Success",description:"Family member linked successfully"})},onError:x=>{i({title:"Error",description:x.message,variant:"destructive"})}}),f=$s({mutationFn:async x=>{const{data:{user:b}}=await P.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:w}=await P.from("family_relationships").delete().or(`parent_id.eq.${b.id},child_id.eq.${b.id}`).or(`parent_id.eq.${x},child_id.eq.${x}`);if(w)throw w},onSuccess:()=>{o.invalidateQueries({queryKey:["family-members"]}),i({title:"Success",description:"Family member unlinked successfully"})},onError:x=>{i({title:"Error",description:x.message,variant:"destructive"})}}),p=x=>{x.preventDefault(),t.trim()&&u.mutate({email:t.trim(),relationshipType:n})},y=(x,b)=>{confirm(`Are you sure you want to unlink ${b}?`)&&f.mutate(x)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Family Management"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Link and manage family members to share access to class information"})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[d!=null&&d.role?a.jsxs(ds,{children:[a.jsx(bR,{className:"h-4 w-4"}),a.jsxs(us,{children:["You are registered as a ",a.jsx("strong",{children:d.role}),".",d.role==="parent"?" You can link your children to monitor their progress.":" You can link your parent/guardian accounts."]})]}):a.jsx(zo,{className:"h-16 w-full"}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"member-email",children:(d==null?void 0:d.role)==="parent"?"Child's Email":"Parent's Email"}),a.jsx(ce,{id:"member-email",type:"email",value:t,onChange:x=>r(x.target.value),placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"relationship",children:"Relationship"}),a.jsxs(at,{value:n,onValueChange:s,children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"parent",children:"Parent"}),a.jsx(pe,{value:"guardian",children:"Guardian"}),a.jsx(pe,{value:"caregiver",children:"Caregiver"})]})]})]})]}),a.jsxs(W,{type:"submit",disabled:u.isPending,className:"w-full md:w-auto",children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"}),u.isPending?"Linking...":"Link Family Member"]})]})]}),c?a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsx(zo,{className:"h-6 w-48"})}),a.jsx(ie,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(zo,{className:"h-20 w-full"}),a.jsx(zo,{className:"h-20 w-full"})]})})]}):l.length>0?a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{children:["Linked Family Members (",l.length,")"]})}),a.jsx(ie,{children:a.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:l.map(x=>a.jsx(ne,{className:"border",children:a.jsx(ie,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h4",{className:"font-medium text-sm sm:text-base truncate",children:x.member_name||"Unnamed User"}),x.is_primary&&a.jsx(be,{variant:"secondary",className:"text-xs flex-shrink-0",children:"Primary"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:x.member_email}),a.jsx(be,{variant:"outline",className:"text-[10px] sm:text-xs",children:x.relationship_type})]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>y(x.member_id,x.member_name),disabled:f.isPending,className:"h-8 w-8 p-0 flex-shrink-0",children:a.jsx(wR,{className:"h-4 w-4"})})]})})},x.member_id))})})]}):a.jsx(ne,{children:a.jsxs(ie,{className:"p-6 text-center",children:[a.jsx(bt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Family Members Linked"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by linking family members to share access to class information and progress updates."})]})})]})},tH=({onNavigateToOverview:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!1),[i,o]=m.useState(0),[l,c]=m.useState(!0),[d,u]=m.useState(null),{toast:f}=Qe(),{data:p=[]}=Zt({queryKey:["all-classes"],queryFn:async()=>{const{data:h,error:g}=await P.from("classes").select("id, name, instructor_id").order("name");if(g)throw g;return h}}),{data:y=[]}=Zt({queryKey:["all-camps"],queryFn:async()=>{const{data:h,error:g}=await P.from("camps").select("id, name, instructor_id").order("name");if(g)throw g;return h}}),x=()=>{const h=`student_name,student_email,parent_email,class_name,camp_name
"John Doe","john.doe@email.com","parent@email.com","Introduction to Robotics",""
"Jane Smith","jane.smith@email.com","jane.parent@email.com","","Summer Robotics Camp"
"Mike Johnson","mike.j@email.com","mike.parent@email.com","Advanced Programming",""`,g=new Blob([h],{type:"text/csv"}),_=URL.createObjectURL(g),j=document.createElement("a");j.href=_,j.download="student_enrollment_template.csv",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(_)},b=h=>{const g=h.split(`
`).filter(j=>j.trim());if(g.length<2)return[];const _=[];for(let j=1;j<g.length;j++){const k=g[j].split(",").map(N=>N.replace(/"/g,"").trim());k.length>=3&&_.push({student_name:k[0],student_email:k[1],parent_email:k[2]||void 0,class_name:k[3]||void 0,camp_name:k[4]||void 0,row:j+1})}return _},w=h=>{const g=[];return h.forEach(_=>{_.student_name.trim()||g.push({row:_.row,message:"Student name is required."});const j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;j.test(_.student_email)||g.push({row:_.row,message:"Invalid student email format."}),_.parent_email&&!j.test(_.parent_email)&&g.push({row:_.row,message:"Invalid parent email format."}),!_.class_name&&!_.camp_name&&g.push({row:_.row,message:"Either class name or camp name must be specified."}),_.class_name&&_.camp_name&&g.push({row:_.row,message:"Student cannot be enrolled in both a class and camp simultaneously."})}),g},v=async()=>{var h;if(t){s(!0),o(0),u(null);try{const g=await t.text(),_=b(g);if(_.length===0)throw new Error("No valid student data found in CSV file");const j=w(_);if(j.length>0){u({success:0,errors:j,preview:_}),s(!1);return}o(20);const k=new Map(p.map(D=>[D.name.toLowerCase(),D.id])),N=new Map(y.map(D=>[D.name.toLowerCase(),D.id]));o(40);const E=[],R=[];for(const D of _){let C=null,M=null;if(D.class_name&&(C=k.get(D.class_name.toLowerCase()),!C)){R.push({row:D.row,message:`Class "${D.class_name}" not found.`});continue}if(D.camp_name&&(M=N.get(D.camp_name.toLowerCase()),!M)){R.push({row:D.row,message:`Camp "${D.camp_name}" not found.`});continue}E.push({student_name:D.student_name,student_email:D.student_email.toLowerCase(),parent_email:(h=D.parent_email)==null?void 0:h.toLowerCase(),class_id:C,camp_id:M,enrollment_status:"active"})}if(o(60),R.length>0){u({success:0,errors:R,preview:_}),s(!1);return}const T=50;let L=0;for(let D=0;D<E.length;D+=T){const C=E.slice(D,D+T),{error:M}=await P.from("student_enrollments").insert(C);if(M){R.push({row:0,message:`Database error: ${M.message}`});break}L+=C.length,o(60+30*(D+C.length)/E.length)}if(l&&L>0){const{data:{user:D}}=await P.auth.getUser();if(D){const C=new Set;E.forEach($=>{$.student_email&&C.add($.student_email),$.parent_email&&C.add($.parent_email)});let M=0;for(const $ of C)try{const{error:B}=await P.from("user_invitations").insert([{email:$,role:$.includes("parent")||E.some(U=>U.parent_email===$)?"parent":"student",invited_by:D.id,invitation_token:Math.random().toString(36).substr(2,15)}]);B||M++}catch(B){console.error("Error sending invitation to",$,B)}M>0&&f({title:"Invitations Sent",description:`Sent ${M} invitations to students and parents.`})}}o(100),u({success:L,errors:R,preview:_}),L>0&&f({title:"Success",description:`Successfully enrolled ${L} students.`})}catch(g){console.error("Error processing file:",g),f({title:"Upload Failed",description:g.message,variant:"destructive"})}finally{s(!1)}}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Bulk Student Enrollment"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enroll multiple students in classes or camps at once using a CSV file"})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx(Q,{htmlFor:"csv-file",children:"CSV File"}),a.jsx(ce,{id:"csv-file",type:"file",accept:".csv",onChange:h=>{var g;return r(((g=h.target.files)==null?void 0:g[0])||null)},disabled:n})]}),a.jsxs(W,{variant:"outline",onClick:x,className:"flex items-center gap-2 ml-4",children:[a.jsx(Jx,{className:"h-4 w-4"}),"Template"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{id:"send-invitations",checked:l,onCheckedChange:h=>c(!!h),disabled:n}),a.jsx(Q,{htmlFor:"send-invitations",className:"text-sm",children:"Send email invitations to students and parents"})]}),n&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Processing enrollments..."}),a.jsxs("span",{children:[Math.round(i),"%"]})]}),a.jsx(pu,{value:i})]}),a.jsx(W,{onClick:v,disabled:!t||n,className:"w-full",children:n?"Processing...":"Enroll Students"})]}),d&&a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{className:"flex items-center gap-2",children:[d.success>0?a.jsx(Mr,{className:"h-5 w-5 text-green-500"}):a.jsx(Vi,{className:"h-5 w-5 text-red-500"}),"Enrollment Results"]})}),a.jsxs(ie,{className:"space-y-4",children:[d.success>0&&a.jsxs(ds,{children:[a.jsx(Mr,{className:"h-4 w-4"}),a.jsxs(us,{children:["Successfully enrolled ",d.success," students."]})]}),d.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-destructive",children:"Errors Found:"}),a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:d.errors.map((h,g)=>a.jsxs(ds,{variant:"destructive",children:[a.jsx(Vi,{className:"h-4 w-4"}),a.jsxs(us,{children:["Row ",h.row,": ",h.message]})]},g))})]}),d.preview&&d.preview.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Preview of data:"}),a.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-medium border-b pb-2",children:[a.jsx("div",{children:"Student"}),a.jsx("div",{children:"Email"}),a.jsx("div",{children:"Parent Email"}),a.jsx("div",{children:"Class/Camp"})]}),d.preview.slice(0,10).map((h,g)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm py-1 border-b",children:[a.jsx("div",{className:"truncate",children:h.student_name}),a.jsx("div",{className:"truncate",children:h.student_email}),a.jsx("div",{className:"truncate",children:h.parent_email||"-"}),a.jsx("div",{className:"truncate",children:h.class_name||h.camp_name||"-"})]},g)),d.preview.length>10&&a.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["... and ",d.preview.length-10," more rows"]})]})]})]})]})]})},rH=({userRole:e,onNavigateToOverview:t})=>{const[r,n]=m.useState([]),[s,i]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState("general"),[u,f]=m.useState("normal"),[p,y]=m.useState([]),[x,b]=m.useState(null),[w,v]=m.useState(!0),[h,g]=m.useState(null),[_,j]=m.useState(null),{toast:k}=Qe(),N=ni(),E=C=>e==="admin"?!0:C.created_by===_,R=async()=>{try{const{data:{user:C}}=await P.auth.getUser();if(!C)throw new Error("User not authenticated");j(C.id);let M=P.from("announcements").select("*").order("created_at",{ascending:!1});e!=="admin"&&(M=M.or(`target_audience.cs.{${e}},created_by.eq.${C.id}`));const{data:$,error:B}=await M;if(B)throw console.error("Supabase error:",B),B;console.log("Fetched announcements:",($==null?void 0:$.length)||0),n($||[])}catch(C){console.error("Error fetching announcements:",C),k({title:"Error",description:`Failed to fetch announcements: ${C instanceof Error?C.message:"Unknown error"}`,variant:"destructive"})}};m.useEffect(()=>{R();const M=(async()=>{const{data:{user:$}}=await P.auth.getUser();return P.channel("announcements_changes").on("postgres_changes",{event:"*",schema:"public",table:"announcements"},U=>{if(U.eventType==="INSERT"){const S=U.new;(e==="admin"||S.created_by===($==null?void 0:$.id))&&n(O=>O.some(V=>V.id===S.id)?O:[S,...O])}else if(U.eventType==="UPDATE"){const S=U.new;n(O=>O.map(H=>H.id===S.id?S:H))}else if(U.eventType==="DELETE"){const S=U.old.id;n(O=>O.filter(H=>H.id!==S))}}).subscribe()})();return()=>{M.then($=>$.unsubscribe())}},[e]);const T=async C=>{if(C.preventDefault(),!s||!o){k({title:"Error",description:"Title and content are required",variant:"destructive"});return}try{const{data:{user:M}}=await P.auth.getUser();if(!M)throw new Error("User not authenticated");if(h){const{error:$}=await P.from("announcements").update({title:s,content:o,type:c,priority:u,target_audience:p.length>0?p:null,expires_at:x,is_active:w,updated_at:new Date().toISOString()}).eq("id",h);if($)throw $;n(B=>B.map(U=>U.id===h?{...U,title:s,content:o,type:c,priority:u,target_audience:p.length>0?p:null,expires_at:x,is_active:w}:U)),N.invalidateQueries({queryKey:["announcements"]}),k({title:"Success",description:"Announcement updated successfully"})}else{const{data:$,error:B}=await P.from("announcements").insert([{title:s,content:o,type:c,priority:u,target_audience:p.length>0?p:null,expires_at:x,is_active:w,created_by:M.id}]).select();if(B)throw B;$&&$.length>0&&n(U=>[$[0],...U]),N.invalidateQueries({queryKey:["announcements"]}),k({title:"Success",description:"Announcement created successfully"})}i(""),l(""),d("general"),f("normal"),y([]),b(null),v(!0),g(null)}catch(M){console.error("Error creating/updating announcement:",M),k({title:"Error",description:"Failed to create/update announcement",variant:"destructive"})}},L=async C=>{if(confirm("Are you sure you want to delete this announcement?"))try{const{error:M}=await P.from("announcements").delete().eq("id",C);if(M)throw M;n($=>$.filter(B=>B.id!==C)),N.invalidateQueries({queryKey:["announcements"]}),k({title:"Success",description:"Announcement deleted successfully"})}catch(M){console.error("Error deleting announcement:",M),k({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}},D=C=>{g(C.id),i(C.title),l(C.content),d(C.type),f(C.priority),y(C.target_audience||[]),b(C.expires_at||null),v(C.is_active)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fR,{className:"h-5 w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Manage Announcements"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage announcements for different user roles"})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"title",children:"Title"}),a.jsx(ce,{type:"text",id:"title",value:s,onChange:C=>i(C.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"type",children:"Type"}),a.jsxs(at,{value:c,onValueChange:d,children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select type"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"general",children:"General"}),a.jsx(pe,{value:"event",children:"Event"}),a.jsx(pe,{value:"news",children:"News"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"content",children:"Content"}),a.jsx(ws,{id:"content",value:o,onChange:C=>l(C.target.value),required:!0,rows:4})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"priority",children:"Priority"}),a.jsxs(at,{value:u,onValueChange:f,children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select priority"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"normal",children:"Normal"}),a.jsx(pe,{value:"high",children:"High"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"expiresAt",children:"Expires At (optional)"}),a.jsx(ce,{type:"date",id:"expiresAt",value:x||"",onChange:C=>b(C.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Target Audience"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(be,{variant:p.includes("instructor")?"default":"outline",onClick:()=>{p.includes("instructor")?y(p.filter(C=>C!=="instructor")):y([...p,"instructor"])},className:"cursor-pointer",children:"Instructor"}),a.jsx(be,{variant:p.includes("parent")?"default":"outline",onClick:()=>{p.includes("parent")?y(p.filter(C=>C!=="parent")):y([...p,"parent"])},className:"cursor-pointer",children:"Parent"}),a.jsx(be,{variant:p.includes("student")?"default":"outline",onClick:()=>{p.includes("student")?y(p.filter(C=>C!=="student")):y([...p,"student"])},className:"cursor-pointer",children:"Student"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"inline-flex items-center space-x-2",children:[a.jsx(ce,{type:"checkbox",id:"isActive",checked:w,onChange:()=>v(!w)}),a.jsx("span",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Is Active"})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(W,{type:"submit",children:h?a.jsxs(a.Fragment,{children:[a.jsx(eh,{className:"mr-2 h-4 w-4"}),"Update"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Create"]})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Announcements"}),r.length>0?a.jsx("div",{className:"divide-y divide-gray-200",children:r.map(C=>a.jsxs("div",{className:"py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:C.title}),a.jsx(be,{variant:"secondary",children:C.type}),C.priority==="high"&&a.jsx(be,{variant:"destructive",children:"High Priority"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Created at ",new Date(C.created_at).toLocaleDateString()]}),C.expires_at&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Expires at ",new Date(C.expires_at).toLocaleDateString()]}),C.target_audience&&C.target_audience.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.target_audience.map(M=>a.jsx(be,{variant:"outline",children:M},M))})]}),a.jsx("div",{className:"flex gap-2",children:E(C)&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>D(C),children:a.jsx(eh,{className:"h-4 w-4"})}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>L(C.id),children:a.jsx(Yr,{className:"h-4 w-4"})})]})})]},C.id))}):a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No announcements found."})]})]})]})},nH=({onNavigateToOverview:e})=>{const[t,r]=m.useState("default"),[n,s]=m.useState({enabled:!1,categories:{class_updates:!0,class_reminders:!0,schedule_changes:!0,announcements:!0,progress_reports:!0,assignments:!1}}),[i,o]=m.useState(navigator.onLine),[l,c]=m.useState(null),{toast:d}=Qe();m.useEffect(()=>{"Notification"in window&&r(Notification.permission);const x=()=>o(!0),b=()=>o(!1);window.addEventListener("online",x),window.addEventListener("offline",b);const w=v=>{v.preventDefault(),c(v)};return window.addEventListener("beforeinstallprompt",w),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",b),window.removeEventListener("beforeinstallprompt",w)}},[]);const u=async()=>{if(!("Notification"in window)){d({title:"Not Supported",description:"Notifications are not supported in this browser",variant:"destructive"});return}try{const x=await Notification.requestPermission();r(x),x==="granted"?(s(b=>({...b,enabled:!0})),d({title:"Notifications Enabled",description:"You'll now receive notifications about class updates"}),new Notification("AI & Robotics Academy",{body:"Notifications are now enabled!",icon:"/favicon.ico",badge:"/favicon.ico"})):d({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(x){console.error("Error requesting notification permission:",x),d({title:"Error",description:"Failed to request notification permission",variant:"destructive"})}},f=async()=>{if(!l){d({title:"Already Installed",description:"App is already installed or install prompt not available",variant:"destructive"});return}try{(await l.prompt()).outcome==="accepted"&&(d({title:"App Installed",description:"The app has been installed to your device"}),c(null))}catch(x){console.error("Error installing PWA:",x),d({title:"Install Failed",description:"Failed to install the app",variant:"destructive"})}},p=(x,b)=>{s(w=>({...w,categories:{...w.categories,[x]:b}}))},y=()=>{t==="granted"&&new Notification("Test Notification",{body:"This is a test notification from AI & Robotics Academy",icon:"/favicon.ico",badge:"/favicon.ico"})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Mobile Notifications"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage push notifications and mobile app settings"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-start gap-2",children:i?a.jsxs(a.Fragment,{children:[a.jsx(NR,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Online"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You're connected and will receive real-time updates"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(jR,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Offline"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You're offline. Some features may be limited until connection is restored"})]})]})}),l&&a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Jf,{className:"h-5 w-5"}),"Install App"]}),a.jsx(vt,{children:"Install the app on your device for a better experience"})]}),a.jsx(ie,{children:a.jsx(W,{onClick:f,className:"w-full",children:"Install App"})})]}),a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5"}),"Push Notifications"]}),a.jsx(vt,{children:"Stay updated with real-time notifications about your classes"})]}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Enable Notifications"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Permission status:",a.jsx(be,{variant:t==="granted"?"default":"destructive",className:"ml-2",children:t})]})]}),t!=="granted"?a.jsxs(W,{onClick:u,children:[a.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Enable"]}):a.jsx(W,{variant:"outline",onClick:y,children:"Test"})]}),t==="granted"&&a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx("h4",{className:"font-medium",children:"Notification Categories"}),Object.entries(n.categories).map(([x,b])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("span",{className:"text-sm font-medium capitalize",children:x.replace("_"," ")})}),a.jsx(W,{variant:b?"default":"outline",size:"sm",onClick:()=>p(x,!b),children:b?a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"h-3 w-3 mr-1"}),"On"]}):a.jsxs(a.Fragment,{children:[a.jsx(rR,{className:"h-3 w-3 mr-1"}),"Off"]})})]},x))]}),t==="denied"&&a.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-yellow-800",children:"Notifications are disabled. To enable them, please:"}),a.jsxs("ol",{className:"text-sm text-yellow-800 mt-2 list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Click the lock icon in your browser's address bar"}),a.jsx("li",{children:'Set notifications to "Allow"'}),a.jsx("li",{children:"Refresh this page"})]})]})]})]}),a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Jf,{className:"h-5 w-5"}),"Mobile Features"]}),a.jsx(vt,{children:"Additional features available on mobile devices"})]}),a.jsx(ie,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Offline Support"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Access basic features when offline"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Push Notifications"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time updates and reminders"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Home Screen Install"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add to home screen for quick access"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Background Sync"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync data when connection is restored"})]})]})})]})]})]})},sH=({onNavigateToOverview:e})=>a.jsx(Xq,{onNavigateToOverview:e}),aH=({onNavigateToOverview:e})=>a.jsx(Jq,{onNavigateToOverview:e}),iH=({onNavigateToOverview:e})=>a.jsx(eH,{onNavigateToOverview:e}),oH=({onNavigateToOverview:e})=>a.jsx(tH,{onNavigateToOverview:e}),lH=({onNavigateToOverview:e})=>a.jsx(rH,{userRole:"admin",onNavigateToOverview:e}),cH=({onNavigateToOverview:e})=>a.jsx(nH,{onNavigateToOverview:e}),dH=({onNavigateToOverview:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(!1),{toast:i}=Qe(),o=ni(),{isMobile:l,getMobileSpacing:c,getMobileGap:d}=uo(),{data:u=[]}=Zt({queryKey:["instructor-classes"],queryFn:async()=>{const{data:{user:v}}=await P.auth.getUser();if(!v)return[];const{data:h,error:g}=await P.from("classes").select("id, name").eq("instructor_id",v.id).order("name");if(g)throw g;return h}}),{data:f=[]}=Zt({queryKey:["class-updates",t],queryFn:async()=>{if(!t)return[];const{data:v,error:h}=await P.from("class_media").select("*").eq("class_id",t).order("created_at",{ascending:!1});if(h)throw h;return v},enabled:!!t}),p=$s({mutationFn:async v=>{const{data:{user:h}}=await P.auth.getUser();if(!h)throw new Error("Not authenticated");const g=v.files.map(async _=>{const j=_.name.split(".").pop(),k=`${Math.random()}.${j}`,N=`${t}/${k}`,{error:E}=await P.storage.from("class-media").upload(N,_);if(E)throw E;const{data:R,error:T}=await P.from("class_media").insert([{class_id:t,file_name:_.name,file_path:N,file_type:_.type.startsWith("image/")?"image":"video",mime_type:_.type,file_size:_.size,caption:v.caption,content_category:v.content_category,session_number:v.session_number,session_date:v.session_date,published_to_parents:v.publish_to_parents,admin_approved:!1,uploaded_by:h.id}]).select().single();if(T)throw T;return R});return Promise.all(g)},onSuccess:()=>{o.invalidateQueries({queryKey:["class-updates",t]}),s(!1),i({title:"Updates uploaded successfully",description:"Your class updates have been uploaded and will be reviewed before publishing to parents."})},onError:v=>{i({title:"Upload failed",description:v.message,variant:"destructive"})}}),y=$s({mutationFn:async({updateId:v,publish:h})=>{const{error:g}=await P.from("class_media").update({published_to_parents:h}).eq("id",v);if(g)throw g},onSuccess:(v,{publish:h})=>{o.invalidateQueries({queryKey:["class-updates",t]}),i({title:h?"Published to parents":"Unpublished from parents",description:h?"Parents can now see this update":"This update is no longer visible to parents"})}}),x=$s({mutationFn:async v=>{const{error:h}=await P.from("class_media").delete().eq("id",v);if(h)throw h},onSuccess:()=>{o.invalidateQueries({queryKey:["class-updates",t]}),i({title:"Update deleted",description:"The class update has been removed."})}}),b=v=>{const h={progress:"bg-blue-100 text-blue-800",achievement:"bg-green-100 text-green-800",highlight:"bg-purple-100 text-purple-800",activity:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"};return h[v]||h.general},w=f.reduce((v,h)=>{const g=h.content_category;return v[g]||(v[g]=[]),v[g].push(h),v},{});return a.jsxs("div",{className:`space-y-6 ${c()}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"class-select",children:"Select Class"}),a.jsxs(at,{value:t,onValueChange:r,children:[a.jsx(tt,{className:"w-full sm:w-[300px]",children:a.jsx(it,{placeholder:"Choose a class"})}),a.jsx(rt,{children:u.map(v=>a.jsx(pe,{value:v.id,children:v.name},v.id))})]})]}),t&&a.jsxs(gs,{open:n,onOpenChange:s,children:[a.jsx(bd,{asChild:!0,children:a.jsxs(W,{children:[a.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add Update"]})}),a.jsxs(In,{className:"max-w-md",children:[a.jsx(Ln,{children:a.jsx(Fn,{children:"Upload Class Update"})}),a.jsx(uH,{onSubmit:v=>p.mutate(v),isLoading:p.isPending})]})]})]}),t?f.length===0?a.jsx(ne,{children:a.jsx(ie,{className:"py-8 text-center text-muted-foreground",children:"No class updates yet. Start sharing photos, videos, and progress with parents!"})}):a.jsx("div",{className:`space-y-6 ${c()}`,children:Object.entries(w).map(([v,h])=>a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{className:"text-lg flex items-center gap-2",children:[a.jsx(be,{className:b(v),children:v.charAt(0).toUpperCase()+v.slice(1)}),a.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",h.length," update",h.length!==1?"s":"",")"]})]})}),a.jsx(ie,{children:a.jsx("div",{className:`grid grid-cols-1 ${l?"sm:grid-cols-2":"sm:grid-cols-2 lg:grid-cols-3"} gap-4`,children:h.map(g=>a.jsx(fH,{update:g,onTogglePublish:_=>y.mutate({updateId:g.id,publish:_}),onDelete:()=>x.mutate(g.id)},g.id))})})]},v))}):a.jsx(ne,{children:a.jsx(ie,{className:"py-8 text-center text-muted-foreground",children:"Select a class to view and manage updates"})})]})},uH=({onSubmit:e,isLoading:t})=>{const[r,n]=m.useState({caption:"",content_category:"general",session_number:void 0,session_date:"",publish_to_parents:!1,files:[]}),s=o=>{o.preventDefault(),r.files.length!==0&&e(r)},i=o=>{const l=Array.from(o.target.files||[]);n(c=>({...c,files:l}))};return a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"files",children:"Photos/Videos"}),a.jsx(ce,{id:"files",type:"file",multiple:!0,accept:"image/*,video/*",onChange:i,required:!0}),r.files.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.files.length," file",r.files.length!==1?"s":""," selected"]})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"caption",children:"Caption"}),a.jsx(ws,{id:"caption",value:r.caption,onChange:o=>n(l=>({...l,caption:o.target.value})),placeholder:"Describe what's happening in this update...",rows:3,required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"content_category",children:"Category"}),a.jsxs(at,{value:r.content_category,onValueChange:o=>n(l=>({...l,content_category:o})),children:[a.jsx(tt,{children:a.jsx(it,{})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"general",children:"General"}),a.jsx(pe,{value:"progress",children:"Progress"}),a.jsx(pe,{value:"achievement",children:"Achievement"}),a.jsx(pe,{value:"highlight",children:"Class Highlight"}),a.jsx(pe,{value:"activity",children:"Activity"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"session_number",children:"Session # (optional)"}),a.jsx(ce,{id:"session_number",type:"number",min:"1",value:r.session_number||"",onChange:o=>n(l=>({...l,session_number:o.target.value?parseInt(o.target.value):void 0}))})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"session_date",children:"Date (optional)"}),a.jsx(ce,{id:"session_date",type:"date",value:r.session_date,onChange:o=>n(l=>({...l,session_date:o.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(j0,{id:"publish_to_parents",checked:r.publish_to_parents,onCheckedChange:o=>n(l=>({...l,publish_to_parents:o}))}),a.jsx(Q,{htmlFor:"publish_to_parents",children:"Publish to parents immediately"})]}),a.jsx(W,{type:"submit",disabled:t||r.files.length===0,className:"w-full",children:t?"Uploading...":"Upload Update"})]})},fH=({update:e,onTogglePublish:t,onDelete:r})=>{const[n,s]=m.useState("");return K.useEffect(()=>{(async()=>{if(e.file_type==="image"){const{data:o}=await P.storage.from("class-media").createSignedUrl(e.file_path,3600);o!=null&&o.signedUrl&&s(o.signedUrl)}})()},[e.file_path,e.file_type]),a.jsxs(ne,{className:"h-full",children:[a.jsxs(ke,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.file_type==="image"?a.jsx(Lr,{className:"h-4 w-4"}):a.jsx(no,{className:"h-4 w-4"}),a.jsx(Te,{className:"text-sm truncate",children:e.file_name})]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:a.jsx(Yr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:e.published_to_parents?"default":"secondary",className:"text-xs",children:e.published_to_parents?"Published":"Draft"}),e.admin_approved&&a.jsx(be,{variant:"outline",className:"text-xs",children:"Approved"})]})]}),a.jsxs(ie,{className:"space-y-3",children:[e.file_type==="image"&&n&&a.jsx("img",{src:n,alt:e.caption||"Class update",className:"w-full h-32 object-cover rounded"}),e.caption&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:e.caption}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:me(new Date(e.created_at),"MMM d, yyyy")}),e.session_number&&a.jsxs("span",{children:["Session ",e.session_number]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(!e.published_to_parents),className:"flex-1",children:e.published_to_parents?a.jsxs(a.Fragment,{children:[a.jsx(Xf,{className:"h-3 w-3 mr-1"}),"Unpublish"]}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"h-3 w-3 mr-1"}),"Publish"]})})})]})]})},hH=({onNavigateToOverview:e})=>a.jsx(NP,{onNavigateToOverview:e}),mH=({onNavigateToOverview:e})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:"Class Updates"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and publish updates for your classes"}),a.jsx(dH,{onNavigateToOverview:e})]}),pH=({userRole:e})=>{const[t,r]=m.useState([]),[n,s]=m.useState([]),[i,o]=m.useState("all"),[l,c]=m.useState(!0),{toast:d}=Qe(),u=async()=>{try{const{data:{user:y}}=await P.auth.getUser();if(!y)return;const{data:x,error:b}=await P.from("class_enrollments").select(`
          class_id,
          classes!inner(
            id,
            name
          )
        `).eq("student_id",y.id);if(b)throw b;const w=(x==null?void 0:x.map(v=>({id:v.classes.id,name:v.classes.name})))||[];s(w)}catch(y){console.error("Error fetching enrolled classes:",y),d({title:"Error",description:"Failed to fetch your classes",variant:"destructive"})}},f=async()=>{try{const{data:{user:y}}=await P.auth.getUser();if(!y)return;let x=P.from("class_media").select(`
          *,
          classes!inner(
            name
          )
        `).eq("published_to_parents",!0).order("created_at",{ascending:!1});i!=="all"&&(x=x.eq("class_id",i));const{data:b,error:w}=await x;if(w)throw w;const v=(b==null?void 0:b.map(h=>({...h,class_name:h.classes.name})))||[];r(v)}catch(y){console.error("Error fetching class media:",y),d({title:"Error",description:"Failed to fetch class media",variant:"destructive"})}finally{c(!1)}};m.useEffect(()=>{u()},[]),m.useEffect(()=>{n.length>0&&f()},[n,i]);const p=y=>{const{data:x}=P.storage.from("class-media").getPublicUrl(y);return x.publicUrl};return l?a.jsx(ne,{children:a.jsx(ie,{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Lr,{className:"h-5 w-5"}),"Class Photos & Videos"]}),a.jsx(vt,{children:"View photos and videos shared by your instructors"})]}),a.jsxs(ie,{className:"space-y-6",children:[n.length>1&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Filter by Class"}),a.jsxs(at,{value:i,onValueChange:o,children:[a.jsx(tt,{className:"w-full sm:w-64",children:a.jsx(it,{placeholder:"All Classes"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Classes"}),n.map(y=>a.jsx(pe,{value:y.id,children:y.name},y.id))]})]})]}),t.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(y=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[y.file_type==="image"?a.jsx(Lr,{className:"h-4 w-4 text-blue-500"}):a.jsx(no,{className:"h-4 w-4 text-purple-500"}),a.jsx(be,{variant:"outline",className:"text-xs",children:y.file_type})]}),a.jsx(be,{variant:"secondary",className:"text-xs",children:y.class_name})]}),y.file_type==="image"?a.jsx("img",{src:p(y.file_path),alt:y.caption||y.file_name,className:"w-full h-40 object-cover rounded"}):a.jsx("video",{src:p(y.file_path),className:"w-full h-40 object-cover rounded",controls:!0,preload:"metadata"}),a.jsxs("div",{className:"space-y-2",children:[y.caption&&a.jsx("p",{className:"text-sm text-gray-700 font-medium",children:y.caption}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(ze,{className:"h-3 w-3"}),new Date(y.created_at).toLocaleDateString()]})]}),a.jsxs(W,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(p(y.file_path),"_blank"),children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),"View Full Size"]})]},y.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Media Found"}),a.jsx("p",{className:"text-gray-500",children:n.length===0?"You're not enrolled in any classes yet.":"Your instructors haven't shared any photos or videos yet."})]})]})]})},gH=e=>{const[t,r]=m.useState({progressData:[],achievements:[]}),[n,s]=m.useState(!0),{toast:i}=Qe(),o=async()=>{try{s(!0);const{data:{user:l},error:c}=await P.auth.getUser();if(c||!l){console.warn("User not authenticated for student progress"),r({progressData:[],achievements:[]});return}r({progressData:[],achievements:[]})}catch(l){console.error("Error fetching student progress:",l),i({title:"Error",description:"Failed to load progress data",variant:"destructive"}),r({progressData:[],achievements:[]})}finally{s(!1)}};return m.useEffect(()=>{o();const l=P.channel("student-progress-enrollments").on("postgres_changes",{event:"*",schema:"public",table:"class_enrollments"},()=>o()).subscribe(),c=P.channel("student-progress-classes").on("postgres_changes",{event:"*",schema:"public",table:"classes"},()=>o()).subscribe();return()=>{P.removeChannel(l),P.removeChannel(c)}},[e]),{data:t,loading:n,refetch:o}},SP=({userRole:e,onNavigateToOverview:t})=>{const{data:r,loading:n}=gH(e);return oi(),a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-semibold truncate",children:[e==="parent"&&"Your Child's Progress",e==="instructor"&&"Student Progress Overview",e==="student"&&"My Learning Journey"]}),a.jsxs(W,{variant:"outline",size:"sm",className:"h-8 flex-shrink-0",children:[a.jsx(It,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Full Report"})]})]}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:n?a.jsx(ne,{children:a.jsx(ie,{className:"p-4 sm:p-6",children:a.jsx("div",{className:"text-center text-gray-500 text-sm",children:"Loading progress..."})})}):r.progressData.length>0?r.progressData.map((s,i)=>a.jsxs(ne,{children:[a.jsx(ke,{className:"pb-2 sm:pb-3 p-3 sm:p-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx(Te,{className:"text-sm sm:text-base truncate",children:s.subject}),a.jsx(vt,{className:"text-xs sm:text-sm line-clamp-1",children:s.recentActivity})]}),a.jsx(be,{variant:"secondary",className:"text-xs flex-shrink-0",children:s.level})]})}),a.jsxs(ie,{className:"space-y-3 sm:space-y-4 p-3 sm:p-6 pt-0",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Progress"}),a.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[s.progress,"%"]})]}),a.jsx(pu,{value:s.progress,className:"h-1.5 sm:h-2"})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:s.badges.map((o,l)=>a.jsxs(be,{variant:"outline",className:"text-[10px] sm:text-xs",children:[a.jsx(bc,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-1"}),o]},l))}),a.jsxs("div",{className:"text-xs sm:text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Next milestone: "}),a.jsx("span",{className:"font-medium",children:s.nextMilestone})]})]})]},i)):a.jsx(ne,{children:a.jsx(ie,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[a.jsx("div",{className:"mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(ey,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm sm:text-base text-gray-900",children:"No Progress Yet"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[e==="parent"&&"Your children haven't been enrolled in any classes yet.",e==="instructor"&&"No student progress to display.",e==="student"&&"You haven't been enrolled in any classes yet."]})]})]})})})}),a.jsxs(ne,{children:[a.jsx(ke,{children:a.jsxs(Te,{className:"text-base flex items-center gap-2",children:[a.jsx(bc,{className:"h-5 w-5 text-yellow-500"}),"Recent Achievements"]})}),a.jsx(ie,{children:n?a.jsx("div",{className:"text-center text-gray-500 py-4",children:"Loading achievements..."}):r.achievements.length>0?a.jsx("div",{className:"space-y-3",children:r.achievements.map((s,i)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50",children:[a.jsx("div",{className:"p-2 rounded-full bg-accent/20",children:a.jsx(bc,{className:"h-4 w-4 text-accent"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:s.name}),a.jsx("p",{className:"text-xs text-gray-500",children:s.date})]})]},i))}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"mx-auto w-10 h-10 bg-muted rounded-full flex items-center justify-center mb-3",children:a.jsx(bc,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("p",{className:"text-sm text-gray-500",children:"No achievements earned yet"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Complete classes to earn your first achievement!"})]})})]}),e==="student"&&a.jsx(pH,{userRole:e})]})},vH=({userRole:e,onNavigateToOverview:t})=>{const[r,n]=m.useState([]),[s,i]=m.useState([]),[o,l]=m.useState("all"),[c,d]=m.useState("all"),[u,f]=m.useState(!0),{toast:p}=Qe(),y=async()=>{try{const{data:{user:h}}=await P.auth.getUser();if(!h)return;const{data:g,error:_}=await P.from("classes").select("id, name, instructor_id").order("name");if(_)throw _;i(g||[])}catch(h){console.error("Error fetching children classes:",h),p({title:"Error",description:"Failed to fetch classes",variant:"destructive"})}},x=async()=>{try{const{data:{user:h}}=await P.auth.getUser();if(!h)return;let g=P.from("class_media").select(`
          *,
          classes!inner(
            name
          )
        `).eq("published_to_parents",!0).eq("admin_approved",!0).order("created_at",{ascending:!1});o!=="all"&&(g=g.eq("class_id",o)),c!=="all"&&(g=g.eq("content_category",c));const{data:_,error:j}=await g;if(j)throw j;const k=(_==null?void 0:_.map(N=>({...N,class_name:N.classes.name})))||[];n(k)}catch(h){console.error("Error fetching class media:",h),p({title:"Error",description:"Failed to fetch class updates",variant:"destructive"})}finally{f(!1)}};m.useEffect(()=>{y()},[]),m.useEffect(()=>{x()},[o,c]);const b=h=>{const{data:g}=P.storage.from("class-media").getPublicUrl(h);return g.publicUrl},w=h=>{switch(h){case"progress_photos":return"bg-blue-100 text-blue-800";case"achievement_videos":return"bg-green-100 text-green-800";case"classroom_activities":return"bg-purple-100 text-purple-800";case"project_showcase":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},v=h=>h?h.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" "):"General";return u?a.jsx(ne,{children:a.jsx(ie,{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Lr,{className:"h-5 w-5"}),"Class Updates"]}),a.jsx(vt,{children:"View approved photos and videos from your children's classes"})]}),a.jsxs(ie,{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.length>1&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Filter by Class"}),a.jsxs(at,{value:o,onValueChange:l,children:[a.jsx(tt,{className:"w-full sm:w-48",children:a.jsx(it,{placeholder:"All Classes"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Classes"}),s.map(h=>a.jsx(pe,{value:h.id,children:h.name},h.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Filter by Category"}),a.jsxs(at,{value:c,onValueChange:d,children:[a.jsx(tt,{className:"w-full sm:w-48",children:a.jsx(it,{placeholder:"All Categories"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"all",children:"All Categories"}),a.jsx(pe,{value:"progress_photos",children:"Progress Photos"}),a.jsx(pe,{value:"achievement_videos",children:"Achievement Videos"}),a.jsx(pe,{value:"classroom_activities",children:"Classroom Activities"}),a.jsx(pe,{value:"project_showcase",children:"Project Showcase"}),a.jsx(pe,{value:"general",children:"General"})]})]})]})]}),r.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:r.map(h=>a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h.file_type==="image"?a.jsx(Lr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}):a.jsx(no,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-500 flex-shrink-0"}),a.jsx(be,{variant:"outline",className:"text-[10px] sm:text-xs",children:h.file_type})]}),a.jsx(be,{variant:"secondary",className:"text-[10px] sm:text-xs truncate max-w-[120px]",children:h.class_name})]}),h.content_category&&a.jsx(be,{className:`text-[10px] sm:text-xs ${w(h.content_category)}`,children:v(h.content_category)}),(h.session_number||h.session_date)&&a.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-muted-foreground",children:[a.jsx(It,{className:"h-3 w-3 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[h.session_number&&`Session ${h.session_number}`,h.session_date&&` - ${new Date(h.session_date).toLocaleDateString()}`]})]}),h.file_type==="image"?a.jsx("img",{src:b(h.file_path),alt:h.caption||h.file_name,className:"w-full h-32 sm:h-40 object-cover rounded"}):a.jsx("video",{src:b(h.file_path),className:"w-full h-32 sm:h-40 object-cover rounded",controls:!0,preload:"metadata"}),a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.caption&&a.jsx("p",{className:"text-xs sm:text-sm text-foreground font-medium line-clamp-2",children:h.caption}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-muted-foreground",children:[a.jsx(ze,{className:"h-3 w-3 flex-shrink-0"}),new Date(h.created_at).toLocaleDateString()]})]}),a.jsxs(W,{variant:"outline",size:"sm",className:"w-full h-8 text-xs",onClick:()=>window.open(b(h.file_path),"_blank"),children:[a.jsx(gn,{className:"mr-2 h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:"View Full Size"}),a.jsx("span",{className:"sm:hidden",children:"View"})]})]},h.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Updates Found"}),a.jsx("p",{className:"text-muted-foreground",children:s.length===0?"No classes available to view updates for.":"No approved class updates have been shared yet."})]})]})]})},xH=({onNavigateToOverview:e})=>a.jsx(SP,{userRole:"parent",onNavigateToOverview:e}),yH=({onNavigateToOverview:e})=>a.jsx(vH,{userRole:"parent",onNavigateToOverview:e}),wH=({onNavigateToOverview:e})=>a.jsx(SP,{userRole:"student",onNavigateToOverview:e}),bH=({onNavigateToOverview:e})=>{const{data:t,loading:r}=cE();return a.jsxs(ne,{children:[a.jsxs(ke,{children:[a.jsx(Te,{children:"My Assignments"}),a.jsx(vt,{children:"View and submit your assignments"})]}),a.jsx(ie,{children:r?a.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Loading assignments..."}):t.assignments.length>0?a.jsx("div",{className:"space-y-4",children:t.assignments.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:n.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",n.dueDate]})]}),a.jsx("span",{className:`text-sm ${n.status==="submitted"?"text-green-600":n.status==="in-progress"?"text-orange-600":"text-muted-foreground"}`,children:n.status==="submitted"?"Submitted":n.status==="in-progress"?"In Progress":"Pending"})]},n.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-muted rounded-full flex items-center justify-center mb-4",children:a.jsx(Ir,{className:"h-6 w-6 text-muted-foreground"})}),a.jsx("h4",{className:"font-medium mb-2",children:"No Assignments"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have any assignments yet. Check back when you're enrolled in classes!"})]})})]})},_H=()=>{const{user:e,userRole:t,actualUserRole:r,loading:n,switchRole:s,getAvailableRoles:i}=c5(),o=si(),[l,c]=m.useState("dashboard"),d=oi();if(K.useEffect(()=>{!n&&!e&&o("/login")},[e,n,o]),n)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-accent"})});if(!e)return null;const u=()=>{c("dashboard")},f=()=>{switch(l){case"dashboard":return a.jsx(d_,{userRole:t});case"profile":return e?a.jsx(SB,{user:e,userRole:t,onNavigateToOverview:u}):null;case"schedule":return a.jsx(n9,{userRole:t});case"products-analytics":return t==="admin"?a.jsx(wV,{onNavigateToOverview:u}):null;case"products-internal":return t==="admin"?a.jsx(bV,{onNavigateToOverview:u}):null;case"products-woocommerce-sync":return t==="admin"?a.jsx(_V,{onNavigateToOverview:u}):null;case"products-woocommerce-list":return t==="admin"?a.jsx(jV,{onNavigateToOverview:u}):null;case"programs-calendar":case"programs-bulk":return a.jsx(L_,{userRole:t,onNavigateToOverview:u});case"classes-single":case"classes-bulk":case"camps-single":case"camps-bulk":return a.jsx(L_,{userRole:t,onNavigateToOverview:u});case"schedules-calendar":return t==="admin"?a.jsx(Fq,{onNavigateToOverview:u}):null;case"schedules-bulk":return t==="admin"?a.jsx($q,{onNavigateToOverview:u}):null;case"schedules-recurring":return t==="admin"?a.jsx(Uq,{onNavigateToOverview:u}):null;case"media-single":return t==="admin"?a.jsx(Hq,{onNavigateToOverview:u}):null;case"media-bulk":return t==="admin"?a.jsx(Yq,{onNavigateToOverview:u}):null;case"materials-single":return t==="admin"?a.jsx(Kq,{onNavigateToOverview:u}):null;case"materials-bulk":return t==="admin"?a.jsx(Gq,{onNavigateToOverview:u}):null;case"content-approvals":return t==="admin"?a.jsx(Qq,{onNavigateToOverview:u}):null;case"users-invites":return t==="admin"?a.jsx(sH,{onNavigateToOverview:u}):null;case"users-admin":return t==="admin"?a.jsx(aH,{onNavigateToOverview:u}):null;case"users-families":return t==="admin"?a.jsx(iH,{onNavigateToOverview:u}):null;case"users-bulk-enrollment":return t==="admin"?a.jsx(oH,{onNavigateToOverview:u}):null;case"users-announcements":return t==="admin"?a.jsx(lH,{onNavigateToOverview:u}):null;case"users-mobile-notifications":return t==="admin"?a.jsx(cH,{onNavigateToOverview:u}):null;case"materials":return t==="instructor"||t==="teacher"?a.jsx(hH,{onNavigateToOverview:u}):null;case"updates":return t==="instructor"||t==="teacher"?a.jsx(mH,{onNavigateToOverview:u}):null;case"progress":return t==="parent"?a.jsx(xH,{onNavigateToOverview:u}):t==="student"?a.jsx(wH,{onNavigateToOverview:u}):null;case"class-updates":return t==="parent"?a.jsx(yH,{onNavigateToOverview:u}):null;case"assignments":return t==="student"?a.jsx(bH,{onNavigateToOverview:u}):null;default:return a.jsx(d_,{userRole:t})}};return a.jsx(_k,{children:a.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-background to-muted/50 flex flex-col",children:[a.jsx(uB,{userRole:t,actualUserRole:r,availableRoles:i(),onRoleChange:s,isMobile:d}),a.jsxs("div",{className:"flex flex-1 w-full overflow-hidden",children:[!d&&a.jsx(g8,{userRole:t,activeTab:l,onTabChange:c}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[a.jsx(GU,{userRole:t,activeTab:l,onTabChange:c}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"mx-auto py-3 sm:py-6 px-2 sm:px-4 lg:px-8",children:a.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsx("div",{className:l==="dashboard"?"lg:col-span-3 order-2 lg:order-1":"lg:col-span-4",children:a.jsx(fB,{activeTab:l,children:f()})}),l==="dashboard"&&a.jsx("div",{className:"lg:col-span-1 order-1 lg:order-2",children:a.jsx(I6,{userRole:t})})]})})})]})]})]})})},CP=Ve.object({email:Ve.string().trim().min(1,"Email is required").email("Invalid email format").max(255,"Email must be less than 255 characters").refine(Um,"Invalid email format"),password:Ve.string().min(6,"Password must be at least 6 characters").max(128,"Password must be less than 128 characters")}),jH=CP.extend({firstName:Ve.string().trim().min(1,"First name is required").max(50,"First name must be less than 50 characters").transform(Wr),lastName:Ve.string().trim().min(1,"Last name is required").max(50,"Last name must be less than 50 characters").transform(Wr),confirmPassword:Ve.string(),role:Ve.enum(["admin","instructor","parent","student"],{required_error:"Role is required"}),phone:Ve.string().trim().optional().refine(e=>!e||/^\+?[\d\s\-\(\)]+$/.test(e),"Invalid phone number format")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});Ve.object({name:Ve.string().trim().min(1,"Product name is required").max(200,"Product name must be less than 200 characters").transform(Wr),description:Ve.string().trim().max(5e3,"Description must be less than 5000 characters").transform(Wr),price:Ve.number().min(0,"Price must be positive").max(99999.99,"Price must be less than $100,000"),category:Ve.string().trim().min(1,"Category is required").max(100,"Category must be less than 100 characters").transform(Wr),age_group:Ve.string().trim().max(50,"Age group must be less than 50 characters").transform(Wr),max_participants:Ve.number().int().min(1,"Must allow at least 1 participant").max(1e3,"Maximum 1000 participants allowed").optional(),duration_weeks:Ve.number().int().min(1,"Duration must be at least 1 week").max(52,"Duration cannot exceed 52 weeks").optional()});Ve.object({title:Ve.string().trim().min(1,"Class title is required").max(200,"Class title must be less than 200 characters").transform(Wr),description:Ve.string().trim().max(2e3,"Description must be less than 2000 characters").transform(Wr),start_time:Ve.string().refine(e=>!isNaN(Date.parse(e)),"Invalid start time"),end_time:Ve.string().refine(e=>!isNaN(Date.parse(e)),"Invalid end time"),max_participants:Ve.number().int().min(1,"Must allow at least 1 participant").max(100,"Maximum 100 participants allowed").optional()}).refine(e=>{const t=new Date(e.start_time);return new Date(e.end_time)>t},{message:"End time must be after start time",path:["end_time"]});Ve.object({name:Ve.string().trim().min(1,"File name is required").max(255,"File name must be less than 255 characters"),type:Ve.string().refine(e=>["image/jpeg","image/png","image/webp","video/mp4","video/webm","video/ogg","application/pdf","text/plain"].includes(e),"File type not allowed"),size:Ve.number().max(20*1024*1024,"File size must be less than 20MB")});Ve.object({name:Ve.string().trim().min(1,"Name is required").max(100,"Name must be less than 100 characters").transform(Wr),email:Ve.string().trim().email("Invalid email format").max(255,"Email must be less than 255 characters").refine(Um,"Invalid email format"),message:Ve.string().trim().min(1,"Message is required").max(2e3,"Message must be less than 2000 characters").transform(Wr)});Ve.object({email:Ve.string().trim().email("Invalid email format").max(255,"Email must be less than 255 characters").refine(Um,"Invalid email format"),role:Ve.enum(["admin","instructor","parent","student"],{required_error:"Role is required"}),message:Ve.string().trim().max(500,"Message must be less than 500 characters").optional().transform(e=>e?Wr(e):void 0)});Ve.object({storeUrl:Ve.string().trim().url("Invalid store URL").max(500,"Store URL must be less than 500 characters"),consumerKey:Ve.string().trim().min(10,"Consumer key must be at least 10 characters").max(200,"Consumer key must be less than 200 characters"),consumerSecret:Ve.string().trim().min(10,"Consumer secret must be at least 10 characters").max(200,"Consumer secret must be less than 200 characters")});const NH=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(!1),[o,l]=m.useState(!1),c=si(),{toast:d}=Qe(),u=async f=>{var p,y,x;f.preventDefault(),l(!0);try{const b=CP.safeParse({email:e,password:r});if(!b.success){const g=((p=b.error.errors[0])==null?void 0:p.message)||"Invalid input";d({title:"Validation Error",description:g,variant:"destructive"}),l(!1);return}const w=Wr(e.trim().toLowerCase()),{data:v,error:h}=await P.auth.signInWithPassword({email:w,password:r});if(h)d({title:"Login Failed",description:h.message,variant:"destructive"});else{const g=v.user;if(g){let _="teacher";const{data:j}=await P.auth.getUser();(x=(y=j==null?void 0:j.user)==null?void 0:y.user_metadata)!=null&&x.role&&(_=j.user.user_metadata.role);const k="28679f3a-f73d-41d6-b0b2-568fa226073e",{data:N,error:E}=await P.from("organization_members").select("id, role, is_active").eq("user_id",g.id).eq("organization_id",k).limit(1);if(E&&console.info("[Login] Membership check error:",E),N&&N.length>0){const R=N[0];if(R.is_active)d({title:"Membership Confirmed",description:`Role: ${R.role}`});else{const{error:T}=await P.from("organization_members").update({is_active:!0}).eq("id",R.id);d(T?{title:"Membership Error",description:`Failed to activate membership: ${T.message}`,variant:"destructive"}:{title:"Membership Activated",description:`Role: ${R.role}`})}}else{const{error:R}=await P.from("organization_members").insert([{user_id:g.id,organization_id:k,role:_,is_active:!0}]);d(R?{title:"Membership Error",description:`Failed to create membership: ${R.message}`,variant:"destructive"}:{title:"Membership Created",description:`Role: ${_}`})}}d({title:"Login Successful",description:"Welcome back to AI & Robotics Academy!"}),c("/")}}catch{d({title:"Login Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen min-h-[100dvh] bg-gradient-to-br from-primary via-primary to-secondary flex items-center justify-center p-3 sm:p-4",children:a.jsxs(ne,{className:"w-full max-w-sm sm:max-w-md shadow-2xl border-border/20",children:[a.jsxs(ke,{className:"text-center space-y-3 sm:space-y-4",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-4",children:a.jsx("img",{src:"/lovable-uploads/9edba08f-8198-41af-aa8c-4b217d59ff31.png",alt:"AI & Robotics Academy Logo",className:"h-16 w-16 sm:h-20 sm:w-20 object-contain"})}),a.jsx(Te,{className:"text-xl sm:text-2xl font-bold text-primary",children:"Welcome Back"}),a.jsx(vt,{className:"text-sm sm:text-base",children:"Sign in to AI & Robotics Academy Connect"})]}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),a.jsx(ce,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:f=>t(f.target.value),required:!0,className:"focus:ring-secondary h-11 text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:f=>n(f.target.value),required:!0,className:"focus:ring-secondary h-11 text-base pr-12",autoComplete:"current-password"}),a.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11 hover:bg-muted",onClick:()=>i(!s),tabIndex:-1,children:s?a.jsx(Xf,{className:"h-4 w-4"}):a.jsx(gn,{className:"h-4 w-4"})})]})]}),a.jsx(W,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 h-11 text-base font-medium",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(os,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]}),a.jsx("div",{className:"text-center",children:a.jsx(W,{variant:"link",className:"text-sm text-muted-foreground hover:text-secondary p-0 h-auto",children:"Forgot your password?"})}),a.jsx(Kl,{className:"my-4"}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx(rC,{to:"/signup",className:"text-secondary hover:underline font-medium hover:text-secondary/80",children:"Sign up here"})]})]})]})})},SH=()=>{const[e]=nC(),t=e.get("token"),[r,n]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"",phone:""}),[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),p=si(),{toast:y}=Qe();m.useEffect(()=>{(async()=>{if(t)try{const{data:v,error:h}=await P.rpc("validate_invitation_token",{p_token:t});if(h)throw h;v&&v.length>0&&v[0].is_valid?(n(g=>({...g,email:v[0].email,role:v[0].role})),f(!0),y({title:"Invitation Validated",description:"Please complete your registration below."})):y({title:"Invalid Invitation",description:"This invitation link is invalid or has expired.",variant:"destructive"})}catch(v){console.error("Error validating invitation:",v),y({title:"Error",description:"Failed to validate invitation.",variant:"destructive"})}})()},[t,y]);const x=(w,v)=>{n(h=>({...h,[w]:v}))},b=async w=>{var v,h;w.preventDefault(),d(!0);try{const g=jH.safeParse(r);if(!g.success){const N=((v=g.error.errors[0])==null?void 0:v.message)||"Invalid input";y({title:"Validation Error",description:N,variant:"destructive"}),d(!1);return}const _=g.data;if(t&&u){const{data:N,error:E}=await P.functions.invoke("create-invited-user",{body:{email:_.email.toLowerCase(),password:_.password,invitationToken:t,userData:{full_name:`${_.firstName} ${_.lastName}`,first_name:_.firstName,last_name:_.lastName,phone:_.phone,role:_.role}}});if(E){y({title:"Signup Failed",description:E.message||"Failed to create account",variant:"destructive"}),d(!1);return}y({title:"Account Created Successfully",description:"Your account is ready! You can now sign in with your credentials."}),p("/login"),d(!1);return}const{data:j,error:k}=await P.auth.signUp({email:_.email.toLowerCase(),password:_.password,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:`${_.firstName} ${_.lastName}`,first_name:_.firstName,last_name:_.lastName,phone:_.phone,role:_.role}}});if(k)y({title:"Signup Failed",description:k.message,variant:"destructive"});else{if(j.user){const{data:N}=await P.auth.getSession();if(N.session){const E=((h=j.user.user_metadata)==null?void 0:h.role)||_.role||"teacher",R="28679f3a-f73d-41d6-b0b2-568fa226073e",{data:T,error:L}=await P.from("organization_members").select("id").eq("user_id",j.user.id).eq("organization_id",R).limit(1);if(L&&console.log("Membership check error:",L),!T||T.length===0){const D={user_id:j.user.id,organization_id:R,role:E,is_active:!0};console.log("Insert payload:",D);const{data:C,error:M}=await P.from("organization_members").insert([D]);console.log("Insert response:",C,M)}else console.log("Membership already exists, skipping insert.")}}y({title:"Account Created Successfully",description:"Welcome to AI & Robotics Academy Connect! Please check your email to verify your account."}),p("/")}}catch{y({title:"Signup Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:a.jsxs(ne,{className:"w-full max-w-md",children:[a.jsxs(ke,{className:"text-center",children:[a.jsx(Te,{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),a.jsx(vt,{children:"Join AI & Robotics Academy Connect"})]}),a.jsxs(ie,{className:"space-y-4",children:[a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"firstName",children:"First Name"}),a.jsx(ce,{id:"firstName",placeholder:"First name",value:r.firstName,onChange:w=>x("firstName",w.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"lastName",children:"Last Name"}),a.jsx(ce,{id:"lastName",placeholder:"Last name",value:r.lastName,onChange:w=>x("lastName",w.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"email",children:"Email"}),a.jsx(ce,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:w=>x("email",w.target.value),disabled:u,required:!0}),u&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email from invitation (cannot be changed)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Q,{htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-muted-foreground text-sm",children:"(Optional)"})]}),a.jsx(ce,{id:"phone",type:"tel",placeholder:"Enter your phone number (optional)",value:r.phone,onChange:w=>x("phone",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"role",children:"I am a..."}),a.jsxs(at,{value:r.role,onValueChange:w=>x("role",w),disabled:u,children:[a.jsx(tt,{children:a.jsx(it,{placeholder:"Select your role"})}),a.jsxs(rt,{children:[a.jsx(pe,{value:"parent",children:"Parent"}),a.jsx(pe,{value:"student",children:"Student"}),a.jsx(pe,{value:"instructor",children:"Instructor"})]})]}),u&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Role from invitation (cannot be changed)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"password",type:s?"text":"password",placeholder:"Create a password",value:r.password,onChange:w=>x("password",w.target.value),required:!0}),a.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!s),children:s?a.jsx(Xf,{className:"h-4 w-4"}):a.jsx(gn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"confirmPassword",type:o?"text":"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:w=>x("confirmPassword",w.target.value),required:!0}),a.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!o),children:o?a.jsx(Xf,{className:"h-4 w-4"}):a.jsx(gn,{className:"h-4 w-4"})})]})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(os,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),a.jsx(Kl,{}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(rC,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in here"})]})]})]})})},CH=()=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0);m.useState(null);const{toast:s}=Qe(),i=async()=>{try{const{data:c,error:d}=await P.from("products").select("*").eq("is_active",!0).eq("available_for_purchase",!0).not("price","is",null).order("created_at",{ascending:!1});if(d)throw d;t(c||[])}catch(c){console.error("Error fetching products:",c),s({title:"Error",description:"Failed to fetch available products",variant:"destructive"})}finally{n(!1)}};m.useEffect(()=>{i()},[]);const o=async(c,d)=>{try{const u=d==="subscription"?"create-checkout":"create-payment",{data:f,error:p}=await P.functions.invoke(u,{body:{productId:c.id}});if(p)throw p;if(f!=null&&f.url)window.open(f.url,"_blank");else throw new Error("No checkout URL received")}catch(u){console.error("Payment error:",u),s({title:"Payment Error",description:u instanceof Error?u.message:"Failed to initiate payment",variant:"destructive"})}},l=(c,d=120)=>{const u=c.replace(/<[^>]*>/g,"");return u.length>d?u.substring(0,d)+"...":u};return r?a.jsx("div",{className:"flex justify-center items-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"hsl(25 60% 45%)"},children:"Available Programs"}),a.jsx("p",{className:"text-muted-foreground",children:"Discover and enroll in our AI & Robotics programs"})]}),e.length===0?a.jsx(ne,{className:"text-center py-12",children:a.jsxs(ie,{children:[a.jsx(kn,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No Programs Available"}),a.jsx("p",{className:"text-muted-foreground",children:"There are currently no programs available for purchase. Please check back later."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{var d;return a.jsxs(ne,{className:"overflow-hidden hover:shadow-lg transition-shadow h-[400px] flex flex-col",children:[a.jsx(ke,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Te,{className:"text-lg line-clamp-2 mb-2",children:c.name}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx(be,{variant:"outline",children:c.type}),a.jsx(be,{variant:"secondary",children:c.level})]})]}),a.jsx("div",{className:"text-right ml-4",children:a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",c.price]})})]})}),a.jsxs(ie,{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[c.description?a.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[l(c.description),c.description.length>120&&a.jsxs(gs,{children:[a.jsx(bd,{asChild:!0,children:a.jsxs(W,{variant:"link",className:"p-0 h-auto text-blue-600 ml-2",children:[a.jsx(gn,{className:"h-3 w-3 mr-1"}),"View Details"]})}),a.jsxs(In,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Ln,{children:[a.jsx(Fn,{children:c.name}),a.jsx(Ka,{children:a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(be,{variant:"outline",children:c.type}),a.jsx(be,{variant:"secondary",children:c.level})]})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-4",children:((d=c.description)==null?void 0:d.replace(/<[^>]*>/g,""))||"No description available"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),a.jsxs("span",{children:["Age Group: ",c.age_group]})]}),c.max_participants&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),a.jsxs("span",{children:["Max: ",c.max_participants," students"]})]}),c.duration_weeks&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4"}),a.jsxs("span",{children:["Duration: ",c.duration_weeks," weeks"]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",c.price]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(W,{className:"flex-1",onClick:()=>o(c,"one_time"),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Buy Once"]}),a.jsxs(W,{variant:"outline",className:"flex-1",onClick:()=>o(c,"subscription"),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Subscribe"]})]})]})]})]})]}):a.jsx(vt,{className:"mb-4",children:"Learn and explore AI & Robotics concepts through hands-on activities."}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),a.jsxs("span",{children:["Age: ",c.age_group]})]}),c.duration_weeks&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4"}),a.jsxs("span",{children:[c.duration_weeks," weeks"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(W,{className:"flex-1",onClick:()=>o(c,"one_time"),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Buy Once"]}),a.jsxs(W,{variant:"outline",className:"flex-1",onClick:()=>o(c,"subscription"),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Subscribe"]})]})]})]},c.id)})})]})},kH=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center h-16",children:a.jsx("div",{className:"flex items-center",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI & Robotics Academy"})})})})}),a.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:a.jsx(CH,{})})]}),EH=()=>{const e=ql();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function TH(){const[e]=nC(),t=e.get("q")||"";return m.useEffect(()=>{if(!t)return;const r=`https://www.google.com/maps/search/${encodeURIComponent(t).replace(/%20/g,"+")}`;try{window.location.replace(r)}catch{window.location.href=r}},[t]),a.jsx("main",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Opening Maps…"}),t&&a.jsx("a",{className:"text-primary underline",href:`https://www.google.com/maps/search/${encodeURIComponent(t).replace(/%20/g,"+")}`,children:"Click here if you are not redirected"})]})})}const PH=new TI,MH=()=>a.jsx(OI,{client:PH,children:a.jsx(dO,{attribute:"class",defaultTheme:"light",themes:["light","dark","air"],enableSystem:!1,storageKey:"app-theme",enableColorScheme:!1,children:a.jsxs(TS,{children:[a.jsx(oO,{}),a.jsx($O,{}),a.jsx(z3,{children:a.jsxs(R3,{children:[a.jsx(mi,{path:"/",element:a.jsx(_H,{})}),a.jsx(mi,{path:"/login",element:a.jsx(NH,{})}),a.jsx(mi,{path:"/signup",element:a.jsx(SH,{})}),a.jsx(mi,{path:"/purchase",element:a.jsx(kH,{})}),a.jsx(mi,{path:"/map",element:a.jsx(TH,{})}),a.jsx(mi,{path:"*",element:a.jsx(EH,{})})]})})]})})});gN(document.getElementById("root")).render(a.jsx(MH,{}));
